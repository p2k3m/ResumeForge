
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.js

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:82337) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-11-30T16:03:51.383Z","level":"info","message":"http_request_received","requestId":"956ff9c4-6266-49bb-a657-aff2069eda9f","method":"GET","path":"/healthz","template":"unknown","session":"956ff9c4-6266-49bb-a657-aff2069eda9f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"956ff9c4-6266-49bb-a657-aff2069eda9f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.704Z","level":"info","message":"http_request_completed","requestId":"956ff9c4-6266-49bb-a657-aff2069eda9f","method":"GET","path":"/healthz","statusCode":200,"durationMs":321,"contentLength":"15","template":"unknown","session":"956ff9c4-6266-49bb-a657-aff2069eda9f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"956ff9c4-6266-49bb-a657-aff2069eda9f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.717Z","level":"info","message":"http_request_received","requestId":"08a4316c-c39e-4dba-bd51-669179bfe438","method":"GET","path":"/favicon.ico","template":"unknown","session":"08a4316c-c39e-4dba-bd51-669179bfe438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08a4316c-c39e-4dba-bd51-669179bfe438","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.720Z","level":"info","message":"http_request_completed","requestId":"08a4316c-c39e-4dba-bd51-669179bfe438","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":3,"template":"unknown","session":"08a4316c-c39e-4dba-bd51-669179bfe438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"08a4316c-c39e-4dba-bd51-669179bfe438","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.724Z","level":"info","message":"http_request_received","requestId":"b1e505d9-b925-44ff-a633-12f16af78aa5","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"b1e505d9-b925-44ff-a633-12f16af78aa5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1e505d9-b925-44ff-a633-12f16af78aa5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.729Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.730Z","level":"info","message":"http_request_completed","requestId":"b1e505d9-b925-44ff-a633-12f16af78aa5","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":6,"contentLength":"18","template":"unknown","session":"b1e505d9-b925-44ff-a633-12f16af78aa5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1e505d9-b925-44ff-a633-12f16af78aa5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.735Z","level":"info","message":"http_request_received","requestId":"950571e8-08d5-430e-9245-ab4c934a20d9","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"950571e8-08d5-430e-9245-ab4c934a20d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"950571e8-08d5-430e-9245-ab4c934a20d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.740Z","level":"info","message":"http_request_completed","requestId":"950571e8-08d5-430e-9245-ab4c934a20d9","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":5,"contentLength":"52930","template":"unknown","session":"950571e8-08d5-430e-9245-ab4c934a20d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"950571e8-08d5-430e-9245-ab4c934a20d9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.742Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.745Z","level":"info","message":"http_request_received","requestId":"e3559d2c-a8da-465c-b105-cf55d98f6003","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"e3559d2c-a8da-465c-b105-cf55d98f6003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3559d2c-a8da-465c-b105-cf55d98f6003","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.748Z","level":"info","message":"http_request_completed","requestId":"e3559d2c-a8da-465c-b105-cf55d98f6003","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":2,"contentLength":"52930","template":"unknown","session":"e3559d2c-a8da-465c-b105-cf55d98f6003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3559d2c-a8da-465c-b105-cf55d98f6003","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.748Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.751Z","level":"info","message":"http_request_received","requestId":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.755Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.755Z","level":"info","message":"http_request_completed","requestId":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":4,"contentLength":"1234","template":"unknown","session":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a94d8287-9d6c-4a06-b04e-067ca5bae6f8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.759Z","level":"info","message":"http_request_received","requestId":"f59b7f37-2f95-41a7-8e56-53265db3c70d","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"f59b7f37-2f95-41a7-8e56-53265db3c70d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f59b7f37-2f95-41a7-8e56-53265db3c70d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.763Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.764Z","level":"info","message":"http_request_completed","requestId":"f59b7f37-2f95-41a7-8e56-53265db3c70d","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":5,"contentLength":"23","template":"unknown","session":"f59b7f37-2f95-41a7-8e56-53265db3c70d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f59b7f37-2f95-41a7-8e56-53265db3c70d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.767Z","level":"info","message":"http_request_received","requestId":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.770Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.770Z","level":"info","message":"http_request_completed","requestId":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":3,"contentLength":"31","template":"unknown","session":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e2378b2-77ae-4e37-8bd2-cd336bbfcf10","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.775Z","level":"info","message":"http_request_received","requestId":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.778Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.779Z","level":"info","message":"http_request_completed","requestId":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":4,"contentLength":"26","template":"unknown","session":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c11779d4-799d-4bb4-8eee-6f0a025cc9db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:51.781Z","level":"info","message":"http_request_received","requestId":"97dd6397-a605-49d5-a214-5fe6aefbb8df","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"97dd6397-a605-49d5-a214-5fe6aefbb8df","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97dd6397-a605-49d5-a214-5fe6aefbb8df","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.256Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:534:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1371:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1482:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at handleIndexAssetAliasRequest (server.js:1371:24)
      at serveIndexAssetAlias (server.js:1482:3)

  console.log
    {"timestamp":"2025-11-30T16:03:52.265Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.266Z","level":"info","message":"http_request_completed","requestId":"97dd6397-a605-49d5-a214-5fe6aefbb8df","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":485,"contentLength":"26","template":"unknown","session":"97dd6397-a605-49d5-a214-5fe6aefbb8df","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"97dd6397-a605-49d5-a214-5fe6aefbb8df","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.271Z","level":"info","message":"http_request_received","requestId":"6c1b82e1-2d44-43d0-9945-18f48c70f401","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"6c1b82e1-2d44-43d0-9945-18f48c70f401","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c1b82e1-2d44-43d0-9945-18f48c70f401","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.274Z","level":"info","message":"http_request_completed","requestId":"6c1b82e1-2d44-43d0-9945-18f48c70f401","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":3,"contentLength":"52930","template":"unknown","session":"6c1b82e1-2d44-43d0-9945-18f48c70f401","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c1b82e1-2d44-43d0-9945-18f48c70f401","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.275Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.278Z","level":"info","message":"http_request_received","requestId":"165eeb32-41c1-4bc4-a4e7-27288f212e49","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"165eeb32-41c1-4bc4-a4e7-27288f212e49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"165eeb32-41c1-4bc4-a4e7-27288f212e49","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.280Z","level":"info","message":"http_request_completed","requestId":"165eeb32-41c1-4bc4-a4e7-27288f212e49","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":2,"contentLength":"52930","template":"unknown","session":"165eeb32-41c1-4bc4-a4e7-27288f212e49","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"165eeb32-41c1-4bc4-a4e7-27288f212e49","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.281Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.284Z","level":"info","message":"http_request_received","requestId":"e31c0c67-2998-4261-becc-81b6b5723b4c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"e31c0c67-2998-4261-becc-81b6b5723b4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e31c0c67-2998-4261-becc-81b6b5723b4c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.286Z","level":"info","message":"http_request_completed","requestId":"e31c0c67-2998-4261-becc-81b6b5723b4c","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":2,"contentLength":"52930","template":"unknown","session":"e31c0c67-2998-4261-becc-81b6b5723b4c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e31c0c67-2998-4261-becc-81b6b5723b4c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.287Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.290Z","level":"info","message":"http_request_received","requestId":"b1f97646-e6ee-462a-a14b-0967f90cf682","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"b1f97646-e6ee-462a-a14b-0967f90cf682","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1f97646-e6ee-462a-a14b-0967f90cf682","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.293Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"assets/index-123.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-123.css","s3Key":"assets/index-123.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.294Z","level":"info","message":"http_request_completed","requestId":"b1f97646-e6ee-462a-a14b-0967f90cf682","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":4,"contentLength":"32","template":"unknown","session":"b1f97646-e6ee-462a-a14b-0967f90cf682","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1f97646-e6ee-462a-a14b-0967f90cf682","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.297Z","level":"info","message":"http_request_received","requestId":"aa216c44-c15c-439a-870b-d40ca35071ba","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","template":"unknown","session":"aa216c44-c15c-439a-870b-d40ca35071ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa216c44-c15c-439a-870b-d40ca35071ba","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.299Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:714:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:18978:30)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at server.js:18978:24

  console.log
    {"timestamp":"2025-11-30T16:03:52.306Z","level":"info","message":"http_request_completed","requestId":"aa216c44-c15c-439a-870b-d40ca35071ba","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-123.css","statusCode":200,"durationMs":9,"contentLength":"52930","template":"unknown","session":"aa216c44-c15c-439a-870b-d40ca35071ba","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa216c44-c15c-439a-870b-d40ca35071ba","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.307Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-123.css","proxy":true,"degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.307Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-123.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:19030:9)

  console.log
    {"timestamp":"2025-11-30T16:03:52.315Z","level":"info","message":"http_request_received","requestId":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","method":"GET","path":"/assets/index-123.css","template":"unknown","session":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.317Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-123.css","path":"/assets/index-123.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:760:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1112:32)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1168:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1131:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1168:18)

  console.log
    {"timestamp":"2025-11-30T16:03:52.323Z","level":"info","message":"http_request_completed","requestId":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","method":"GET","path":"/assets/index-123.css","statusCode":200,"durationMs":8,"contentLength":"52930","template":"unknown","session":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5e6a91c-c6ef-48bf-ab7d-202bae5e1000","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.324Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-123.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.325Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-123.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:1220:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.331Z","level":"info","message":"http_request_received","requestId":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.333Z","level":"warn","message":"api_error_response","requestId":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"9741e72b-6f63-41c9-bf83-48f2c224a1eb"},"template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:18914:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-11-30T16:03:52.342Z","level":"info","message":"http_request_completed","requestId":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":11,"contentLength":"182","template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9741e72b-6f63-41c9-bf83-48f2c224a1eb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.347Z","level":"info","message":"http_request_received","requestId":"c775adc9-8246-4077-9f8d-fecb44102bdc","method":"GET","path":"/api/static-manifest","template":"unknown","session":"c775adc9-8246-4077-9f8d-fecb44102bdc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c775adc9-8246-4077-9f8d-fecb44102bdc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.349Z","level":"info","message":"http_request_completed","requestId":"c775adc9-8246-4077-9f8d-fecb44102bdc","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":2,"contentLength":"301","template":"unknown","session":"c775adc9-8246-4077-9f8d-fecb44102bdc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c775adc9-8246-4077-9f8d-fecb44102bdc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.351Z","level":"info","message":"http_request_received","requestId":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","method":"GET","path":"/api/static-manifest","template":"unknown","session":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.353Z","level":"info","message":"http_request_completed","requestId":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":2,"contentLength":"195","template":"unknown","session":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f610c00-8c0d-4a37-8d2a-eb34eec259a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.355Z","level":"info","message":"http_request_received","requestId":"d018774e-7902-4903-b124-2da1a89f65c9","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"d018774e-7902-4903-b124-2da1a89f65c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d018774e-7902-4903-b124-2da1a89f65c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.356Z","level":"info","message":"http_request_completed","requestId":"d018774e-7902-4903-b124-2da1a89f65c9","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":1,"contentLength":"195","template":"unknown","session":"d018774e-7902-4903-b124-2da1a89f65c9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d018774e-7902-4903-b124-2da1a89f65c9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.358Z","level":"info","message":"http_request_received","requestId":"7c785276-6e1b-4864-adde-c59775d45145","method":"GET","path":"/api/static-manifest","template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.360Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:858:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at send (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7642:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at executeWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7645:16)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:851:30)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:934:4)\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19050:28)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:926:7)
      at loadStaticAssetManifestFromS3 (server.js:941:12)
      at server.js:19050:22

  console.error
    {"timestamp":"2025-11-30T16:03:52.366Z","level":"error","message":"api_error_response","requestId":"7c785276-6e1b-4864-adde-c59775d45145","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"7c785276-6e1b-4864-adde-c59775d45145"},"template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:19055:14)

  console.log
    {"timestamp":"2025-11-30T16:03:52.372Z","level":"info","message":"http_request_completed","requestId":"7c785276-6e1b-4864-adde-c59775d45145","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":14,"contentLength":"216","template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7c785276-6e1b-4864-adde-c59775d45145","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.376Z","level":"info","message":"http_request_received","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","method":"POST","path":"/api/process-cv","template":"unknown","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.392Z","level":"info","message":"process_cv_started","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","manualJobDescriptionProvided":true,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.394Z","level":"info","message":"template_selection","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.395Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.402Z","level":"info","message":"initial_upload_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","bucket":"test-bucket","key":"cv/candidate/f1ca875e-49f0-43b4-add4-f219cd8bce3e/incoming/original.pdf","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.417Z","level":"info","message":"resume_text_extracted","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","characters":57,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.418Z","level":"info","message":"resume_classified","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.420Z","level":"info","message":"raw_upload_relocated","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","bucket":"test-bucket","fromKey":"cv/candidate/f1ca875e-49f0-43b4-add4-f219cd8bce3e/incoming/original.pdf","toKey":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/original.pdf","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.421Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","bucket":"test-bucket","key":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/original.pdf","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.422Z","level":"info","message":"dynamo_initial_record_written","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","bucket":"test-bucket","key":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/original.pdf","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.423Z","level":"info","message":"upload_metadata_written","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","bucket":"test-bucket","key":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/logs/log.json","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.423Z","level":"info","message":"job_description_supplied_manually","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","characters":174,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.425Z","level":"info","message":"job_description_analyzed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","jobTitle":"","jobSkills":5,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.430Z","level":"info","message":"resume_skills_analyzed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.437Z","level":"info","message":"llm_call_metrics","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.441Z","level":"info","message":"process_cv_scoring_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.466Z","level":"info","message":"llm_call_metrics","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.467Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.468Z","level":"info","message":"llm_call_metrics","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.481Z","level":"info","message":"generation_resume_verified","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.500Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.510Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.515Z","level":"info","message":"generation_cover_letters_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","variants":2,"fallbackApplied":true,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.518Z","level":"info","message":"pdf_generation_attempt","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/enhanced_modern.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.519Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.519Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/enhanced_modern.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.521Z","level":"info","message":"pdf_generation_attempt","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/enhanced_professional.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.521Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.522Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/enhanced_professional.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.523Z","level":"info","message":"pdf_generation_attempt","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/cover_letter_cover_modern.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.526Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/cover_letter_cover_modern.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.527Z","level":"info","message":"pdf_generation_attempt","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/cover_letter_cover_professional.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.528Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.528Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f1ca875e-49f0-43b4-add4-f219cd8bce3e/cover_letter_cover_professional.pdf","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.536Z","level":"info","message":"llm_call_metrics","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.538Z","level":"info","message":"generation_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","generationRunId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","enhancedScore":80,"outputs":5,"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.541Z","level":"info","message":"placeholder_record_deleted","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","jobId":"8134d94c-ad2f-4440-a120-38f79a37d3e8","placeholderIdentifier":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8134d94c-ad2f-4440-a120-38f79a37d3e8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.542Z","level":"info","message":"http_request_completed","requestId":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":166,"contentLength":"58133","template":"unknown","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1ca875e-49f0-43b4-add4-f219cd8bce3e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.546Z","level":"info","message":"http_request_received","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","method":"POST","path":"/api/process-cv","template":"unknown","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.557Z","level":"info","message":"process_cv_started","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","manualJobDescriptionProvided":true,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.558Z","level":"info","message":"template_selection","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.558Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.564Z","level":"info","message":"initial_upload_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","bucket":"test-bucket","key":"cv/candidate/449be342-83e8-45fb-96db-aa18f5c6b2fc/incoming/original.pdf","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.569Z","level":"info","message":"resume_text_extracted","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","characters":57,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.570Z","level":"info","message":"resume_classified","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.570Z","level":"info","message":"raw_upload_relocated","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","bucket":"test-bucket","fromKey":"cv/candidate/449be342-83e8-45fb-96db-aa18f5c6b2fc/incoming/original.pdf","toKey":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/original.pdf","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.571Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","bucket":"test-bucket","key":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/original.pdf","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.572Z","level":"info","message":"dynamo_initial_record_written","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","bucket":"test-bucket","key":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/original.pdf","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.572Z","level":"info","message":"upload_metadata_written","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","bucket":"test-bucket","key":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/logs/log.json","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.572Z","level":"info","message":"job_description_supplied_manually","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","characters":174,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.573Z","level":"info","message":"job_description_analyzed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","jobTitle":"","jobSkills":5,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.574Z","level":"info","message":"resume_skills_analyzed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.575Z","level":"info","message":"llm_call_metrics","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.576Z","level":"info","message":"process_cv_scoring_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.585Z","level":"info","message":"llm_call_metrics","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.585Z","level":"info","message":"generation_section_rewrite_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.586Z","level":"info","message":"llm_call_metrics","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.590Z","level":"info","message":"generation_resume_verified","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.595Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.604Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.610Z","level":"info","message":"generation_cover_letters_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","variants":2,"fallbackApplied":true,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.611Z","level":"info","message":"pdf_generation_attempt","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/enhanced_modern.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.612Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.612Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/enhanced_modern.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.613Z","level":"info","message":"pdf_generation_attempt","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/enhanced_professional.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.614Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.614Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/enhanced_professional.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.615Z","level":"info","message":"pdf_generation_attempt","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/cover_letter_cover_modern.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.615Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.616Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/cover_letter_cover_modern.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.617Z","level":"info","message":"pdf_generation_attempt","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/cover_letter_cover_professional.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.617Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.618Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/449be342-83e8-45fb-96db-aa18f5c6b2fc/cover_letter_cover_professional.pdf","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.622Z","level":"info","message":"llm_call_metrics","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.623Z","level":"info","message":"generation_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","generationRunId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","enhancedScore":80,"outputs":5,"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.624Z","level":"info","message":"placeholder_record_deleted","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","jobId":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","placeholderIdentifier":"449be342-83e8-45fb-96db-aa18f5c6b2fc","template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60f0f78f-84bc-4706-b097-8c3c4ce1b4f0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.626Z","level":"info","message":"http_request_completed","requestId":"449be342-83e8-45fb-96db-aa18f5c6b2fc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":80,"contentLength":"58133","template":"unknown","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"449be342-83e8-45fb-96db-aa18f5c6b2fc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.636Z","level":"info","message":"http_request_received","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","method":"POST","path":"/api/process-cv","template":"unknown","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.638Z","level":"info","message":"process_cv_started","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","manualJobDescriptionProvided":true,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.639Z","level":"info","message":"template_selection","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.639Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.648Z","level":"info","message":"initial_upload_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","key":"cv/candidate/591caba8-d3be-4531-9f19-f2ded1846f9a/incoming/original.pdf","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.649Z","level":"info","message":"resume_text_extracted","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","characters":57,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.650Z","level":"info","message":"resume_classified","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.650Z","level":"info","message":"raw_upload_relocated","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","fromKey":"cv/candidate/591caba8-d3be-4531-9f19-f2ded1846f9a/incoming/original.pdf","toKey":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/original.pdf","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.651Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","key":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/original.pdf","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.651Z","level":"info","message":"dynamo_initial_record_written","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","key":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/original.pdf","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.651Z","level":"info","message":"upload_metadata_written","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","key":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/logs/log.json","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.652Z","level":"info","message":"session_transition_change_log_removed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.652Z","level":"info","message":"job_description_supplied_manually","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","characters":174,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.653Z","level":"info","message":"job_description_analyzed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","jobTitle":"","jobSkills":5,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.653Z","level":"info","message":"resume_skills_analyzed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.654Z","level":"info","message":"llm_call_metrics","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.655Z","level":"info","message":"process_cv_scoring_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.659Z","level":"info","message":"llm_call_metrics","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.660Z","level":"info","message":"generation_section_rewrite_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.660Z","level":"info","message":"llm_call_metrics","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.667Z","level":"info","message":"generation_resume_verified","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.674Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.680Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.686Z","level":"info","message":"generation_cover_letters_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","variants":2,"fallbackApplied":true,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.687Z","level":"info","message":"pdf_generation_attempt","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/enhanced_modern.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.688Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.689Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/enhanced_modern.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.690Z","level":"info","message":"pdf_generation_attempt","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/enhanced_professional.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.691Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.691Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/enhanced_professional.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.692Z","level":"info","message":"pdf_generation_attempt","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/cover_letter_cover_modern.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.693Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/cover_letter_cover_modern.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.694Z","level":"info","message":"pdf_generation_attempt","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/cover_letter_cover_professional.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.695Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/591caba8-d3be-4531-9f19-f2ded1846f9a/cover_letter_cover_professional.pdf","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.699Z","level":"info","message":"llm_call_metrics","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.700Z","level":"info","message":"generation_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","generationRunId":"591caba8-d3be-4531-9f19-f2ded1846f9a","enhancedScore":80,"outputs":5,"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.703Z","level":"info","message":"placeholder_record_deleted","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","jobId":"413fe22a-4f55-44d3-b270-ae1f4d230110","placeholderIdentifier":"591caba8-d3be-4531-9f19-f2ded1846f9a","template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"413fe22a-4f55-44d3-b270-ae1f4d230110","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.704Z","level":"info","message":"http_request_completed","requestId":"591caba8-d3be-4531-9f19-f2ded1846f9a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"58133","template":"unknown","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"591caba8-d3be-4531-9f19-f2ded1846f9a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.709Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.711Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.712Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.713Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.719Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.719Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.720Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.720Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.720Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.721Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.721Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.722Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.722Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.723Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.724Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.725Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.728Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.729Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.729Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.733Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.740Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.746Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.752Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.753Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.753Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.754Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.755Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.755Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.756Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.756Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.757Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.757Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.758Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.759Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.762Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.765Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.767Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.770Z","level":"info","message":"http_request_received","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","method":"POST","path":"/api/process-cv","template":"unknown","session":"8246a04d-6d74-406d-aa75-874d8d9d6e32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8246a04d-6d74-406d-aa75-874d8d9d6e32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.773Z","level":"info","message":"process_cv_started","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","jobId":"7f700661-c1c5-4442-96b9-9baca2efeb86","manualJobDescriptionProvided":false,"template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.774Z","level":"info","message":"template_selection","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","jobId":"7f700661-c1c5-4442-96b9-9baca2efeb86","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.774Z","level":"warn","message":"job_description_missing","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","jobId":"7f700661-c1c5-4442-96b9-9baca2efeb86","template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24924:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.780Z","level":"warn","message":"api_error_response","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","jobId":"7f700661-c1c5-4442-96b9-9baca2efeb86","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","jobId":"7f700661-c1c5-4442-96b9-9baca2efeb86"},"template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f700661-c1c5-4442-96b9-9baca2efeb86","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24925:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.786Z","level":"info","message":"http_request_completed","requestId":"8246a04d-6d74-406d-aa75-874d8d9d6e32","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":16,"contentLength":"244","template":"unknown","session":"8246a04d-6d74-406d-aa75-874d8d9d6e32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8246a04d-6d74-406d-aa75-874d8d9d6e32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.788Z","level":"info","message":"http_request_received","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","method":"POST","path":"/api/process-cv","template":"unknown","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.789Z","level":"info","message":"process_cv_started","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","manualJobDescriptionProvided":true,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.790Z","level":"info","message":"template_selection","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.791Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.796Z","level":"info","message":"initial_upload_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","bucket":"test-bucket","key":"cv/candidate/3787ffb8-52aa-47fd-8118-f5ddf0c89022/incoming/original.pdf","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.798Z","level":"info","message":"resume_text_extracted","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","characters":57,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.798Z","level":"info","message":"resume_classified","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.799Z","level":"info","message":"raw_upload_relocated","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","bucket":"test-bucket","fromKey":"cv/candidate/3787ffb8-52aa-47fd-8118-f5ddf0c89022/incoming/original.pdf","toKey":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/original.pdf","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.799Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","bucket":"test-bucket","key":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/original.pdf","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.799Z","level":"info","message":"dynamo_initial_record_written","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","bucket":"test-bucket","key":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/original.pdf","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.800Z","level":"info","message":"upload_metadata_written","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","bucket":"test-bucket","key":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/logs/log.json","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.800Z","level":"info","message":"job_description_supplied_manually","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","characters":59,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.800Z","level":"info","message":"job_description_analyzed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","jobTitle":"","jobSkills":5,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.802Z","level":"info","message":"resume_skills_analyzed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.802Z","level":"info","message":"llm_call_metrics","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.803Z","level":"info","message":"process_cv_scoring_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.807Z","level":"info","message":"llm_call_metrics","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.807Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.808Z","level":"info","message":"llm_call_metrics","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.816Z","level":"info","message":"generation_resume_verified","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.823Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.829Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.834Z","level":"info","message":"generation_cover_letters_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","variants":2,"fallbackApplied":true,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.835Z","level":"info","message":"pdf_generation_attempt","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/enhanced_modern.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.835Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.836Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/enhanced_modern.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.837Z","level":"info","message":"pdf_generation_attempt","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/enhanced_professional.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.837Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.838Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/enhanced_professional.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.838Z","level":"info","message":"pdf_generation_attempt","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/cover_letter_cover_modern.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.839Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.839Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/cover_letter_cover_modern.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.840Z","level":"info","message":"pdf_generation_attempt","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/cover_letter_cover_professional.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.840Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.841Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3787ffb8-52aa-47fd-8118-f5ddf0c89022/cover_letter_cover_professional.pdf","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.844Z","level":"info","message":"llm_call_metrics","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.845Z","level":"info","message":"generation_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","generationRunId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","enhancedScore":80,"outputs":5,"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.847Z","level":"info","message":"placeholder_record_deleted","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","jobId":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","placeholderIdentifier":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"724cc3ad-d74e-4fe5-bcd9-b8e5e742cbb9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.848Z","level":"info","message":"http_request_completed","requestId":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"55048","template":"unknown","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3787ffb8-52aa-47fd-8118-f5ddf0c89022","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.851Z","level":"info","message":"http_request_received","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","method":"POST","path":"/api/process-cv","template":"unknown","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.853Z","level":"info","message":"process_cv_started","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","manualJobDescriptionProvided":true,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.853Z","level":"info","message":"template_selection","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.854Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.860Z","level":"info","message":"initial_upload_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","bucket":"test-bucket","key":"cv/candidate/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/incoming/original.pdf","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.862Z","level":"info","message":"resume_text_extracted","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","characters":57,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.862Z","level":"info","message":"resume_classified","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.863Z","level":"info","message":"raw_upload_relocated","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","bucket":"test-bucket","fromKey":"cv/candidate/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/incoming/original.pdf","toKey":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/original.pdf","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.863Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","bucket":"test-bucket","key":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/original.pdf","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.864Z","level":"info","message":"dynamo_initial_record_written","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","bucket":"test-bucket","key":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/original.pdf","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.864Z","level":"info","message":"upload_metadata_written","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","bucket":"test-bucket","key":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/logs/log.json","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.865Z","level":"info","message":"job_description_supplied_manually","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","characters":32,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.865Z","level":"info","message":"job_description_analyzed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","jobTitle":"","jobSkills":5,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.866Z","level":"info","message":"resume_skills_analyzed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.866Z","level":"info","message":"llm_call_metrics","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.867Z","level":"info","message":"process_cv_scoring_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.871Z","level":"info","message":"llm_call_metrics","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.871Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.872Z","level":"info","message":"llm_call_metrics","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.875Z","level":"info","message":"generation_resume_verified","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.879Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.886Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.891Z","level":"info","message":"generation_cover_letters_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","variants":2,"fallbackApplied":true,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.891Z","level":"info","message":"pdf_generation_attempt","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/enhanced_modern.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.892Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.892Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/enhanced_modern.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.893Z","level":"info","message":"pdf_generation_attempt","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/enhanced_professional.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.893Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.894Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/enhanced_professional.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.894Z","level":"info","message":"pdf_generation_attempt","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/cover_letter_cover_modern.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.895Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.895Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/cover_letter_cover_modern.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.896Z","level":"info","message":"pdf_generation_attempt","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/cover_letter_cover_professional.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.896Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.897Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6b51b0a9-90b8-43fe-af28-db53e8d7c74e/cover_letter_cover_professional.pdf","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.899Z","level":"info","message":"llm_call_metrics","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.900Z","level":"info","message":"generation_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","generationRunId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","enhancedScore":80,"outputs":5,"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.902Z","level":"info","message":"placeholder_record_deleted","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","jobId":"25085a87-0161-4404-b929-ab7611248730","placeholderIdentifier":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"25085a87-0161-4404-b929-ab7611248730","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.903Z","level":"info","message":"http_request_completed","requestId":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"53771","template":"unknown","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b51b0a9-90b8-43fe-af28-db53e8d7c74e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.906Z","level":"info","message":"http_request_received","requestId":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","method":"POST","path":"/api/process-cv","template":"unknown","session":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.908Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","jobId":"036cff72-5908-4469-b4c1-2c046dcfe564","template":"unknown","session":"036cff72-5908-4469-b4c1-2c046dcfe564","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"036cff72-5908-4469-b4c1-2c046dcfe564","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24817:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.914Z","level":"warn","message":"api_error_response","requestId":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","jobId":"036cff72-5908-4469-b4c1-2c046dcfe564","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","jobId":"036cff72-5908-4469-b4c1-2c046dcfe564"},"template":"unknown","session":"036cff72-5908-4469-b4c1-2c046dcfe564","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"036cff72-5908-4469-b4c1-2c046dcfe564","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24818:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.919Z","level":"info","message":"http_request_completed","requestId":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":13,"contentLength":"271","template":"unknown","session":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9096a9d2-ceb2-4f30-9391-1b7c8bdbff0b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.922Z","level":"info","message":"http_request_received","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","method":"POST","path":"/api/process-cv","template":"unknown","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.924Z","level":"info","message":"process_cv_started","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","manualJobDescriptionProvided":true,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.925Z","level":"info","message":"template_selection","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.926Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.931Z","level":"info","message":"initial_upload_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","bucket":"test-bucket","key":"cv/candidate/4081dd28-d66f-4574-b53e-f71b015bbd8d/incoming/original.pdf","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.932Z","level":"info","message":"resume_text_extracted","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","characters":57,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.932Z","level":"info","message":"resume_classified","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.933Z","level":"info","message":"raw_upload_relocated","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","bucket":"test-bucket","fromKey":"cv/candidate/4081dd28-d66f-4574-b53e-f71b015bbd8d/incoming/original.pdf","toKey":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/original.pdf","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.933Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","bucket":"test-bucket","key":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/original.pdf","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.933Z","level":"info","message":"dynamo_initial_record_written","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","bucket":"test-bucket","key":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/original.pdf","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.934Z","level":"info","message":"upload_metadata_written","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","bucket":"test-bucket","key":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/logs/log.json","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.934Z","level":"info","message":"job_description_supplied_manually","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","characters":31,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.934Z","level":"info","message":"job_description_analyzed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","jobTitle":"","jobSkills":5,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.935Z","level":"info","message":"resume_skills_analyzed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.935Z","level":"info","message":"llm_call_metrics","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.937Z","level":"info","message":"process_cv_scoring_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.939Z","level":"info","message":"llm_call_metrics","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.940Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.940Z","level":"info","message":"llm_call_metrics","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.943Z","level":"info","message":"generation_resume_verified","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.947Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:52.954Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:52.959Z","level":"info","message":"generation_cover_letters_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","variants":2,"fallbackApplied":true,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.960Z","level":"info","message":"pdf_generation_attempt","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/enhanced_modern.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.960Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.961Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/enhanced_modern.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.961Z","level":"info","message":"pdf_generation_attempt","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/enhanced_professional.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.962Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.962Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/enhanced_professional.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.963Z","level":"info","message":"pdf_generation_attempt","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/cover_letter_cover_modern.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.963Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.963Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/cover_letter_cover_modern.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.964Z","level":"info","message":"pdf_generation_attempt","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/cover_letter_cover_professional.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.965Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.965Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4081dd28-d66f-4574-b53e-f71b015bbd8d/cover_letter_cover_professional.pdf","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.968Z","level":"info","message":"llm_call_metrics","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.970Z","level":"info","message":"generation_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","generationRunId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","enhancedScore":80,"outputs":5,"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.971Z","level":"info","message":"placeholder_record_deleted","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","jobId":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","placeholderIdentifier":"4081dd28-d66f-4574-b53e-f71b015bbd8d","template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1a13ace-bde0-4d75-9d66-584ed2b29ef3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.972Z","level":"info","message":"http_request_completed","requestId":"4081dd28-d66f-4574-b53e-f71b015bbd8d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"53718","template":"unknown","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4081dd28-d66f-4574-b53e-f71b015bbd8d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.976Z","level":"info","message":"http_request_received","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","method":"POST","path":"/api/process-cv","template":"unknown","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.978Z","level":"info","message":"process_cv_started","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","manualJobDescriptionProvided":true,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.979Z","level":"info","message":"template_selection","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:52.979Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:52.985Z","level":"info","message":"initial_upload_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","bucket":"test-bucket","key":"cv/candidate/ac7ad608-2849-46fa-b3a9-9490b93880e7/incoming/original.pdf","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.985Z","level":"info","message":"resume_text_extracted","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","characters":57,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.986Z","level":"info","message":"resume_classified","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.988Z","level":"info","message":"raw_upload_relocated","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","bucket":"test-bucket","fromKey":"cv/candidate/ac7ad608-2849-46fa-b3a9-9490b93880e7/incoming/original.pdf","toKey":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/original.pdf","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.988Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","bucket":"test-bucket","key":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/original.pdf","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.989Z","level":"info","message":"dynamo_initial_record_written","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","bucket":"test-bucket","key":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/original.pdf","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.989Z","level":"info","message":"upload_metadata_written","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","bucket":"test-bucket","key":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/logs/log.json","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.989Z","level":"info","message":"job_description_supplied_manually","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","characters":174,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.990Z","level":"info","message":"job_description_analyzed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","jobTitle":"","jobSkills":5,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.990Z","level":"info","message":"resume_skills_analyzed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.991Z","level":"info","message":"llm_call_metrics","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.992Z","level":"info","message":"process_cv_scoring_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.994Z","level":"info","message":"llm_call_metrics","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.994Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.995Z","level":"info","message":"llm_call_metrics","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:52.997Z","level":"info","message":"generation_resume_verified","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.001Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.007Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.012Z","level":"info","message":"generation_cover_letters_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","variants":2,"fallbackApplied":true,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.012Z","level":"info","message":"pdf_generation_attempt","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/enhanced_modern.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.013Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.013Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/enhanced_modern.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.014Z","level":"info","message":"pdf_generation_attempt","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/enhanced_professional.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.014Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.015Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/enhanced_professional.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.015Z","level":"info","message":"pdf_generation_attempt","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/cover_letter_cover_modern.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.016Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.016Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/cover_letter_cover_modern.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.017Z","level":"info","message":"pdf_generation_attempt","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/cover_letter_cover_professional.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.017Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.018Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ac7ad608-2849-46fa-b3a9-9490b93880e7/cover_letter_cover_professional.pdf","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.021Z","level":"info","message":"llm_call_metrics","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.027Z","level":"info","message":"generation_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","generationRunId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","enhancedScore":80,"outputs":5,"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.030Z","level":"info","message":"placeholder_record_deleted","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","jobId":"39be088b-01b5-4036-b2ab-de76a1555c8e","placeholderIdentifier":"ac7ad608-2849-46fa-b3a9-9490b93880e7","template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39be088b-01b5-4036-b2ab-de76a1555c8e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.031Z","level":"info","message":"http_request_completed","requestId":"ac7ad608-2849-46fa-b3a9-9490b93880e7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"58133","template":"unknown","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac7ad608-2849-46fa-b3a9-9490b93880e7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.035Z","level":"info","message":"http_request_received","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","method":"POST","path":"/api/process-cv","template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.037Z","level":"info","message":"process_cv_started","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","manualJobDescriptionProvided":true,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.037Z","level":"info","message":"template_selection","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.038Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.043Z","level":"info","message":"initial_upload_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","bucket":"test-bucket","key":"cv/candidate/2cfa084d-6e54-4e76-aa8c-283c42108ee0/incoming/original.pdf","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.044Z","level":"info","message":"resume_text_extracted","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","characters":57,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.044Z","level":"info","message":"resume_classified","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.045Z","level":"info","message":"raw_upload_relocated","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","bucket":"test-bucket","fromKey":"cv/candidate/2cfa084d-6e54-4e76-aa8c-283c42108ee0/incoming/original.pdf","toKey":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/original.pdf","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.045Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","bucket":"test-bucket","key":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/original.pdf","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.045Z","level":"info","message":"dynamo_initial_record_written","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","bucket":"test-bucket","key":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/original.pdf","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.047Z","level":"info","message":"upload_metadata_written","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","bucket":"test-bucket","key":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/logs/log.json","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.047Z","level":"info","message":"job_description_supplied_manually","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","characters":174,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.047Z","level":"info","message":"job_description_analyzed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","jobTitle":"","jobSkills":5,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.048Z","level":"info","message":"resume_skills_analyzed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.048Z","level":"info","message":"llm_call_metrics","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.049Z","level":"info","message":"process_cv_scoring_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.053Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","sample":"not json","template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.072Z","level":"info","message":"llm_call_metrics","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.073Z","level":"info","message":"llm_call_metrics","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.073Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.074Z","level":"info","message":"llm_call_metrics","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.079Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.085Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.091Z","level":"info","message":"generation_cover_letters_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","variants":2,"fallbackApplied":true,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.092Z","level":"info","message":"pdf_generation_attempt","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/enhanced_modern.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.093Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.093Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/enhanced_modern.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.094Z","level":"info","message":"pdf_generation_attempt","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/enhanced_professional.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.095Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.096Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/enhanced_professional.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.096Z","level":"info","message":"pdf_generation_attempt","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/cover_letter_cover_modern.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.097Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.098Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/cover_letter_cover_modern.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.098Z","level":"info","message":"pdf_generation_attempt","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/cover_letter_cover_professional.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.099Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.100Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2cfa084d-6e54-4e76-aa8c-283c42108ee0/cover_letter_cover_professional.pdf","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.103Z","level":"info","message":"llm_call_metrics","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.104Z","level":"info","message":"generation_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","generationRunId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","enhancedScore":80,"outputs":5,"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.107Z","level":"info","message":"placeholder_record_deleted","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","jobId":"2655d4ac-7e39-423b-99f3-35f50918adbe","placeholderIdentifier":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2655d4ac-7e39-423b-99f3-35f50918adbe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.108Z","level":"info","message":"http_request_completed","requestId":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":73,"contentLength":"58091","template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2cfa084d-6e54-4e76-aa8c-283c42108ee0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.110Z","level":"info","message":"http_request_received","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","method":"POST","path":"/api/process-cv","template":"unknown","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.113Z","level":"info","message":"process_cv_started","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","manualJobDescriptionProvided":true,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.113Z","level":"info","message":"template_selection","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.114Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.119Z","level":"info","message":"initial_upload_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","bucket":"test-bucket","key":"cv/candidate/dc94f1f8-ee5c-4e85-b49b-4c819badeded/incoming/original.pdf","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.120Z","level":"info","message":"resume_text_extracted","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","characters":57,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.120Z","level":"info","message":"resume_classified","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.120Z","level":"info","message":"raw_upload_relocated","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","bucket":"test-bucket","fromKey":"cv/candidate/dc94f1f8-ee5c-4e85-b49b-4c819badeded/incoming/original.pdf","toKey":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/original.pdf","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.121Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","bucket":"test-bucket","key":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/original.pdf","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.121Z","level":"info","message":"dynamo_initial_record_written","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","bucket":"test-bucket","key":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/original.pdf","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.121Z","level":"info","message":"upload_metadata_written","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","bucket":"test-bucket","key":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/logs/log.json","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.122Z","level":"info","message":"job_description_supplied_manually","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","characters":174,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.122Z","level":"info","message":"job_description_analyzed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","jobTitle":"","jobSkills":5,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.123Z","level":"info","message":"resume_skills_analyzed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.123Z","level":"info","message":"llm_call_metrics","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.124Z","level":"info","message":"process_cv_scoring_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.127Z","level":"info","message":"llm_call_metrics","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.127Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.128Z","level":"info","message":"llm_call_metrics","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.128Z","level":"info","message":"llm_call_metrics","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.131Z","level":"info","message":"generation_resume_verified","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.134Z","level":"error","message":"ai_response_missing_json","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.140Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","attempt":1,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.145Z","level":"error","message":"ai_response_missing_json","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.150Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","attempt":2,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.158Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.163Z","level":"info","message":"generation_cover_letters_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","variants":2,"fallbackApplied":true,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.164Z","level":"info","message":"pdf_generation_attempt","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/enhanced_modern.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.165Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.166Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/enhanced_modern.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.166Z","level":"info","message":"pdf_generation_attempt","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/enhanced_professional.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.167Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.168Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/enhanced_professional.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.168Z","level":"info","message":"pdf_generation_attempt","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/cover_letter_cover_modern.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.169Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.170Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/cover_letter_cover_modern.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.171Z","level":"info","message":"pdf_generation_attempt","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/cover_letter_cover_professional.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.171Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.173Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dc94f1f8-ee5c-4e85-b49b-4c819badeded/cover_letter_cover_professional.pdf","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.176Z","level":"info","message":"llm_call_metrics","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.177Z","level":"info","message":"generation_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","generationRunId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","enhancedScore":80,"outputs":5,"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.179Z","level":"info","message":"placeholder_record_deleted","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","jobId":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","placeholderIdentifier":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ead37a16-9ed1-4d1e-8645-9c5135d85dd2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.180Z","level":"info","message":"http_request_completed","requestId":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"59498","template":"unknown","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dc94f1f8-ee5c-4e85-b49b-4c819badeded","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.182Z","level":"info","message":"http_request_received","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","method":"POST","path":"/api/process-cv","template":"unknown","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.184Z","level":"info","message":"process_cv_started","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","manualJobDescriptionProvided":true,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.185Z","level":"info","message":"template_selection","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.186Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.191Z","level":"info","message":"initial_upload_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","bucket":"test-bucket","key":"cv/candidate/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/incoming/original.pdf","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.192Z","level":"info","message":"resume_text_extracted","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","characters":57,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.192Z","level":"info","message":"resume_classified","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.192Z","level":"info","message":"raw_upload_relocated","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","bucket":"test-bucket","fromKey":"cv/candidate/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/incoming/original.pdf","toKey":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/original.pdf","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.193Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","bucket":"test-bucket","key":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/original.pdf","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.194Z","level":"info","message":"dynamo_initial_record_written","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","bucket":"test-bucket","key":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/original.pdf","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.194Z","level":"info","message":"upload_metadata_written","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","bucket":"test-bucket","key":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/logs/log.json","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.194Z","level":"info","message":"job_description_supplied_manually","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","characters":174,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.195Z","level":"info","message":"job_description_analyzed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","jobTitle":"","jobSkills":5,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.195Z","level":"info","message":"resume_skills_analyzed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.196Z","level":"info","message":"llm_call_metrics","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.196Z","level":"info","message":"process_cv_scoring_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.201Z","level":"info","message":"llm_call_metrics","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.202Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.202Z","level":"info","message":"llm_call_metrics","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.203Z","level":"info","message":"llm_call_metrics","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.205Z","level":"info","message":"generation_resume_verified","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.214Z","level":"error","message":"ai_response_missing_json","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.221Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","attempt":1,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.227Z","level":"error","message":"ai_response_missing_json","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.233Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","attempt":2,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.240Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.246Z","level":"info","message":"generation_cover_letters_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","variants":2,"fallbackApplied":true,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.247Z","level":"info","message":"pdf_generation_attempt","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/enhanced_modern.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.248Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.249Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/enhanced_modern.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.249Z","level":"info","message":"pdf_generation_attempt","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/enhanced_professional.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.250Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.251Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/enhanced_professional.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.252Z","level":"info","message":"pdf_generation_attempt","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/cover_letter_cover_modern.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.253Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.254Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/cover_letter_cover_modern.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.254Z","level":"info","message":"pdf_generation_attempt","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/cover_letter_cover_professional.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.255Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.257Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a097e6b3-515a-4ec5-829b-1c5cf66b45d5/cover_letter_cover_professional.pdf","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.261Z","level":"info","message":"llm_call_metrics","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.263Z","level":"info","message":"generation_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","generationRunId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","enhancedScore":80,"outputs":5,"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.265Z","level":"info","message":"placeholder_record_deleted","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","jobId":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","placeholderIdentifier":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce22f508-2aa4-4760-a6b6-fc9994b6f91a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.266Z","level":"info","message":"http_request_completed","requestId":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":84,"contentLength":"59498","template":"unknown","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a097e6b3-515a-4ec5-829b-1c5cf66b45d5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.272Z","level":"info","message":"http_request_received","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","method":"POST","path":"/api/process-cv","template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.274Z","level":"info","message":"process_cv_started","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","manualJobDescriptionProvided":true,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.275Z","level":"info","message":"template_selection","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.276Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.281Z","level":"info","message":"initial_upload_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","bucket":"test-bucket","key":"cv/candidate/66c902d5-c2fe-4100-9a69-43638a3498db/incoming/original.pdf","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.282Z","level":"info","message":"resume_text_extracted","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","characters":57,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.282Z","level":"info","message":"resume_classified","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.283Z","level":"info","message":"raw_upload_relocated","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","bucket":"test-bucket","fromKey":"cv/candidate/66c902d5-c2fe-4100-9a69-43638a3498db/incoming/original.pdf","toKey":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/original.pdf","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.283Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","bucket":"test-bucket","key":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/original.pdf","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.284Z","level":"info","message":"dynamo_initial_record_written","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","bucket":"test-bucket","key":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/original.pdf","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.284Z","level":"info","message":"upload_metadata_written","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","bucket":"test-bucket","key":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/logs/log.json","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.284Z","level":"info","message":"job_description_supplied_manually","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","characters":174,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.285Z","level":"info","message":"job_description_analyzed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","jobTitle":"","jobSkills":5,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.286Z","level":"info","message":"resume_skills_analyzed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.286Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.287Z","level":"info","message":"process_cv_scoring_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.289Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.296Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.297Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.297Z","level":"info","message":"generation_section_rewrite_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.298Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.299Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.305Z","level":"error","message":"ai_response_missing_json","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.311Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","attempt":1,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.316Z","level":"error","message":"ai_response_missing_json","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.322Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","attempt":2,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.330Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.335Z","level":"info","message":"generation_cover_letters_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","variants":2,"fallbackApplied":true,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.336Z","level":"info","message":"pdf_generation_attempt","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/enhanced_modern.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.337Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.338Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/enhanced_modern.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.339Z","level":"info","message":"pdf_generation_attempt","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/enhanced_professional.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.339Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.340Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/enhanced_professional.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.341Z","level":"info","message":"pdf_generation_attempt","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/cover_letter_cover_modern.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.341Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.342Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/cover_letter_cover_modern.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.343Z","level":"info","message":"pdf_generation_attempt","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/cover_letter_cover_professional.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.344Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.344Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/66c902d5-c2fe-4100-9a69-43638a3498db/cover_letter_cover_professional.pdf","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.348Z","level":"info","message":"llm_call_metrics","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.349Z","level":"info","message":"generation_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","generationRunId":"66c902d5-c2fe-4100-9a69-43638a3498db","enhancedScore":80,"outputs":5,"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.352Z","level":"info","message":"placeholder_record_deleted","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","jobId":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","placeholderIdentifier":"66c902d5-c2fe-4100-9a69-43638a3498db","template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8ce2b1e3-dba8-4f25-9d05-3ba0f2151db7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.353Z","level":"info","message":"http_request_completed","requestId":"66c902d5-c2fe-4100-9a69-43638a3498db","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":81,"contentLength":"58301","template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"66c902d5-c2fe-4100-9a69-43638a3498db","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.360Z","level":"info","message":"http_request_received","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","method":"POST","path":"/api/process-cv","template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.362Z","level":"info","message":"process_cv_started","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","manualJobDescriptionProvided":true,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.363Z","level":"info","message":"template_selection","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.364Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.369Z","level":"info","message":"initial_upload_completed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","bucket":"test-bucket","key":"cv/candidate/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/incoming/original.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.369Z","level":"info","message":"resume_text_extracted","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","characters":57,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.370Z","level":"info","message":"resume_classified","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.370Z","level":"info","message":"raw_upload_relocated","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","bucket":"test-bucket","fromKey":"cv/candidate/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/incoming/original.pdf","toKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/original.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.371Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","bucket":"test-bucket","key":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/original.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.371Z","level":"info","message":"dynamo_initial_record_written","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","bucket":"test-bucket","key":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/original.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.371Z","level":"info","message":"upload_metadata_written","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","bucket":"test-bucket","key":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/logs/log.json","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.372Z","level":"info","message":"job_description_supplied_manually","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","characters":174,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.372Z","level":"info","message":"job_description_analyzed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","jobTitle":"","jobSkills":5,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.374Z","level":"info","message":"resume_skills_analyzed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.374Z","level":"info","message":"llm_call_metrics","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.375Z","level":"info","message":"process_cv_scoring_completed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.377Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.383Z","level":"info","message":"llm_call_metrics","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.383Z","level":"info","message":"llm_call_metrics","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.384Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.384Z","level":"info","message":"llm_call_metrics","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.385Z","level":"info","message":"llm_call_metrics","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.389Z","level":"error","message":"ai_response_missing_json","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.394Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","attempt":1,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.399Z","level":"error","message":"ai_response_missing_json","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.405Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","attempt":2,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.411Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.418Z","level":"info","message":"generation_cover_letters_completed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","variants":2,"fallbackApplied":true,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.419Z","level":"info","message":"pdf_generation_attempt","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/enhanced_modern.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.420Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.421Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/enhanced_modern.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.421Z","level":"info","message":"pdf_generation_attempt","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/enhanced_professional.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.422Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/enhanced_professional.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.423Z","level":"info","message":"pdf_generation_attempt","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_letter_cover_modern.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.424Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.424Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_letter_cover_modern.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.425Z","level":"info","message":"pdf_generation_attempt","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_letter_cover_professional.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.426Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.427Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_letter_cover_professional.pdf","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.428Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","artifactType":"original_upload","storageKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/original.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"original_upload"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.434Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","artifactType":"version1","storageKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/modern/version1.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"version1"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.439Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","artifactType":"version2","storageKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/professional/version2.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"version2"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.445Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","artifactType":"cover_letter1","storageKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_modern/cover_letter1.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"cover_letter1"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.450Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","artifactType":"cover_letter2","storageKey":"cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_professional/cover_letter2.pdf","template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"cover_letter2"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21689:9)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.456Z","level":"error","message":"generation_urls_missing","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","requestedUrlCount":0,"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:21790:7)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.462Z","level":"error","message":"api_error_response","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-11-30/2025-11-30t16-03-53-462z-4711f156-aa2e-4d55-8730-0a7cd4fa58a9.json","status":"pending"}}},"requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f"},"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:21794:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.470Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","jobId":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","generationRunId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/modern/version1.pdf","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/professional/version2.pdf","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_modern/cover_letter1.pdf","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/cover_professional/cover_letter2.pdf","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/original.json","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/version1.json","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/version2.json","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/cover-letter1.json","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/cover-letter2.json","cv/professional_summary/4711f156-aa2e-4d55-8730-0a7cd4fa58a9/artifacts/changelog.json"],"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4124ea9b-aaeb-4831-b1a0-d15bb2e5b66f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:19717:9)
      at generateEnhancedDocumentsResponse (server.js:22322:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.476Z","level":"info","message":"http_request_completed","requestId":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":116,"contentLength":"396","template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4711f156-aa2e-4d55-8730-0a7cd4fa58a9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.478Z","level":"info","message":"http_request_received","requestId":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.489Z","level":"info","message":"http_request_completed","requestId":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":11,"contentLength":"232","template":"unknown","session":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81cc79bc-f0d8-4dbe-bee0-fc88a0b5e4da","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.491Z","level":"info","message":"http_request_received","requestId":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.493Z","level":"warn","message":"api_error_response","requestId":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24427:12)

  console.log
    {"timestamp":"2025-11-30T16:03:53.498Z","level":"info","message":"http_request_completed","requestId":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":7,"contentLength":"201","template":"unknown","session":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40fdf7e0-d4f6-4695-981c-b6149aecfd79","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.500Z","level":"info","message":"http_request_received","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","method":"POST","path":"/api/process-cv","template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.502Z","level":"info","message":"process_cv_started","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","manualJobDescriptionProvided":true,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.502Z","level":"info","message":"template_selection","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.503Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.508Z","level":"info","message":"initial_upload_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","bucket":"test-bucket","key":"cv/candidate/a9af9b40-a2ad-457a-b064-8cd47a54530b/incoming/original.pdf","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.509Z","level":"info","message":"resume_text_extracted","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","characters":57,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.509Z","level":"info","message":"resume_classified","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.510Z","level":"info","message":"raw_upload_relocated","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","bucket":"test-bucket","fromKey":"cv/candidate/a9af9b40-a2ad-457a-b064-8cd47a54530b/incoming/original.pdf","toKey":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/original.pdf","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.513Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","bucket":"test-bucket","key":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/original.pdf","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.513Z","level":"info","message":"dynamo_initial_record_written","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","bucket":"test-bucket","key":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/original.pdf","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.513Z","level":"info","message":"upload_metadata_written","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","bucket":"test-bucket","key":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/logs/log.json","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.514Z","level":"info","message":"job_description_supplied_manually","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","characters":174,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.514Z","level":"info","message":"job_description_analyzed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","jobTitle":"","jobSkills":5,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.515Z","level":"info","message":"resume_skills_analyzed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.515Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.516Z","level":"info","message":"process_cv_scoring_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.525Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.530Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.530Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.531Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.531Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.532Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:53.538Z","level":"error","message":"ai_response_missing_json","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.544Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","attempt":1,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.error
    {"timestamp":"2025-11-30T16:03:53.549Z","level":"error","message":"ai_response_missing_json","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:20283:26)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.554Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","attempt":2,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20288:11)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.560Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.565Z","level":"info","message":"generation_cover_letters_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","variants":2,"fallbackApplied":true,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.566Z","level":"info","message":"pdf_generation_attempt","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/enhanced_modern.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.567Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.568Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/enhanced_modern.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.569Z","level":"info","message":"pdf_generation_attempt","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/enhanced_professional.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.569Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.570Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/enhanced_professional.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.571Z","level":"info","message":"pdf_generation_attempt","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/cover_letter_cover_modern.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.571Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.572Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/cover_letter_cover_modern.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.573Z","level":"info","message":"pdf_generation_attempt","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/cover_letter_cover_professional.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.574Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.574Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a9af9b40-a2ad-457a-b064-8cd47a54530b/cover_letter_cover_professional.pdf","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.577Z","level":"info","message":"llm_call_metrics","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.578Z","level":"info","message":"generation_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","generationRunId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","enhancedScore":80,"outputs":5,"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.580Z","level":"info","message":"placeholder_record_deleted","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","jobId":"7bc0444a-7967-42a6-8658-3b8bf3227330","placeholderIdentifier":"a9af9b40-a2ad-457a-b064-8cd47a54530b","template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7bc0444a-7967-42a6-8658-3b8bf3227330","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.581Z","level":"info","message":"http_request_completed","requestId":"a9af9b40-a2ad-457a-b064-8cd47a54530b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":81,"contentLength":"58301","template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9af9b40-a2ad-457a-b064-8cd47a54530b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.588Z","level":"info","message":"http_request_received","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","method":"POST","path":"/api/process-cv","template":"unknown","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.591Z","level":"info","message":"process_cv_started","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","manualJobDescriptionProvided":true,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.591Z","level":"info","message":"template_selection","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.592Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.599Z","level":"info","message":"initial_upload_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","bucket":"test-bucket","key":"cv/candidate/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/incoming/original.pdf","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.599Z","level":"info","message":"resume_text_extracted","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","characters":57,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.599Z","level":"info","message":"resume_classified","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.600Z","level":"info","message":"raw_upload_relocated","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","bucket":"test-bucket","fromKey":"cv/candidate/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/incoming/original.pdf","toKey":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/original.pdf","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.601Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","bucket":"test-bucket","key":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/original.pdf","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.601Z","level":"info","message":"dynamo_initial_record_written","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","bucket":"test-bucket","key":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/original.pdf","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.602Z","level":"info","message":"upload_metadata_written","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","bucket":"test-bucket","key":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/logs/log.json","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.602Z","level":"info","message":"job_description_supplied_manually","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","characters":174,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.602Z","level":"info","message":"job_description_analyzed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","jobTitle":"","jobSkills":5,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.603Z","level":"info","message":"resume_skills_analyzed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.604Z","level":"info","message":"llm_call_metrics","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.604Z","level":"info","message":"process_cv_scoring_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.608Z","level":"info","message":"llm_call_metrics","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.608Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.609Z","level":"info","message":"llm_call_metrics","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.613Z","level":"info","message":"generation_resume_verified","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.619Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.630Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.640Z","level":"info","message":"generation_cover_letters_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","variants":2,"fallbackApplied":true,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.641Z","level":"info","message":"pdf_generation_attempt","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/enhanced_modern.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.642Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.643Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/enhanced_modern.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.645Z","level":"info","message":"pdf_generation_attempt","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/enhanced_professional.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.649Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/enhanced_professional.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.651Z","level":"info","message":"pdf_generation_attempt","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/cover_letter_cover_modern.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.653Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.655Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/cover_letter_cover_modern.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.657Z","level":"info","message":"pdf_generation_attempt","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/cover_letter_cover_professional.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.658Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.660Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aef078b7-c50a-4ff7-8aa5-8954eeebe5d7/cover_letter_cover_professional.pdf","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.667Z","level":"info","message":"llm_call_metrics","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.670Z","level":"info","message":"generation_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","generationRunId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","enhancedScore":80,"outputs":5,"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.673Z","level":"info","message":"placeholder_record_deleted","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","jobId":"be429259-23bd-4f0d-aba5-4b66862ef1a6","placeholderIdentifier":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be429259-23bd-4f0d-aba5-4b66862ef1a6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.677Z","level":"info","message":"http_request_completed","requestId":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":89,"contentLength":"58133","template":"unknown","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aef078b7-c50a-4ff7-8aa5-8954eeebe5d7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.685Z","level":"info","message":"http_request_received","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.689Z","level":"info","message":"process_cv_started","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","manualJobDescriptionProvided":true,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.692Z","level":"info","message":"template_selection","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.693Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:53.705Z","level":"info","message":"initial_upload_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","bucket":"test-bucket","key":"cv/candidate/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/incoming/original.pdf","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.706Z","level":"info","message":"resume_text_extracted","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","characters":57,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.707Z","level":"info","message":"resume_classified","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.713Z","level":"info","message":"raw_upload_relocated","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","bucket":"test-bucket","fromKey":"cv/candidate/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/incoming/original.pdf","toKey":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/original.pdf","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.714Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","bucket":"test-bucket","key":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/original.pdf","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.715Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","bucket":"test-bucket","key":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/original.pdf","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.716Z","level":"info","message":"upload_metadata_written","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","bucket":"test-bucket","key":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/logs/log.json","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.717Z","level":"info","message":"job_description_supplied_manually","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","characters":174,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.718Z","level":"info","message":"job_description_analyzed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","jobTitle":"","jobSkills":5,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.719Z","level":"info","message":"resume_skills_analyzed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.720Z","level":"info","message":"llm_call_metrics","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.721Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.727Z","level":"info","message":"llm_call_metrics","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.727Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.728Z","level":"info","message":"llm_call_metrics","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.731Z","level":"info","message":"generation_resume_verified","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:53.737Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:53.751Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:53.760Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","variants":2,"fallbackApplied":true,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.765Z","level":"info","message":"pdf_generation_attempt","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/enhanced_classic.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.773Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.803Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/enhanced_classic.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.805Z","level":"info","message":"pdf_generation_attempt","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/enhanced_ats.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.807Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.810Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/enhanced_ats.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.813Z","level":"info","message":"pdf_generation_attempt","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/cover_letter_cover_classic.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.824Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.834Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/cover_letter_cover_classic.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:53.986Z","level":"info","message":"pdf_generation_attempt","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/cover_letter_cover_ats.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.001Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.013Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/1b2096c7-e9a4-41cb-932f-f0abf5b2132a/cover_letter_cover_ats.pdf","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.029Z","level":"info","message":"llm_call_metrics","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.032Z","level":"info","message":"generation_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","generationRunId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","enhancedScore":80,"outputs":5,"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.051Z","level":"info","message":"placeholder_record_deleted","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","jobId":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","placeholderIdentifier":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"19e6a1fa-9cf5-443e-9d86-d89eef3fab28","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.074Z","level":"info","message":"http_request_completed","requestId":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":389,"contentLength":"57992","template":"unknown","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b2096c7-e9a4-41cb-932f-f0abf5b2132a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.091Z","level":"info","message":"http_request_received","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","method":"POST","path":"/api/process-cv","template":"unknown","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.104Z","level":"info","message":"process_cv_started","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","manualJobDescriptionProvided":true,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.112Z","level":"info","message":"template_selection","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.122Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.148Z","level":"info","message":"initial_upload_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","bucket":"test-bucket","key":"cv/candidate/048d7b91-d436-4b70-8bd3-1fd6cada53a2/incoming/original.pdf","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.153Z","level":"info","message":"resume_text_extracted","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","characters":57,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.157Z","level":"info","message":"resume_classified","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.163Z","level":"info","message":"raw_upload_relocated","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","bucket":"test-bucket","fromKey":"cv/candidate/048d7b91-d436-4b70-8bd3-1fd6cada53a2/incoming/original.pdf","toKey":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/original.pdf","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.175Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","bucket":"test-bucket","key":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/original.pdf","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.177Z","level":"info","message":"dynamo_initial_record_written","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","bucket":"test-bucket","key":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/original.pdf","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.180Z","level":"info","message":"upload_metadata_written","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","bucket":"test-bucket","key":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/logs/log.json","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.190Z","level":"info","message":"job_description_supplied_manually","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","characters":174,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.194Z","level":"info","message":"job_description_analyzed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","jobTitle":"","jobSkills":5,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.196Z","level":"info","message":"resume_skills_analyzed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.198Z","level":"info","message":"llm_call_metrics","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.201Z","level":"info","message":"process_cv_scoring_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.214Z","level":"info","message":"llm_call_metrics","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.215Z","level":"info","message":"generation_section_rewrite_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.216Z","level":"info","message":"llm_call_metrics","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.221Z","level":"info","message":"generation_resume_verified","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.228Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.235Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.243Z","level":"info","message":"generation_cover_letters_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","variants":2,"fallbackApplied":true,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.245Z","level":"info","message":"pdf_generation_attempt","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/enhanced_modern.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.246Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/enhanced_modern.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.247Z","level":"info","message":"pdf_generation_attempt","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/enhanced_professional.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.248Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.249Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/enhanced_professional.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.249Z","level":"info","message":"pdf_generation_attempt","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/cover_letter_cover_modern.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.250Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.251Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/cover_letter_cover_modern.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.252Z","level":"info","message":"pdf_generation_attempt","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/cover_letter_cover_professional.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.253Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.254Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/048d7b91-d436-4b70-8bd3-1fd6cada53a2/cover_letter_cover_professional.pdf","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.258Z","level":"info","message":"llm_call_metrics","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.259Z","level":"info","message":"generation_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","generationRunId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","enhancedScore":80,"outputs":5,"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.260Z","level":"info","message":"placeholder_record_deleted","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","jobId":"368c51a9-08f2-42a4-89b4-e67d897b1088","placeholderIdentifier":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368c51a9-08f2-42a4-89b4-e67d897b1088","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.265Z","level":"info","message":"http_request_completed","requestId":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":174,"contentLength":"59354","template":"unknown","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"048d7b91-d436-4b70-8bd3-1fd6cada53a2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.269Z","level":"info","message":"http_request_received","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","method":"POST","path":"/api/process-cv","template":"unknown","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.272Z","level":"info","message":"process_cv_started","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","manualJobDescriptionProvided":true,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.273Z","level":"info","message":"template_selection","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.274Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.282Z","level":"info","message":"initial_upload_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","bucket":"test-bucket","key":"cv/candidate/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/incoming/original.pdf","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.283Z","level":"info","message":"resume_text_extracted","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","characters":57,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.283Z","level":"info","message":"resume_classified","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.284Z","level":"info","message":"raw_upload_relocated","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","bucket":"test-bucket","fromKey":"cv/candidate/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/incoming/original.pdf","toKey":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/original.pdf","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.285Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","bucket":"test-bucket","key":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/original.pdf","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.285Z","level":"info","message":"dynamo_initial_record_written","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","bucket":"test-bucket","key":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/original.pdf","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.286Z","level":"info","message":"upload_metadata_written","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","bucket":"test-bucket","key":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/logs/log.json","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.287Z","level":"info","message":"job_description_supplied_manually","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","characters":174,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.288Z","level":"info","message":"job_description_analyzed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","jobTitle":"","jobSkills":5,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.289Z","level":"info","message":"resume_skills_analyzed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.290Z","level":"info","message":"llm_call_metrics","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.291Z","level":"info","message":"process_cv_scoring_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.295Z","level":"info","message":"llm_call_metrics","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.295Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.296Z","level":"info","message":"llm_call_metrics","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.299Z","level":"info","message":"generation_resume_verified","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.304Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.310Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.316Z","level":"info","message":"generation_cover_letters_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","variants":2,"fallbackApplied":true,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.317Z","level":"info","message":"pdf_generation_attempt","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/enhanced_modern.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.317Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.318Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/enhanced_modern.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.320Z","level":"info","message":"pdf_generation_attempt","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/enhanced_professional.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.321Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.322Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/enhanced_professional.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.323Z","level":"info","message":"pdf_generation_attempt","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/cover_letter_cover_modern.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.324Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.325Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/cover_letter_cover_modern.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.326Z","level":"info","message":"pdf_generation_attempt","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/cover_letter_cover_professional.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.327Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.328Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b1a6af5a-dacd-4fe3-8dac-06a82584f64e/cover_letter_cover_professional.pdf","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.331Z","level":"info","message":"llm_call_metrics","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.332Z","level":"info","message":"generation_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","generationRunId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","enhancedScore":80,"outputs":5,"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.334Z","level":"info","message":"placeholder_record_deleted","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","jobId":"788527c3-33db-4dac-b0e7-405c11ac26ef","placeholderIdentifier":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"788527c3-33db-4dac-b0e7-405c11ac26ef","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.337Z","level":"info","message":"http_request_completed","requestId":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"57968","template":"unknown","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b1a6af5a-dacd-4fe3-8dac-06a82584f64e","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.340Z","level":"info","message":"http_request_received","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","method":"POST","path":"/api/process-cv","template":"unknown","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.342Z","level":"info","message":"process_cv_started","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","manualJobDescriptionProvided":true,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.343Z","level":"info","message":"template_selection","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.343Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.349Z","level":"info","message":"initial_upload_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","bucket":"test-bucket","key":"cv/candidate/367dc8c8-a178-495e-8619-38b139a41f0f/incoming/original.pdf","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.350Z","level":"info","message":"resume_text_extracted","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","characters":57,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.350Z","level":"info","message":"resume_classified","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.351Z","level":"info","message":"raw_upload_relocated","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","bucket":"test-bucket","fromKey":"cv/candidate/367dc8c8-a178-495e-8619-38b139a41f0f/incoming/original.pdf","toKey":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/original.pdf","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.351Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","bucket":"test-bucket","key":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/original.pdf","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.352Z","level":"info","message":"dynamo_initial_record_written","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","bucket":"test-bucket","key":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/original.pdf","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.354Z","level":"info","message":"upload_metadata_written","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","bucket":"test-bucket","key":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/logs/log.json","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.354Z","level":"info","message":"job_description_supplied_manually","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","characters":174,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.355Z","level":"info","message":"job_description_analyzed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","jobTitle":"","jobSkills":5,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.356Z","level":"info","message":"resume_skills_analyzed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.357Z","level":"info","message":"llm_call_metrics","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.358Z","level":"info","message":"process_cv_scoring_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.361Z","level":"info","message":"llm_call_metrics","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.362Z","level":"info","message":"generation_section_rewrite_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.362Z","level":"info","message":"llm_call_metrics","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.366Z","level":"info","message":"generation_resume_verified","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.371Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.378Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.384Z","level":"info","message":"generation_cover_letters_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","variants":2,"fallbackApplied":true,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.386Z","level":"info","message":"pdf_generation_attempt","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/enhanced_modern.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.387Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.388Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/enhanced_modern.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.389Z","level":"info","message":"pdf_generation_attempt","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/enhanced_professional.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.390Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/enhanced_professional.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.391Z","level":"info","message":"pdf_generation_attempt","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/cover_letter_cover_modern.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.392Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/cover_letter_cover_modern.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.393Z","level":"info","message":"pdf_generation_attempt","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/cover_letter_cover_professional.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/367dc8c8-a178-495e-8619-38b139a41f0f/cover_letter_cover_professional.pdf","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.398Z","level":"info","message":"llm_call_metrics","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.398Z","level":"info","message":"generation_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","generationRunId":"367dc8c8-a178-495e-8619-38b139a41f0f","enhancedScore":80,"outputs":5,"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.400Z","level":"info","message":"placeholder_record_deleted","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","jobId":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","placeholderIdentifier":"367dc8c8-a178-495e-8619-38b139a41f0f","template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c1aafd77-f3dc-4ac8-a23f-3dfd9a568c92","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.401Z","level":"info","message":"http_request_completed","requestId":"367dc8c8-a178-495e-8619-38b139a41f0f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":61,"contentLength":"59302","template":"unknown","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"367dc8c8-a178-495e-8619-38b139a41f0f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.405Z","level":"info","message":"http_request_received","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","method":"POST","path":"/api/process-cv","template":"unknown","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.407Z","level":"info","message":"process_cv_started","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","manualJobDescriptionProvided":true,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.407Z","level":"info","message":"template_selection","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.408Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.415Z","level":"info","message":"initial_upload_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","bucket":"test-bucket","key":"cv/candidate/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/incoming/original.pdf","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.416Z","level":"info","message":"resume_text_extracted","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","characters":57,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.416Z","level":"info","message":"resume_classified","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.417Z","level":"info","message":"raw_upload_relocated","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","bucket":"test-bucket","fromKey":"cv/candidate/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/incoming/original.pdf","toKey":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/original.pdf","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.418Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","bucket":"test-bucket","key":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/original.pdf","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.418Z","level":"info","message":"dynamo_initial_record_written","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","bucket":"test-bucket","key":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/original.pdf","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.420Z","level":"info","message":"upload_metadata_written","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","bucket":"test-bucket","key":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/logs/log.json","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.422Z","level":"info","message":"job_description_supplied_manually","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","characters":174,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.423Z","level":"info","message":"job_description_analyzed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","jobTitle":"","jobSkills":5,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.425Z","level":"info","message":"resume_skills_analyzed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.427Z","level":"info","message":"llm_call_metrics","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.428Z","level":"info","message":"process_cv_scoring_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.432Z","level":"info","message":"llm_call_metrics","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.432Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.433Z","level":"info","message":"llm_call_metrics","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.442Z","level":"info","message":"generation_resume_verified","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.448Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.457Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.464Z","level":"info","message":"generation_cover_letters_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","variants":2,"fallbackApplied":true,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.467Z","level":"info","message":"pdf_generation_attempt","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/enhanced_modern.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.468Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.470Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/enhanced_modern.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.471Z","level":"info","message":"pdf_generation_attempt","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/enhanced_professional.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.472Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.473Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/enhanced_professional.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.474Z","level":"info","message":"pdf_generation_attempt","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/cover_letter_cover_modern.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.476Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.478Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/cover_letter_cover_modern.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.480Z","level":"info","message":"pdf_generation_attempt","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/cover_letter_cover_professional.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.483Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.485Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9939a3d7-64f0-4501-acf6-6161ec8c1ea3/cover_letter_cover_professional.pdf","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.490Z","level":"info","message":"llm_call_metrics","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.492Z","level":"info","message":"generation_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","generationRunId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","enhancedScore":80,"outputs":5,"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.495Z","level":"info","message":"placeholder_record_deleted","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","jobId":"51927fcd-59ee-4077-8f5d-48e2c977994b","placeholderIdentifier":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51927fcd-59ee-4077-8f5d-48e2c977994b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.496Z","level":"info","message":"http_request_completed","requestId":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":91,"contentLength":"59835","template":"unknown","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9939a3d7-64f0-4501-acf6-6161ec8c1ea3","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.504Z","level":"info","message":"http_request_received","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","method":"POST","path":"/api/process-cv","template":"unknown","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.507Z","level":"info","message":"process_cv_started","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","manualJobDescriptionProvided":true,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.510Z","level":"info","message":"template_selection","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.512Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.529Z","level":"info","message":"initial_upload_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","bucket":"test-bucket","key":"cv/candidate/759fcadd-dba8-423c-834b-2d865f4734e6/incoming/original.pdf","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.530Z","level":"info","message":"resume_text_extracted","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","characters":57,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.531Z","level":"info","message":"resume_classified","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.533Z","level":"info","message":"raw_upload_relocated","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","bucket":"test-bucket","fromKey":"cv/candidate/759fcadd-dba8-423c-834b-2d865f4734e6/incoming/original.pdf","toKey":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/original.pdf","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.536Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","bucket":"test-bucket","key":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/original.pdf","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.537Z","level":"info","message":"dynamo_initial_record_written","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","bucket":"test-bucket","key":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/original.pdf","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.540Z","level":"info","message":"upload_metadata_written","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","bucket":"test-bucket","key":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/logs/log.json","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.543Z","level":"info","message":"job_description_supplied_manually","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","characters":174,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.552Z","level":"info","message":"job_description_analyzed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","jobTitle":"","jobSkills":5,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.555Z","level":"info","message":"resume_skills_analyzed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.557Z","level":"info","message":"llm_call_metrics","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.558Z","level":"info","message":"process_cv_scoring_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.576Z","level":"info","message":"llm_call_metrics","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.578Z","level":"info","message":"generation_section_rewrite_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.580Z","level":"info","message":"llm_call_metrics","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.609Z","level":"info","message":"generation_resume_verified","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.621Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.633Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.646Z","level":"info","message":"generation_cover_letters_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","variants":2,"fallbackApplied":true,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.648Z","level":"info","message":"pdf_generation_attempt","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/enhanced_modern.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.650Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.654Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/enhanced_modern.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.655Z","level":"info","message":"pdf_generation_attempt","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/enhanced_professional.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.656Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.662Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/enhanced_professional.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.664Z","level":"info","message":"pdf_generation_attempt","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/cover_letter_cover_modern.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.671Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/cover_letter_cover_modern.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.673Z","level":"info","message":"pdf_generation_attempt","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/cover_letter_cover_professional.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.675Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.680Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/759fcadd-dba8-423c-834b-2d865f4734e6/cover_letter_cover_professional.pdf","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.690Z","level":"info","message":"llm_call_metrics","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.692Z","level":"info","message":"generation_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","generationRunId":"759fcadd-dba8-423c-834b-2d865f4734e6","enhancedScore":80,"outputs":5,"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.702Z","level":"info","message":"placeholder_record_deleted","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","jobId":"475f078d-f263-4cb1-870a-03a06be63689","placeholderIdentifier":"759fcadd-dba8-423c-834b-2d865f4734e6","template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"475f078d-f263-4cb1-870a-03a06be63689","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.705Z","level":"info","message":"http_request_completed","requestId":"759fcadd-dba8-423c-834b-2d865f4734e6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":201,"contentLength":"58133","template":"unknown","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"759fcadd-dba8-423c-834b-2d865f4734e6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.711Z","level":"info","message":"http_request_received","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","method":"POST","path":"/api/process-cv","template":"unknown","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.715Z","level":"info","message":"process_cv_started","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","manualJobDescriptionProvided":true,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.716Z","level":"info","message":"template_selection","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.719Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.727Z","level":"info","message":"initial_upload_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","bucket":"test-bucket","key":"cv/candidate/411114bc-67ef-4c15-857e-fb6dbfa00ea8/incoming/original.pdf","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.729Z","level":"info","message":"resume_text_extracted","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","characters":57,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.729Z","level":"info","message":"resume_classified","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.730Z","level":"info","message":"raw_upload_relocated","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","bucket":"test-bucket","fromKey":"cv/candidate/411114bc-67ef-4c15-857e-fb6dbfa00ea8/incoming/original.pdf","toKey":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/original.pdf","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.730Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","bucket":"test-bucket","key":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/original.pdf","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.731Z","level":"info","message":"dynamo_initial_record_written","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","bucket":"test-bucket","key":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/original.pdf","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.731Z","level":"info","message":"upload_metadata_written","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","bucket":"test-bucket","key":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/logs/log.json","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.732Z","level":"info","message":"job_description_supplied_manually","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","characters":174,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.733Z","level":"info","message":"job_description_analyzed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","jobTitle":"","jobSkills":5,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.734Z","level":"info","message":"resume_skills_analyzed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.735Z","level":"info","message":"llm_call_metrics","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.736Z","level":"info","message":"process_cv_scoring_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.742Z","level":"info","message":"llm_call_metrics","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.743Z","level":"info","message":"generation_section_rewrite_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.747Z","level":"info","message":"generation_resume_verified","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.756Z","level":"info","message":"generation_cover_letters_normalized","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.759Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.774Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","variants":["cover_letter1"],"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.776Z","level":"info","message":"generation_cover_letters_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","variants":2,"fallbackApplied":true,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.779Z","level":"info","message":"pdf_generation_attempt","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/enhanced_modern.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.781Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.783Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/enhanced_modern.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.783Z","level":"info","message":"pdf_generation_attempt","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/enhanced_professional.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.785Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.787Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/enhanced_professional.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.788Z","level":"info","message":"pdf_generation_attempt","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/cover_letter_cover_modern.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.789Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.789Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/cover_letter_cover_modern.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.790Z","level":"info","message":"pdf_generation_attempt","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/cover_letter_cover_professional.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.792Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/411114bc-67ef-4c15-857e-fb6dbfa00ea8/cover_letter_cover_professional.pdf","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.798Z","level":"info","message":"llm_call_metrics","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.800Z","level":"info","message":"generation_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","generationRunId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","enhancedScore":80,"outputs":5,"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.802Z","level":"info","message":"placeholder_record_deleted","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","jobId":"9245c59a-2bef-485c-9fff-7f74fa0d4948","placeholderIdentifier":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9245c59a-2bef-485c-9fff-7f74fa0d4948","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.805Z","level":"info","message":"http_request_completed","requestId":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":94,"contentLength":"46262","template":"unknown","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"411114bc-67ef-4c15-857e-fb6dbfa00ea8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.812Z","level":"info","message":"http_request_received","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","method":"POST","path":"/api/process-cv","template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.814Z","level":"info","message":"process_cv_started","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","manualJobDescriptionProvided":true,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.815Z","level":"info","message":"template_selection","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.816Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.822Z","level":"info","message":"initial_upload_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","bucket":"test-bucket","key":"cv/candidate/59f2ea3b-9113-47fe-80a7-0569c88ef35a/incoming/original.pdf","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.822Z","level":"info","message":"resume_text_extracted","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","characters":57,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.823Z","level":"info","message":"resume_classified","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.823Z","level":"info","message":"raw_upload_relocated","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","bucket":"test-bucket","fromKey":"cv/candidate/59f2ea3b-9113-47fe-80a7-0569c88ef35a/incoming/original.pdf","toKey":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/original.pdf","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.824Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","bucket":"test-bucket","key":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/original.pdf","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.824Z","level":"info","message":"dynamo_initial_record_written","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","bucket":"test-bucket","key":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/original.pdf","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.825Z","level":"info","message":"upload_metadata_written","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","bucket":"test-bucket","key":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/logs/log.json","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.826Z","level":"info","message":"job_description_supplied_manually","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","characters":174,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.827Z","level":"info","message":"job_description_analyzed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","jobTitle":"","jobSkills":5,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.827Z","level":"info","message":"resume_skills_analyzed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.828Z","level":"info","message":"llm_call_metrics","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.829Z","level":"info","message":"process_cv_scoring_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.832Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at Object.logStructured [as error] (server.js:3363:37)
      at error (lib/llm/gemini.js:221:12)
      at parseGeminiJsonResponse (server.js:8366:20)
      at generateEnhancedDocumentsResponse (server.js:20001:26)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.838Z","level":"info","message":"llm_call_metrics","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.839Z","level":"info","message":"llm_call_metrics","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.839Z","level":"info","message":"generation_section_rewrite_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.840Z","level":"info","message":"llm_call_metrics","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.845Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.852Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.858Z","level":"info","message":"generation_cover_letters_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","variants":2,"fallbackApplied":true,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.859Z","level":"info","message":"pdf_generation_attempt","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/enhanced_modern.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.860Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.860Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/enhanced_modern.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.861Z","level":"info","message":"pdf_generation_attempt","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/enhanced_professional.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.862Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.863Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/enhanced_professional.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.863Z","level":"info","message":"pdf_generation_attempt","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/cover_letter_cover_modern.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.864Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.865Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/cover_letter_cover_modern.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.867Z","level":"info","message":"pdf_generation_attempt","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/cover_letter_cover_professional.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.868Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.869Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/59f2ea3b-9113-47fe-80a7-0569c88ef35a/cover_letter_cover_professional.pdf","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.872Z","level":"info","message":"llm_call_metrics","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.873Z","level":"info","message":"generation_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","generationRunId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","enhancedScore":80,"outputs":5,"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.876Z","level":"info","message":"placeholder_record_deleted","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","jobId":"01573300-6485-4197-918f-734372522157","placeholderIdentifier":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01573300-6485-4197-918f-734372522157","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.877Z","level":"info","message":"http_request_completed","requestId":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":65,"contentLength":"57871","template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59f2ea3b-9113-47fe-80a7-0569c88ef35a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.880Z","level":"info","message":"http_request_received","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","method":"POST","path":"/api/process-cv","template":"unknown","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.882Z","level":"info","message":"process_cv_started","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","manualJobDescriptionProvided":true,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.883Z","level":"info","message":"template_selection","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.883Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:54.890Z","level":"info","message":"initial_upload_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","bucket":"test-bucket","key":"cv/candidate/b4080f45-2807-49bc-ada1-de4564cd9a73/incoming/original.pdf","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.890Z","level":"info","message":"resume_text_extracted","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","characters":57,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.891Z","level":"info","message":"resume_classified","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.891Z","level":"info","message":"raw_upload_relocated","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","bucket":"test-bucket","fromKey":"cv/candidate/b4080f45-2807-49bc-ada1-de4564cd9a73/incoming/original.pdf","toKey":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/original.pdf","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.892Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","bucket":"test-bucket","key":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/original.pdf","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.892Z","level":"info","message":"dynamo_initial_record_written","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","bucket":"test-bucket","key":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/original.pdf","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.893Z","level":"info","message":"upload_metadata_written","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","bucket":"test-bucket","key":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/logs/log.json","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.893Z","level":"info","message":"job_description_supplied_manually","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","characters":174,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.894Z","level":"info","message":"job_description_analyzed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","jobTitle":"","jobSkills":5,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.895Z","level":"info","message":"resume_skills_analyzed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.896Z","level":"info","message":"llm_call_metrics","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.897Z","level":"info","message":"process_cv_scoring_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.901Z","level":"info","message":"llm_call_metrics","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.902Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.902Z","level":"info","message":"llm_call_metrics","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.905Z","level":"info","message":"generation_resume_verified","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:54.909Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.916Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.921Z","level":"info","message":"generation_cover_letters_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","variants":2,"fallbackApplied":true,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.922Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_modern.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.923Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.926Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.932Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_professional.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.932Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.933Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.941Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_classic.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.942Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.943Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.949Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.950Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.951Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.957Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.957Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.958Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:54.964Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.973Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.974Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.974Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_professional.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.975Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.976Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.982Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_modern.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.983Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.983Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:54.989Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:54.990Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:54.991Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.000Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_classic.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.001Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.001Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.007Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.008Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.009Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.014Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.021Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.021Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.023Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_modern.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.024Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.025Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.031Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_professional.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.032Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.033Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.039Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_classic.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.041Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.054Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.055Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.057Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.073Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.075Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.077Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.091Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.106Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.107Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.109Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_professional.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.110Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.111Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.119Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_modern.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.120Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.121Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.129Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.130Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.131Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.138Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_classic.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.139Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.140Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.147Z","level":"info","message":"pdf_generation_attempt","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.error
    {"timestamp":"2025-11-30T16:03:55.148Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.157Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
      at generatePdfWithFallback (server.js:21130:17)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.163Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:2110:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.164Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/b4080f45-2807-49bc-ada1-de4564cd9a73/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.167Z","level":"info","message":"llm_call_metrics","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.171Z","level":"info","message":"generation_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","generationRunId":"b4080f45-2807-49bc-ada1-de4564cd9a73","enhancedScore":80,"outputs":5,"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.174Z","level":"info","message":"placeholder_record_deleted","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","jobId":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","placeholderIdentifier":"b4080f45-2807-49bc-ada1-de4564cd9a73","template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"658c7ab7-8e36-4161-a4d8-fadaf2ab8a77","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.176Z","level":"info","message":"http_request_completed","requestId":"b4080f45-2807-49bc-ada1-de4564cd9a73","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":296,"contentLength":"60620","template":"unknown","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b4080f45-2807-49bc-ada1-de4564cd9a73","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.181Z","level":"info","message":"http_request_received","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","method":"POST","path":"/api/process-cv","template":"unknown","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.183Z","level":"info","message":"process_cv_started","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","manualJobDescriptionProvided":true,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.184Z","level":"info","message":"template_selection","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.185Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.192Z","level":"info","message":"initial_upload_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","bucket":"test-bucket","key":"cv/candidate/24ccf7cc-be61-4c50-9a6c-ad921268589a/incoming/original.pdf","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.193Z","level":"info","message":"resume_text_extracted","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","characters":57,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.194Z","level":"info","message":"resume_classified","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.194Z","level":"info","message":"raw_upload_relocated","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","bucket":"test-bucket","fromKey":"cv/candidate/24ccf7cc-be61-4c50-9a6c-ad921268589a/incoming/original.pdf","toKey":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/original.pdf","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.195Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","bucket":"test-bucket","key":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/original.pdf","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.195Z","level":"info","message":"dynamo_initial_record_written","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","bucket":"test-bucket","key":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/original.pdf","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.197Z","level":"info","message":"upload_metadata_written","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","bucket":"test-bucket","key":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/logs/log.json","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.200Z","level":"info","message":"job_description_supplied_manually","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","characters":174,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.202Z","level":"info","message":"job_description_analyzed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","jobTitle":"","jobSkills":5,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.203Z","level":"info","message":"resume_skills_analyzed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.204Z","level":"info","message":"llm_call_metrics","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.206Z","level":"info","message":"process_cv_scoring_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.211Z","level":"info","message":"llm_call_metrics","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.212Z","level":"info","message":"generation_section_rewrite_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.215Z","level":"info","message":"generation_resume_verified","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.222Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.230Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.237Z","level":"info","message":"generation_cover_letters_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","variants":2,"fallbackApplied":true,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.238Z","level":"info","message":"pdf_generation_attempt","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/enhanced_modern.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.240Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/enhanced_modern.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.241Z","level":"info","message":"pdf_generation_attempt","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/enhanced_professional.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.242Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.243Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/enhanced_professional.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.243Z","level":"info","message":"pdf_generation_attempt","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/cover_letter_cover_modern.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.244Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.245Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/cover_letter_cover_modern.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.246Z","level":"info","message":"pdf_generation_attempt","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/cover_letter_cover_professional.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.247Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/24ccf7cc-be61-4c50-9a6c-ad921268589a/cover_letter_cover_professional.pdf","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.251Z","level":"info","message":"llm_call_metrics","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.252Z","level":"info","message":"generation_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","generationRunId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","enhancedScore":80,"outputs":5,"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.254Z","level":"info","message":"placeholder_record_deleted","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","jobId":"60156a9f-e533-4f34-965b-10669d5d0222","placeholderIdentifier":"24ccf7cc-be61-4c50-9a6c-ad921268589a","template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60156a9f-e533-4f34-965b-10669d5d0222","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.255Z","level":"info","message":"http_request_completed","requestId":"24ccf7cc-be61-4c50-9a6c-ad921268589a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":74,"contentLength":"59251","template":"unknown","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"24ccf7cc-be61-4c50-9a6c-ad921268589a","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.259Z","level":"info","message":"http_request_received","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","method":"POST","path":"/api/process-cv","template":"unknown","session":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.261Z","level":"info","message":"process_cv_started","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","jobId":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","manualJobDescriptionProvided":true,"template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.261Z","level":"info","message":"template_selection","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","jobId":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.262Z","level":"warn","message":"resume_missing","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","jobId":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24914:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.270Z","level":"warn","message":"api_error_response","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","jobId":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","jobId":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4"},"template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f4e2af52-83a3-40aa-a2e4-b55679eff9d4","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24915:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.276Z","level":"info","message":"http_request_completed","requestId":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":17,"contentLength":"217","template":"unknown","session":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80fc9802-8a1a-4504-acd3-bf2d0ff0fadc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.278Z","level":"info","message":"http_request_received","requestId":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","method":"POST","path":"/api/process-cv","template":"unknown","session":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.282Z","level":"warn","message":"resume_upload_failed","requestId":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","jobId":"9d2ca642-6a60-4281-a57f-e41e29ff7769","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4820:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"9d2ca642-6a60-4281-a57f-e41e29ff7769","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d2ca642-6a60-4281-a57f-e41e29ff7769","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24608:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4819:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.292Z","level":"warn","message":"api_error_response","requestId":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","jobId":"9d2ca642-6a60-4281-a57f-e41e29ff7769","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","jobId":"9d2ca642-6a60-4281-a57f-e41e29ff7769"},"template":"unknown","session":"9d2ca642-6a60-4281-a57f-e41e29ff7769","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d2ca642-6a60-4281-a57f-e41e29ff7769","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24616:9)
      at respond (server.js:24620:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at cb (server.js:4819:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-11-30T16:03:55.306Z","level":"info","message":"http_request_completed","requestId":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":28,"contentLength":"267","template":"unknown","session":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3faba6bb-6d4c-4b28-88c8-b67164a3d6fa","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.312Z","level":"info","message":"http_request_received","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","method":"POST","path":"/api/process-cv","template":"unknown","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.314Z","level":"info","message":"process_cv_started","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","manualJobDescriptionProvided":true,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.315Z","level":"info","message":"template_selection","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.316Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.322Z","level":"info","message":"initial_upload_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","bucket":"test-bucket","key":"cv/candidate/39efba0c-526a-4052-a701-f7c4fa34097f/incoming/original.pdf","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.323Z","level":"info","message":"resume_text_extracted","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","characters":57,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.323Z","level":"info","message":"resume_classified","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.324Z","level":"info","message":"raw_upload_relocated","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","bucket":"test-bucket","fromKey":"cv/candidate/39efba0c-526a-4052-a701-f7c4fa34097f/incoming/original.pdf","toKey":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/original.pdf","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.325Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","bucket":"test-bucket","key":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/original.pdf","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.325Z","level":"info","message":"dynamo_initial_record_written","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","bucket":"test-bucket","key":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/original.pdf","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.326Z","level":"info","message":"upload_metadata_written","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","bucket":"test-bucket","key":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/logs/log.json","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.327Z","level":"info","message":"job_description_supplied_manually","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","characters":174,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.328Z","level":"info","message":"job_description_analyzed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","jobTitle":"","jobSkills":5,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.329Z","level":"info","message":"resume_skills_analyzed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.330Z","level":"info","message":"llm_call_metrics","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.331Z","level":"info","message":"process_cv_scoring_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.339Z","level":"info","message":"llm_call_metrics","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.340Z","level":"info","message":"generation_section_rewrite_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.341Z","level":"info","message":"llm_call_metrics","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.345Z","level":"info","message":"generation_resume_verified","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.349Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.356Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.362Z","level":"info","message":"generation_cover_letters_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","variants":2,"fallbackApplied":true,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.363Z","level":"info","message":"pdf_generation_attempt","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/enhanced_modern.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.364Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.365Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/enhanced_modern.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.366Z","level":"info","message":"pdf_generation_attempt","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/enhanced_professional.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.366Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.367Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/enhanced_professional.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.368Z","level":"info","message":"pdf_generation_attempt","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/cover_letter_cover_modern.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.369Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.370Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/cover_letter_cover_modern.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.370Z","level":"info","message":"pdf_generation_attempt","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/cover_letter_cover_professional.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.371Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.372Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/39efba0c-526a-4052-a701-f7c4fa34097f/cover_letter_cover_professional.pdf","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.377Z","level":"info","message":"llm_call_metrics","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.378Z","level":"info","message":"generation_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","generationRunId":"39efba0c-526a-4052-a701-f7c4fa34097f","enhancedScore":80,"outputs":5,"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.380Z","level":"info","message":"placeholder_record_deleted","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","jobId":"f2066e8a-0dde-490e-bb46-97a74f8864a8","placeholderIdentifier":"39efba0c-526a-4052-a701-f7c4fa34097f","template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f2066e8a-0dde-490e-bb46-97a74f8864a8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.381Z","level":"info","message":"http_request_completed","requestId":"39efba0c-526a-4052-a701-f7c4fa34097f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"58133","template":"unknown","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"39efba0c-526a-4052-a701-f7c4fa34097f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.383Z","level":"info","message":"http_request_received","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","method":"POST","path":"/api/process-cv","template":"unknown","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.393Z","level":"info","message":"process_cv_started","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","manualJobDescriptionProvided":true,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.393Z","level":"info","message":"template_selection","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.394Z","level":"info","message":"initial_upload_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","bucket":"test-bucket","key":"cv/candidate/b0807821-3d19-46ee-8e46-f504265f91c7/incoming/original.pdf","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.395Z","level":"info","message":"resume_text_extracted","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","characters":9,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.396Z","level":"info","message":"document_classification_ai_metrics","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.412Z","level":"info","message":"resume_classified","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.413Z","level":"info","message":"raw_upload_relocated","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","bucket":"test-bucket","fromKey":"cv/candidate/b0807821-3d19-46ee-8e46-f504265f91c7/incoming/original.pdf","toKey":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original.docx","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.413Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","bucket":"test-bucket","key":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original.docx","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.414Z","level":"info","message":"dynamo_initial_record_written","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","bucket":"test-bucket","key":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original.docx","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.414Z","level":"info","message":"upload_metadata_written","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","bucket":"test-bucket","key":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/logs/log.json","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.415Z","level":"info","message":"job_description_supplied_manually","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","characters":174,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.416Z","level":"info","message":"job_description_analyzed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","jobTitle":"","jobSkills":5,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.416Z","level":"info","message":"resume_skills_analyzed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.417Z","level":"info","message":"llm_call_metrics","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.419Z","level":"info","message":"process_cv_scoring_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.423Z","level":"info","message":"llm_call_metrics","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.423Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.424Z","level":"info","message":"llm_call_metrics","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.427Z","level":"info","message":"generation_resume_verified","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.431Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.437Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.443Z","level":"info","message":"generation_cover_letters_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","variants":2,"fallbackApplied":true,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.445Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","originalUploadKey":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.445Z","level":"info","message":"original_upload_pdf_generated","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","storageKey":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original/original_upload.pdf","originalUploadKey":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/original.docx","originalUploadExtension":".docx","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.446Z","level":"info","message":"pdf_generation_attempt","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/enhanced_modern.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.447Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.448Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/enhanced_modern.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.448Z","level":"info","message":"pdf_generation_attempt","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/enhanced_professional.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.449Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.450Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/enhanced_professional.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.450Z","level":"info","message":"pdf_generation_attempt","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/cover_letter_cover_modern.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.451Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.452Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/cover_letter_cover_modern.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.453Z","level":"info","message":"pdf_generation_attempt","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/cover_letter_cover_professional.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.455Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.456Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/b0807821-3d19-46ee-8e46-f504265f91c7/cover_letter_cover_professional.pdf","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.458Z","level":"info","message":"llm_call_metrics","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.460Z","level":"info","message":"generation_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","generationRunId":"b0807821-3d19-46ee-8e46-f504265f91c7","enhancedScore":80,"outputs":6,"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.461Z","level":"info","message":"placeholder_record_deleted","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","jobId":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","placeholderIdentifier":"b0807821-3d19-46ee-8e46-f504265f91c7","template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cc8f44bb-c1b7-44f0-9963-1bbd2467de07","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.462Z","level":"info","message":"http_request_completed","requestId":"b0807821-3d19-46ee-8e46-f504265f91c7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":79,"contentLength":"58696","template":"unknown","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0807821-3d19-46ee-8e46-f504265f91c7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.469Z","level":"info","message":"http_request_received","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","method":"POST","path":"/api/process-cv","template":"unknown","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.477Z","level":"info","message":"process_cv_started","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","manualJobDescriptionProvided":true,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.478Z","level":"info","message":"template_selection","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.480Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.510Z","level":"info","message":"initial_upload_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","bucket":"test-bucket","key":"cv/candidate/639c9b49-7d34-4ad8-9396-54c82881bc32/incoming/original.pdf","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.511Z","level":"info","message":"resume_text_extracted","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","characters":57,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.513Z","level":"info","message":"resume_classified","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.541Z","level":"info","message":"raw_upload_relocated","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","bucket":"test-bucket","fromKey":"cv/candidate/639c9b49-7d34-4ad8-9396-54c82881bc32/incoming/original.pdf","toKey":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/original.pdf","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.558Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","bucket":"test-bucket","key":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/original.pdf","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.567Z","level":"info","message":"dynamo_initial_record_written","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","bucket":"test-bucket","key":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/original.pdf","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.569Z","level":"info","message":"upload_metadata_written","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","bucket":"test-bucket","key":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/logs/log.json","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.570Z","level":"info","message":"job_description_supplied_manually","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","characters":174,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.571Z","level":"info","message":"job_description_analyzed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","jobTitle":"","jobSkills":5,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.574Z","level":"info","message":"resume_skills_analyzed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.575Z","level":"info","message":"llm_call_metrics","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.582Z","level":"info","message":"process_cv_scoring_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.605Z","level":"info","message":"llm_call_metrics","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.607Z","level":"info","message":"generation_section_rewrite_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.608Z","level":"info","message":"llm_call_metrics","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.613Z","level":"info","message":"generation_resume_verified","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.618Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.634Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.643Z","level":"info","message":"generation_cover_letters_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","variants":2,"fallbackApplied":true,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.644Z","level":"info","message":"pdf_generation_attempt","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/enhanced_modern.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.645Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.646Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/enhanced_modern.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.648Z","level":"info","message":"pdf_generation_attempt","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/enhanced_professional.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.648Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.649Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/enhanced_professional.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.650Z","level":"info","message":"pdf_generation_attempt","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/cover_letter_cover_modern.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.650Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.651Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/cover_letter_cover_modern.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.652Z","level":"info","message":"pdf_generation_attempt","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/cover_letter_cover_professional.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.653Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.653Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/639c9b49-7d34-4ad8-9396-54c82881bc32/cover_letter_cover_professional.pdf","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.656Z","level":"info","message":"llm_call_metrics","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.658Z","level":"info","message":"generation_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","generationRunId":"639c9b49-7d34-4ad8-9396-54c82881bc32","enhancedScore":80,"outputs":5,"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.659Z","level":"info","message":"placeholder_record_deleted","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","jobId":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","placeholderIdentifier":"639c9b49-7d34-4ad8-9396-54c82881bc32","template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5bc91b4-bae9-4851-98c8-8919431b0fe7","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.660Z","level":"info","message":"http_request_completed","requestId":"639c9b49-7d34-4ad8-9396-54c82881bc32","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":191,"contentLength":"58133","template":"unknown","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"639c9b49-7d34-4ad8-9396-54c82881bc32","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.664Z","level":"info","message":"http_request_received","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","method":"POST","path":"/api/process-cv","template":"unknown","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.732Z","level":"info","message":"process_cv_started","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","manualJobDescriptionProvided":true,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.733Z","level":"info","message":"template_selection","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.737Z","level":"info","message":"initial_upload_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","bucket":"test-bucket","key":"cv/candidate/645b66a6-f604-4eea-a3ae-96689805747d/incoming/original.pdf","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.739Z","level":"info","message":"resume_text_extracted","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","characters":9,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.740Z","level":"info","message":"document_classification_ai_metrics","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.741Z","level":"info","message":"resume_classified","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.742Z","level":"info","message":"raw_upload_relocated","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","bucket":"test-bucket","fromKey":"cv/candidate/645b66a6-f604-4eea-a3ae-96689805747d/incoming/original.pdf","toKey":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original.docx","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.743Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","bucket":"test-bucket","key":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original.docx","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.744Z","level":"info","message":"dynamo_initial_record_written","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","bucket":"test-bucket","key":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original.docx","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.745Z","level":"info","message":"upload_metadata_written","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","bucket":"test-bucket","key":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/logs/log.json","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.746Z","level":"info","message":"job_description_supplied_manually","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","characters":174,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.748Z","level":"info","message":"job_description_analyzed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","jobTitle":"","jobSkills":5,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.750Z","level":"info","message":"resume_skills_analyzed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.751Z","level":"info","message":"llm_call_metrics","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.753Z","level":"info","message":"process_cv_scoring_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.772Z","level":"info","message":"llm_call_metrics","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.774Z","level":"info","message":"generation_section_rewrite_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.775Z","level":"info","message":"llm_call_metrics","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.778Z","level":"info","message":"generation_resume_verified","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.784Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.warn
    {"timestamp":"2025-11-30T16:03:55.791Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.796Z","level":"info","message":"generation_cover_letters_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","variants":2,"fallbackApplied":true,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.798Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","originalUploadKey":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.798Z","level":"info","message":"original_upload_pdf_generated","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","storageKey":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original/original_upload.pdf","originalUploadKey":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/original.docx","originalUploadExtension":".docx","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.799Z","level":"info","message":"pdf_generation_attempt","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/enhanced_modern.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.802Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.803Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/enhanced_modern.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.803Z","level":"info","message":"pdf_generation_attempt","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/enhanced_professional.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.804Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.805Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/enhanced_professional.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.806Z","level":"info","message":"pdf_generation_attempt","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/cover_letter_cover_modern.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.806Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.807Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/cover_letter_cover_modern.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.808Z","level":"info","message":"pdf_generation_attempt","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/cover_letter_cover_professional.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.809Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.809Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/645b66a6-f604-4eea-a3ae-96689805747d/cover_letter_cover_professional.pdf","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.814Z","level":"info","message":"llm_call_metrics","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.816Z","level":"info","message":"generation_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","generationRunId":"645b66a6-f604-4eea-a3ae-96689805747d","enhancedScore":80,"outputs":6,"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.818Z","level":"info","message":"placeholder_record_deleted","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","jobId":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","placeholderIdentifier":"645b66a6-f604-4eea-a3ae-96689805747d","template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3984021-2dd0-4b33-a05c-7a43e9897ab5","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.819Z","level":"info","message":"http_request_completed","requestId":"645b66a6-f604-4eea-a3ae-96689805747d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":156,"contentLength":"58696","template":"unknown","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645b66a6-f604-4eea-a3ae-96689805747d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.823Z","level":"info","message":"http_request_received","requestId":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","method":"POST","path":"/api/process-cv","template":"unknown","session":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.832Z","level":"warn","message":"resume_upload_failed","requestId":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","jobId":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24608:7)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.841Z","level":"warn","message":"api_error_response","requestId":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","jobId":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","jobId":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92"},"template":"unknown","session":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58cc5c1d-09b1-4c70-a2b2-839d6c4cce92","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24616:9)
      at respond (server.js:24620:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:152:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:136:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.847Z","level":"info","message":"http_request_completed","requestId":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"215","template":"unknown","session":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"538ce3f6-f7ff-4ebc-a66b-15a055883c87","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.852Z","level":"info","message":"http_request_received","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","method":"POST","path":"/api/process-cv","template":"unknown","session":"17d0b770-0ea2-4dd9-b497-21c894f44086","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17d0b770-0ea2-4dd9-b497-21c894f44086","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.854Z","level":"info","message":"process_cv_started","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","manualJobDescriptionProvided":true,"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.855Z","level":"info","message":"template_selection","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.855Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.861Z","level":"info","message":"initial_upload_completed","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","bucket":"test-bucket","key":"cv/candidate/17d0b770-0ea2-4dd9-b497-21c894f44086/incoming/original.pdf","template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.861Z","level":"info","message":"resume_text_extracted","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","characters":70,"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.862Z","level":"info","message":"document_classification_ai_metrics","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.863Z","level":"info","message":"resume_classified","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.863Z","level":"warn","message":"resume_validation_failed","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-11-30/17d0b770-0ea2-4dd9-b497-21c894f44086/an-invoice-67e9666d-53de-494e-b61d-000918e790bb.pdf","classification":"an invoice","template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:25495:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.869Z","level":"warn","message":"api_error_response","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-11-30/17d0b770-0ea2-4dd9-b497-21c894f44086/an-invoice-67e9666d-53de-494e-b61d-000918e790bb.pdf","invalidStorageKey":"invalid/candidate/2025-11-30/17d0b770-0ea2-4dd9-b497-21c894f44086/an-invoice-67e9666d-53de-494e-b61d-000918e790bb.pdf"},"requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","jobId":"61e43486-6a02-4201-ab6e-3b9595ef2605"},"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61e43486-6a02-4201-ab6e-3b9595ef2605","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:25570:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.874Z","level":"info","message":"http_request_completed","requestId":"17d0b770-0ea2-4dd9-b497-21c894f44086","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"871","template":"unknown","session":"17d0b770-0ea2-4dd9-b497-21c894f44086","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17d0b770-0ea2-4dd9-b497-21c894f44086","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.876Z","level":"info","message":"http_request_received","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","method":"POST","path":"/api/process-cv","template":"unknown","session":"f75086e7-f68b-4703-ac39-07d09265faea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f75086e7-f68b-4703-ac39-07d09265faea","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.880Z","level":"info","message":"process_cv_started","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","manualJobDescriptionProvided":true,"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.881Z","level":"info","message":"template_selection","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.882Z","level":"info","message":"initial_upload_completed","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","bucket":"test-bucket","key":"cv/candidate/f75086e7-f68b-4703-ac39-07d09265faea/incoming/original.pdf","template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.882Z","level":"info","message":"resume_text_extracted","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","characters":52,"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.883Z","level":"info","message":"document_classification_ai_metrics","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.884Z","level":"info","message":"resume_classified","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.884Z","level":"warn","message":"resume_validation_failed","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-11-30/f75086e7-f68b-4703-ac39-07d09265faea/a-short-memo-87191843-15fb-4846-bad1-0d1003f20eed.docx","classification":"a short memo","template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:25495:9)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.890Z","level":"warn","message":"api_error_response","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-11-30/f75086e7-f68b-4703-ac39-07d09265faea/a-short-memo-87191843-15fb-4846-bad1-0d1003f20eed.docx","invalidStorageKey":"invalid/candidate/2025-11-30/f75086e7-f68b-4703-ac39-07d09265faea/a-short-memo-87191843-15fb-4846-bad1-0d1003f20eed.docx"},"requestId":"f75086e7-f68b-4703-ac39-07d09265faea","jobId":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf"},"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a261e205-8e4d-4ebd-91a7-00d351d5fdaf","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:25570:14)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.895Z","level":"info","message":"http_request_completed","requestId":"f75086e7-f68b-4703-ac39-07d09265faea","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":19,"contentLength":"748","template":"unknown","session":"f75086e7-f68b-4703-ac39-07d09265faea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f75086e7-f68b-4703-ac39-07d09265faea","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.899Z","level":"info","message":"http_request_received","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","method":"POST","path":"/api/process-cv","template":"unknown","session":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.901Z","level":"info","message":"process_cv_started","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","jobId":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","manualJobDescriptionProvided":false,"template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.902Z","level":"info","message":"template_selection","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","jobId":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.902Z","level":"warn","message":"job_description_missing","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","jobId":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24924:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.907Z","level":"warn","message":"api_error_response","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","jobId":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","jobId":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d"},"template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"595ca91e-9eb2-4e2b-91e2-cf6b1e58460d","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:24925:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.913Z","level":"info","message":"http_request_completed","requestId":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":14,"contentLength":"244","template":"unknown","session":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"eeb9826b-5d2d-48dc-8eee-5c6ff051fab8","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.915Z","level":"info","message":"http_request_received","requestId":"c90bbd6a-f470-4318-88ba-99634f7116ce","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c90bbd6a-f470-4318-88ba-99634f7116ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c90bbd6a-f470-4318-88ba-99634f7116ce","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.918Z","level":"warn","message":"api_error_response","requestId":"c90bbd6a-f470-4318-88ba-99634f7116ce","jobId":"48b64d8a-11ef-4849-b06a-e62da7e36bbb","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"c90bbd6a-f470-4318-88ba-99634f7116ce","jobId":"48b64d8a-11ef-4849-b06a-e62da7e36bbb"},"template":"unknown","session":"48b64d8a-11ef-4849-b06a-e62da7e36bbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"48b64d8a-11ef-4849-b06a-e62da7e36bbb","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:3851:3)
      at sendError (server.js:22334:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:16251:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at clientStaticMiddleware (server.js:4786:14)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1142:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:1473:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:4767:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-11-30T16:03:55.927Z","level":"info","message":"http_request_completed","requestId":"c90bbd6a-f470-4318-88ba-99634f7116ce","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":12,"contentLength":"225","template":"unknown","session":"c90bbd6a-f470-4318-88ba-99634f7116ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c90bbd6a-f470-4318-88ba-99634f7116ce","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.929Z","level":"info","message":"http_request_received","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.930Z","level":"warn","message":"generation_job_context_missing","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.940Z","level":"info","message":"llm_call_metrics","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.940Z","level":"info","message":"generation_section_rewrite_completed","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.944Z","level":"info","message":"generation_resume_verified","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.949Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:55.956Z","level":"info","message":"generation_cover_letters_completed","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","variants":2,"fallbackApplied":true,"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.957Z","level":"info","message":"pdf_generation_attempt","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/enhanced_modern.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.957Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.958Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/enhanced_modern.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.959Z","level":"info","message":"pdf_generation_attempt","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/enhanced_professional.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.959Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.960Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/enhanced_professional.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.961Z","level":"info","message":"pdf_generation_attempt","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/cover_letter_cover_modern.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.961Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.962Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/cover_letter_cover_modern.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.963Z","level":"info","message":"pdf_generation_attempt","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/cover_letter_cover_professional.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.963Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.964Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/fe3e3671-21be-4d0a-8ad1-29512da8ed1c/cover_letter_cover_professional.pdf","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.966Z","level":"info","message":"llm_call_metrics","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.967Z","level":"info","message":"generation_completed","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","enhancedScore":0,"outputs":4,"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.970Z","level":"info","message":"http_request_completed","requestId":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"55422","template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fe3e3671-21be-4d0a-8ad1-29512da8ed1c","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:55.973Z","level":"info","message":"http_request_received","requestId":"2e13e433-4016-49fc-b786-2f075e019236","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:55.975Z","level":"warn","message":"generation_job_context_missing","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.987Z","level":"info","message":"llm_call_metrics","requestId":"2e13e433-4016-49fc-b786-2f075e019236","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.988Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:55.992Z","level":"info","message":"generation_resume_verified","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.003Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.008Z","level":"info","message":"generation_cover_letters_completed","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","variants":2,"fallbackApplied":true,"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.009Z","level":"info","message":"pdf_generation_attempt","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/enhanced_modern.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.010Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.010Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/enhanced_modern.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.013Z","level":"info","message":"pdf_generation_attempt","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/enhanced_professional.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.013Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.014Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/enhanced_professional.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.015Z","level":"info","message":"pdf_generation_attempt","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/cover_letter_cover_modern.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.015Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.016Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/cover_letter_cover_modern.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.017Z","level":"info","message":"pdf_generation_attempt","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/cover_letter_cover_professional.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.018Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.018Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/2e13e433-4016-49fc-b786-2f075e019236/cover_letter_cover_professional.pdf","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.023Z","level":"info","message":"llm_call_metrics","requestId":"2e13e433-4016-49fc-b786-2f075e019236","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.024Z","level":"info","message":"generation_completed","requestId":"2e13e433-4016-49fc-b786-2f075e019236","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"2e13e433-4016-49fc-b786-2f075e019236","enhancedScore":0,"outputs":4,"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.026Z","level":"info","message":"http_request_completed","requestId":"2e13e433-4016-49fc-b786-2f075e019236","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":53,"contentLength":"60025","template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2e13e433-4016-49fc-b786-2f075e019236","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.029Z","level":"info","message":"http_request_received","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.031Z","level":"warn","message":"generation_job_context_missing","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.042Z","level":"info","message":"llm_call_metrics","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.043Z","level":"info","message":"generation_section_rewrite_completed","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.047Z","level":"info","message":"generation_resume_verified","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.053Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:03:56.059Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","missing":["cover_letter1"],"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.065Z","level":"info","message":"generation_cover_letters_completed","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","variants":2,"fallbackApplied":true,"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.066Z","level":"info","message":"pdf_generation_attempt","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/enhanced_modern.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.066Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.067Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/enhanced_modern.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.069Z","level":"info","message":"pdf_generation_attempt","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/enhanced_professional.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.070Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.070Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/enhanced_professional.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.071Z","level":"info","message":"pdf_generation_attempt","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/cover_letter_cover_modern.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.071Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.072Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/cover_letter_cover_modern.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.073Z","level":"info","message":"pdf_generation_attempt","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/cover_letter_cover_professional.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.074Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/645d8196-daf0-49b9-b53f-d7cc03fa05fe/cover_letter_cover_professional.pdf","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.078Z","level":"info","message":"llm_call_metrics","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.079Z","level":"info","message":"generation_completed","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","enhancedScore":0,"outputs":4,"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.081Z","level":"info","message":"http_request_completed","requestId":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":52,"contentLength":"52626","template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"645d8196-daf0-49b9-b53f-d7cc03fa05fe","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.084Z","level":"info","message":"http_request_received","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.085Z","level":"warn","message":"generation_job_context_missing","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.094Z","level":"info","message":"llm_call_metrics","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.095Z","level":"info","message":"generation_section_rewrite_completed","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.098Z","level":"info","message":"generation_resume_verified","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.105Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.111Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","variants":["cover_letter1"],"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.113Z","level":"info","message":"generation_cover_letters_completed","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","variants":2,"fallbackApplied":true,"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.114Z","level":"info","message":"pdf_generation_attempt","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/enhanced_modern.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.114Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.115Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/enhanced_modern.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.116Z","level":"info","message":"pdf_generation_attempt","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/enhanced_professional.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.116Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.117Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/enhanced_professional.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.117Z","level":"info","message":"pdf_generation_attempt","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/cover_letter_cover_modern.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.118Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.119Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/cover_letter_cover_modern.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.119Z","level":"info","message":"pdf_generation_attempt","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/cover_letter_cover_professional.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.121Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.121Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/caaeb428-044e-43af-94e5-996473ef1c4f/cover_letter_cover_professional.pdf","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.127Z","level":"info","message":"llm_call_metrics","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.127Z","level":"info","message":"generation_completed","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"caaeb428-044e-43af-94e5-996473ef1c4f","enhancedScore":0,"outputs":4,"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.132Z","level":"info","message":"http_request_completed","requestId":"caaeb428-044e-43af-94e5-996473ef1c4f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":48,"contentLength":"48347","template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"caaeb428-044e-43af-94e5-996473ef1c4f","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.135Z","level":"info","message":"http_request_received","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.136Z","level":"warn","message":"generation_job_context_missing","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.145Z","level":"info","message":"llm_call_metrics","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.145Z","level":"info","message":"generation_section_rewrite_completed","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.148Z","level":"info","message":"generation_resume_verified","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.164Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:03:56.170Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.176Z","level":"info","message":"generation_cover_letters_completed","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","variants":2,"fallbackApplied":true,"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.177Z","level":"info","message":"pdf_generation_attempt","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/enhanced_modern.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.177Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.178Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/enhanced_modern.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.179Z","level":"info","message":"pdf_generation_attempt","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/enhanced_professional.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.179Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.180Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/enhanced_professional.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.181Z","level":"info","message":"pdf_generation_attempt","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/cover_letter_cover_modern.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.182Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/cover_letter_cover_modern.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.183Z","level":"info","message":"pdf_generation_attempt","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/cover_letter_cover_professional.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.183Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.184Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/955507e3-ece4-4cb0-805c-4dffbb3d7eab/cover_letter_cover_professional.pdf","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.192Z","level":"info","message":"llm_call_metrics","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.193Z","level":"info","message":"generation_completed","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","enhancedScore":0,"outputs":4,"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.195Z","level":"info","message":"http_request_completed","requestId":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":60,"contentLength":"60025","template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"955507e3-ece4-4cb0-805c-4dffbb3d7eab","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.198Z","level":"info","message":"http_request_received","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.200Z","level":"warn","message":"generation_job_context_missing","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22526:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.211Z","level":"info","message":"llm_call_metrics","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.212Z","level":"info","message":"generation_section_rewrite_completed","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.214Z","level":"info","message":"generation_resume_verified","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.217Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20569:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.222Z","level":"info","message":"generation_cover_letters_completed","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","variants":0,"fallbackApplied":false,"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.223Z","level":"info","message":"pdf_generation_attempt","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/enhanced_modern.pdf","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.223Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.224Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/enhanced_modern.pdf","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.225Z","level":"info","message":"pdf_generation_attempt","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/enhanced_professional.pdf","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.225Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.226Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/98d9b2c3-54a9-497b-befa-684f97c81866/enhanced_professional.pdf","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.228Z","level":"info","message":"llm_call_metrics","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.229Z","level":"info","message":"generation_completed","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"98d9b2c3-54a9-497b-befa-684f97c81866","enhancedScore":0,"outputs":2,"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.232Z","level":"info","message":"http_request_completed","requestId":"98d9b2c3-54a9-497b-befa-684f97c81866","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":34,"contentLength":"32129","template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98d9b2c3-54a9-497b-befa-684f97c81866","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.235Z","level":"info","message":"http_request_received","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.239Z","level":"warn","message":"generation_change_log_load_failed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22592:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22594:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.245Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.248Z","level":"info","message":"llm_call_metrics","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.249Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.249Z","level":"info","message":"llm_call_metrics","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.254Z","level":"info","message":"generation_resume_verified","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.257Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:03:56.263Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.269Z","level":"info","message":"generation_cover_letters_completed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","variants":2,"fallbackApplied":true,"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.269Z","level":"info","message":"pdf_generation_attempt","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.270Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.271Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.272Z","level":"info","message":"pdf_generation_attempt","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.273Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.273Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.274Z","level":"info","message":"pdf_generation_attempt","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.274Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.275Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.276Z","level":"info","message":"pdf_generation_attempt","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.276Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.277Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.279Z","level":"info","message":"llm_call_metrics","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.280Z","level":"info","message":"generation_completed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","enhancedScore":0,"outputs":5,"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.283Z","level":"info","message":"http_request_completed","requestId":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":48,"contentLength":"52667","template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6603bbf8-2320-46bb-a37b-0f76bb6697fd","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.286Z","level":"info","message":"http_request_received","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.288Z","level":"warn","message":"generation_change_log_load_failed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22592:33\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:22594:13)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.296Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.298Z","level":"info","message":"llm_call_metrics","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.299Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.299Z","level":"info","message":"llm_call_metrics","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.302Z","level":"info","message":"generation_resume_verified","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.306Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20363:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.warn
    {"timestamp":"2025-11-30T16:03:56.312Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:22829:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.317Z","level":"info","message":"generation_cover_letters_completed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","variants":2,"fallbackApplied":true,"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.318Z","level":"info","message":"pdf_generation_attempt","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.319Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.319Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.320Z","level":"info","message":"pdf_generation_attempt","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.321Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.321Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.322Z","level":"info","message":"pdf_generation_attempt","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.322Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.323Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.324Z","level":"info","message":"pdf_generation_attempt","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.324Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.325Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.327Z","level":"info","message":"llm_call_metrics","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.328Z","level":"info","message":"generation_completed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","enhancedScore":0,"outputs":5,"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.331Z","level":"info","message":"http_request_completed","requestId":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":45,"contentLength":"50998","template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a57d9a34-bf22-47f0-a35b-5d04a5b67bb2","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.334Z","level":"info","message":"http_request_received","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","method":"POST","path":"/api/process-cv","template":"unknown","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.335Z","level":"info","message":"process_cv_started","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","manualJobDescriptionProvided":true,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.336Z","level":"info","message":"template_selection","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.337Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:24960:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at next (server.js:24600:9)
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-11-30T16:03:56.342Z","level":"info","message":"initial_upload_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","bucket":"test-bucket","key":"cv/candidate/03d59ed6-29a2-4010-b54b-3154e25ef430/incoming/original.pdf","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.343Z","level":"info","message":"resume_text_extracted","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","characters":57,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.343Z","level":"info","message":"resume_classified","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.344Z","level":"info","message":"raw_upload_relocated","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","bucket":"test-bucket","fromKey":"cv/candidate/03d59ed6-29a2-4010-b54b-3154e25ef430/incoming/original.pdf","toKey":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/original.pdf","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.344Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","bucket":"test-bucket","key":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/original.pdf","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.344Z","level":"info","message":"dynamo_initial_record_written","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","bucket":"test-bucket","key":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/original.pdf","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.345Z","level":"info","message":"upload_metadata_written","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","bucket":"test-bucket","key":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/logs/log.json","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.345Z","level":"info","message":"job_description_supplied_manually","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","characters":174,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.346Z","level":"info","message":"job_description_analyzed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","jobTitle":"","jobSkills":5,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.347Z","level":"info","message":"resume_skills_analyzed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.348Z","level":"info","message":"llm_call_metrics","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.349Z","level":"info","message":"process_cv_scoring_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.352Z","level":"info","message":"llm_call_metrics","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.352Z","level":"info","message":"generation_section_rewrite_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.355Z","level":"info","message":"generation_resume_verified","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.359Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:20552:7)
          at runMicrotasks (<anonymous>)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.366Z","level":"info","message":"generation_cover_letters_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","variants":2,"fallbackApplied":true,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.367Z","level":"info","message":"pdf_generation_attempt","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_modern.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.367Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:03:56.369Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3316:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21130:11)
      at server.js:26559:28

  console.log
    {"timestamp":"2025-11-30T16:03:56.374Z","level":"info","message":"pdf_generation_attempt","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.374Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.375Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.375Z","level":"info","message":"pdf_generation_attempt","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.376Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.377Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/enhanced_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.377Z","level":"info","message":"pdf_generation_attempt","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/cover_letter_cover_modern.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.378Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.379Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/cover_letter_cover_modern.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.379Z","level":"info","message":"pdf_generation_attempt","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/cover_letter_cover_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.380Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.381Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/03d59ed6-29a2-4010-b54b-3154e25ef430/cover_letter_cover_professional.pdf","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.384Z","level":"info","message":"llm_call_metrics","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.385Z","level":"info","message":"generation_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","generationRunId":"03d59ed6-29a2-4010-b54b-3154e25ef430","enhancedScore":80,"outputs":5,"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.387Z","level":"info","message":"placeholder_record_deleted","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","jobId":"8b647fb0-ce57-43d4-9525-97cc678ecb66","placeholderIdentifier":"03d59ed6-29a2-4010-b54b-3154e25ef430","template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b647fb0-ce57-43d4-9525-97cc678ecb66","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.388Z","level":"info","message":"http_request_completed","requestId":"03d59ed6-29a2-4010-b54b-3154e25ef430","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"59519","template":"unknown","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03d59ed6-29a2-4010-b54b-3154e25ef430","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.390Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.410Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:03:56.411Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3421:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3435:20)

  console.log
    {"timestamp":"2025-11-30T16:03:56.417Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.417Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.418Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.418Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.421Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.422Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:03:56.423Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3460:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3464:20)

  console.log
    {"timestamp":"2025-11-30T16:03:56.428Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.428Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.429Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.430Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.430Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:03:56.431Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3482:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3495:20)

  console.log
    {"timestamp":"2025-11-30T16:03:56.437Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.437Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.437Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.438Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.439Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-11-30T16:03:56.440Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3513:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10842:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3550:5)

  console.warn
    {"timestamp":"2025-11-30T16:03:56.447Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:10986:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3550:5)

  console.error
    {"timestamp":"2025-11-30T16:03:56.453Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3515:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9622:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10990:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3550:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11035:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3550:5)

  console.error
    {"timestamp":"2025-11-30T16:03:56.459Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3518:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11056:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3550:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3515:13\n    at plainPdfFallbackOverride (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9622:12)\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:10990:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3550:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11079:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3550:5)

  console.error
    {"timestamp":"2025-11-30T16:03:56.467Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3518:13\n    at minimalPlainPdfBufferGenerator (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11056:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.js:3550:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3340 |     const safePayload = sanitizeLogPayload(payload);
      3341 |     const serialised = JSON.stringify(safePayload);
    > 3342 |     logFn(serialised);
           |     ^
      3343 |     if (level === 'error') {
      3344 |       scheduleErrorLog(safePayload);
      3345 |     }

      at logFn (server.js:3342:5)
      at logStructured (server.js:11101:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.js:3550:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.502Z","level":"info","message":"http_request_received","requestId":"5129fd4a-dea1-425c-9119-d7404c0f1995","method":"POST","path":"/api/change-log","template":"unknown","session":"5129fd4a-dea1-425c-9119-d7404c0f1995","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5129fd4a-dea1-425c-9119-d7404c0f1995","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.506Z","level":"info","message":"change_log_updated","requestId":"5129fd4a-dea1-425c-9119-d7404c0f1995","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.507Z","level":"info","message":"http_request_completed","requestId":"5129fd4a-dea1-425c-9119-d7404c0f1995","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"48197","template":"unknown","session":"5129fd4a-dea1-425c-9119-d7404c0f1995","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5129fd4a-dea1-425c-9119-d7404c0f1995","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.511Z","level":"info","message":"http_request_received","requestId":"2b52204d-d304-4da6-be8b-575fe6650768","method":"POST","path":"/api/change-log","template":"unknown","session":"2b52204d-d304-4da6-be8b-575fe6650768","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b52204d-d304-4da6-be8b-575fe6650768","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.516Z","level":"info","message":"change_log_updated","requestId":"2b52204d-d304-4da6-be8b-575fe6650768","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.517Z","level":"info","message":"http_request_completed","requestId":"2b52204d-d304-4da6-be8b-575fe6650768","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":6,"contentLength":"1958","template":"unknown","session":"2b52204d-d304-4da6-be8b-575fe6650768","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2b52204d-d304-4da6-be8b-575fe6650768","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.523Z","level":"info","message":"http_request_received","requestId":"7eb87022-f26a-44cd-906e-e06f41333e0b","method":"POST","path":"/api/change-log","template":"unknown","session":"7eb87022-f26a-44cd-906e-e06f41333e0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eb87022-f26a-44cd-906e-e06f41333e0b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.530Z","level":"info","message":"change_log_updated","requestId":"7eb87022-f26a-44cd-906e-e06f41333e0b","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.532Z","level":"info","message":"http_request_completed","requestId":"7eb87022-f26a-44cd-906e-e06f41333e0b","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"6061","template":"unknown","session":"7eb87022-f26a-44cd-906e-e06f41333e0b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eb87022-f26a-44cd-906e-e06f41333e0b","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.535Z","level":"info","message":"http_request_received","requestId":"10f496dc-2232-414e-8c39-00d3bc5b68f6","method":"POST","path":"/api/change-log","template":"unknown","session":"10f496dc-2232-414e-8c39-00d3bc5b68f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10f496dc-2232-414e-8c39-00d3bc5b68f6","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.538Z","level":"info","message":"change_log_updated","requestId":"10f496dc-2232-414e-8c39-00d3bc5b68f6","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.542Z","level":"info","message":"http_request_completed","requestId":"10f496dc-2232-414e-8c39-00d3bc5b68f6","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"10f496dc-2232-414e-8c39-00d3bc5b68f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10f496dc-2232-414e-8c39-00d3bc5b68f6","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.544Z","level":"info","message":"http_request_received","requestId":"e4dae017-8f89-4733-befe-9c2f942f0ac9","method":"POST","path":"/api/change-log","template":"unknown","session":"e4dae017-8f89-4733-befe-9c2f942f0ac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4dae017-8f89-4733-befe-9c2f942f0ac9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.546Z","level":"info","message":"change_log_updated","requestId":"e4dae017-8f89-4733-befe-9c2f942f0ac9","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.546Z","level":"info","message":"http_request_completed","requestId":"e4dae017-8f89-4733-befe-9c2f942f0ac9","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":2,"contentLength":"789","template":"unknown","session":"e4dae017-8f89-4733-befe-9c2f942f0ac9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e4dae017-8f89-4733-befe-9c2f942f0ac9","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.548Z","level":"info","message":"http_request_received","requestId":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","method":"POST","path":"/api/change-log","template":"unknown","session":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.550Z","level":"info","message":"change_log_updated","requestId":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.551Z","level":"info","message":"http_request_completed","requestId":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":3,"contentLength":"350","template":"unknown","session":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"37bf5e8c-b162-4849-9dc1-d6dbc89da5b0","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.553Z","level":"info","message":"http_request_received","requestId":"467151a0-9d26-4bb6-94e6-73b69f560422","method":"POST","path":"/api/change-log","template":"unknown","session":"467151a0-9d26-4bb6-94e6-73b69f560422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"467151a0-9d26-4bb6-94e6-73b69f560422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.555Z","level":"info","message":"change_log_updated","requestId":"467151a0-9d26-4bb6-94e6-73b69f560422","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.556Z","level":"info","message":"http_request_completed","requestId":"467151a0-9d26-4bb6-94e6-73b69f560422","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":3,"contentLength":"1151","template":"unknown","session":"467151a0-9d26-4bb6-94e6-73b69f560422","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"467151a0-9d26-4bb6-94e6-73b69f560422","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.559Z","level":"info","message":"http_request_received","requestId":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","method":"POST","path":"/api/change-log","template":"unknown","session":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.562Z","level":"info","message":"change_log_updated","requestId":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.562Z","level":"info","message":"http_request_completed","requestId":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":3,"contentLength":"596","template":"unknown","session":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"368bdb4c-2c46-4875-9211-7c6d9c89d5cc","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.564Z","level":"info","message":"http_request_received","requestId":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","method":"POST","path":"/api/change-log","template":"unknown","session":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

  console.log
    {"timestamp":"2025-11-30T16:03:56.569Z","level":"info","message":"change_log_updated","requestId":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-11-30T16:03:56.569Z","level":"info","message":"http_request_completed","requestId":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":5,"contentLength":"2337","template":"unknown","session":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1747eaba-1765-4bfe-80cc-555dfdeafcbb","build":"local-dev","artifactType":"none"}}

      at logFn (server.js:3342:5)

PASS tests/server.test.js (6.861 s)
  health check
     GET /healthz (341 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (7 ms)
     serves hashed index asset from S3 when local file is missing (9 ms)
     serves hashed index asset directly from the bundled client when available (12 ms)
     strips API Gateway stage prefixes before resolving static index aliases (6 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (7 ms)
     serves the latest index asset alias via S3 when local files are unavailable (9 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (5 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (8 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (488 ms)
  static asset proxy endpoint
     serves the index alias via the local build (8 ms)
     normalizes stray punctuation in proxy asset queries (6 ms)
     strips inline alias annotations from hashed proxy asset queries (6 ms)
     falls back to S3 when the hashed bundle is unavailable locally (8 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (17 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (16 ms)
     rejects invalid asset paths (15 ms)
  static asset manifest endpoint
     returns manifest data when available (4 ms)
     allows forcing a manifest refresh via query parameter (6 ms)
     returns 503 when manifest is unavailable (16 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (260 ms)
     removes stale session change logs when starting a new upload session (74 ms)
     removes session change log data when the session prefix is reused (62 ms)
     requires manual job description input (81 ms)
     sanitizes manual job description input before analysis (55 ms)
     rejects manual job description input containing prohibited HTML tags (15 ms)
     stores sanitized job description as session input metadata (55 ms)
     accepts uploads without a LinkedIn profile URL (59 ms)
     malformed AI response (75 ms)
     handles code-fenced JSON with extra text (72 ms)
     handles JSON surrounded by text (89 ms)
     returns presigned PDF URLs with labeled asset types (87 ms)
     returns a structured error when download URLs cannot be generated (119 ms)
     cover letter urls include structured metadata (87 ms)
     uses provided templates in preferred order (96 ms)
     uses templates array (395 ms)
     filters AI guidance lines (189 ms)
     resume prompt asks for a project matching job skills (71 ms)
     inserts project into resume text (65 ms)
     adds project section when job description provided (99 ms)
     cover letters omit placeholder sections (206 ms)
     normalizes structured cover letter responses into text (101 ms)
     uses sanitized resume fallback when AI returns plain text for versions (69 ms)
     falls back to plain PDFs when template rendering fails (300 ms)
     final CV includes updated title, project, and skills (78 ms)
     missing file (20 ms)
     unsupported file type (33 ms)
     rejects non-resume content with descriptive feedback (24 ms)
     requires re-upload when classification does not identify a CV (23 ms)
     missing job description text (15 ms)
    download link refresh
       resigns an existing artifact key for the active job (13 ms)
       returns not found when the storage key does not match the job context (9 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (72 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (82 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (197 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (159 ms)
       rejects resumes larger than 5 MB (29 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (14 ms)
     queues message when fallback cover letters are used (44 ms)
     replaces whitespace cover letters with fallback copy (56 ms)
     audits cover letters for placeholders and applies fallback (55 ms)
     replaces weak closing cover letters with confident fallback copy (50 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (63 ms)
     surfaces message when cover letters remain unavailable (36 ms)
     refreshes session artifacts when job description changes for a new enhancement (52 ms)
     refreshes session artifacts automatically when job description changes (48 ms)
     persists template vs population errors in stage metadata (57 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (31 ms)
     announces next template when fallback occurs for non-2025 resume (8 ms)
     announces actual next template when 2025 fallback prefers contrast option (9 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (36 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (19 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (10 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (12 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (4 ms)
     stores rejected entries in the session change log dismissed list (4 ms)
     persists cover letter change log payloads to S3 (5 ms)
     removing a cover letter entry records dismissal state in S3 (6 ms)
     persists activity logs from nested payloads into the session change log (9 ms)

-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                           | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                      |   45.82 |    34.62 |   50.42 |   46.92 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
 ResumeForge                   |   54.39 |    40.77 |   61.32 |   55.55 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  logger.js                    |       0 |        0 |       0 |       0 | 16-187                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  server.js                    |   54.63 |    40.92 |   62.15 |   55.79 | 144,167,195-197,202,207,211,228-232,248-253,270-302,318-323,328,333,347,352,384,388,397,405,417,430,439,460-461,465-466,470-491,495-497,510-515,521,527-536,544,554,560-563,569-571,584-586,593,630,639,670,683,707,717,759,773,777,781,785-788,795-798,807,813,830-833,843,866,873,884-893,905,924,964,973,1010,1035-1037,1046,1070,1147,1165,1208-1215,1225,1240,1280,1284,1288-1294,1299,1303-1320,1331-1334,1358-1359,1395,1402,1422-1423,1447-1468,1478-1479,1492,1497,1521,1531,1544,1552,1557,1566,1574,1590-1594,1605,1625,1628,1640,1671,1693-1698,1724,1733-1736,1742,1752-1795,1804,1843,1847,1852-1855,1880-1882,1966,1972,1978-1980,1986,1992,1996,2000,2052,2056,2074,2098,2128,2195-2211,2233-2331,2342,2346-2347,2365-2456,2465-2469,2591-2739,2749-2750,2768-2780,2790-2812,2819,2824,2835-2842,2917,2924,2928,2936,2942-2943,2954,2958,2962,2966,2970-2972,2976,2980,2992,3002,3006,3010,3014,3018,3022,3033-3034,3039-3057,3061-3069,3119,3136,3145,3149,3173-3181,3218,3228-3236,3242,3246,3281-3300,3308,3335-3336,3347-3354,3360,3362,3407-3410,3418,3444-3461,3474,3480,3483,3488-3600,3607,3611,3615,3623,3630,3636,3650,3653,3660-3667,3673-3676,3680-3683,3712,3746-3762,3776,3806,3820-3825,3849,3863-3866,3879,3882,3893,3907-4035,4054,4060,4066,4072,4079,4087-4097,4112,4119-4154,4161-4393,4401,4433,4474-4482,4491,4508-4516,4532-4544,4553-4557,4567,4572,4582,4598-4603,4661,4678-4691,4704-4719,4725-4753,4784,4789-4804,4828,4835,4840-4847,4914,4919-4930,4941-4944,4986-5078,5089,5093,5099-5115,5121,5178-5183,5203-5207,5212-5219,5238,5273-5274,5303,5351-5469,5479-5509,5515-5535,5556-5563,5594,5599-5602,5610-5614,5626,5640,5645,5657-5660,5677-5701,5706,5712,5719,5726-5748,5768-5793,5828-5935,5940,5946-6500,6571-7613,7637,7652-7655,7694,7698,7736,7749,7773-7780,7794,7859-7865,7873,7877,7892,7896,7899,7927,7930,7942,7945,7954,7964-7972,7978,8018,8021,8024,8035-8037,8042,8071,8205,8255,8288-8296,8422-8430,8524-8529,8547-8569,8669-8742,8823-8936,8962,8969-8976,8989-9136,9157,9161,9167-9168,9177,9182,9185,9188,9200,9204,9208,9216,9226,9237-9245,9274-9285,9308-9309,9324-9325,9374-9381,9446-9451,9460-9607,9624,9638-10616,10637,10640,10677,10680-10682,10710-10732,10897,10995-10998,11005-11019,11043-11044,11064-11073,11138,11144-11213,11238,11320,11323,11327,11353-11361,11366,11374,11376,11378,11382,11384,11390,11394,11452-11455,11484-11505,11536-11542,11550-11551,11562,11576-11577,11584,11587,11592-11595,11599-11600,11611,11715,11730-11731,11734-11735,11737-11738,11812-11814,11825-11830,11883,11900,11914,11922,11924,11926,11934,11941-11942,11946,11948,11956,12057,12110-12144,12163,12197,12254-12255,12260,12298,12314,12403,12514,12519,12524,12573-12581,12592,12596,12599,12690-12694,12726,12792,12797,12805,12896,12908,12953-12957,12962,13010,13013,13033,13054-13058,13066,13081,13084,13087,13144,13150,13173-13183,13233-13244,13249-13262,13283,13286,13301,13321-13324,13329,13343,13382-13386,13406,13410-13413,13419,13450,13458,13468,13472,13481,13493,13501,13505-13527,13534,13545,13558-13559,13583,13597,13640-13641,13652-13653,13682-13694,13727-13728,13744-13749,13756-13760,13804-13808,13824,13841-13844,14000,14061-14067,14098,14115,14154,14205-14372,14391-14399,14404,14411,14416-14428,14433,14436-14437,14440-14441,14446,14451,14456,14462,14574,14699,14703,14711,14721,14728,14829,14837,14842,14845-14848,14856,14885,14919,14930,15164,15237,15245,15252,15286,15292-15311,15320,15328,15335-15338,15343,15359-15360,15375-15377,15530,15537,15545,15568,15602,15615-15617,15630,15641-15651,15658,15686-15687,15713,15740-15741,15845-15846,15884-15885,15891,15966-15967,15989,16018,16030,16075,16089-16096,16104-16111,16119,16124,16128,16221-16238,16284-16584,16609,16614,16625,16637,16655,16662,16665,16668,16675,16678,16681-16684,16696,16705,16712,16722,16765,16770,16796,16807,16817,16825,16834,16843,16846,16849,16855,16861-16883,16899-16906,16915-16931,16942,16955,16964,16974,16979,16985-16987,16996,17009,17014,17018,17031,17038,17042-17044,17052-17055,17065-17085,17099,17151-17154,17169,17183,17191-17203,17212,17230,17248-17255,17261,17276,17281-17286,17291-17294,17310,17315,17352,17388,17402,17425,17429,17464-17466,17501-17608,17624-17657,17708,17717,17751,17760,17787-17790,17804-18855,18867-18892,18924-18925,18945-18953,18975,18994,19017-19025,19036-19037,19069-19072,19082-19118,19129-19149,19162-19196,19200-19251,19288,19293-19305,19310,19355,19363-19546,19602-19609,19628-19631,19660-19666,19677,19712,19737,19747-19750,19790,19826,19831,19840,19847-19849,19931,19934,19964,20048-20052,20133,20161-20168,20179-20195,20295-20301,20322,20381,20393,20396,20400,20408,20412,20416,20447,20454-20489,20498,20535,20543-20545,20705,20735,20751,20768,20801,20878,20887-20898,20975-20984,21031,21254,21256,21258,21260,21302-21303,21366,21519,21523,21527,21531,21535,21539,21585,21608-21636,21659-21675,21733-21734,21746-21775,21854,21924,21998,22009,22023,22230,22316-22319,22344,22355,22416,22427-22432,22438,22466-22472,22487-22491,22538-22542,22553,22611-22615,22624-22625,22685-22715,22779-22780,22783,22820,22823,22874,22879-22965,22977-23442,23453-23540,23552,23578-23582,23642,23714-23739,23762,23785,23807,23815,23844,23850-23903,23915,24116-24122,24140-24172,24220-24226,24253,24264,24273,24301-24305,24329,24354-24367,24402,24408-24416,24436-24437,24454-24458,24475-24485,24501-24506,24539-24552,24556-24558,24632-24656,24673-24675,24701-24702,24730-24736,24750,24769,24778-24790,24868,24897,24900,24982-24988,25009-25013,25049-25071,25105-25236,25247,25294-25298,25304,25319-25324,25332-25336,25486,25521-25552,25590,25673-25719,25791,25947,26036,26052-26105,26173,26187-26217,26230-26269,26341,26383,26395,26438,26500,26561-26563,26570-26582,26617,26630-26720,26731-26772,26783-26784 
 ResumeForge/lib               |   14.47 |    14.02 |   20.28 |   14.45 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  buildMetadata.js             |   84.37 |     58.2 |     100 |   84.37 | 22-27,35,76,93,120,125,130                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
  cloudfrontAssetCheck.js      |       0 |        0 |       0 |       0 | 3-896                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  cloudfrontAssetPrefixes.js   |       0 |        0 |       0 |       0 | 4-67                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
  cloudfrontHealthCheck.js     |       0 |        0 |       0 |       0 | 4-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  handlebars.js                |      50 |      100 |       0 |   66.66 | 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
  postDeploymentApiTests.js    |       0 |        0 |       0 |       0 | 4-93                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
  retry.js                     |      50 |    44.66 |   55.55 |   49.36 | 30,35,38,41,47,50,53,65,69,73,77,90,94,97,101,105,111-144,158-172                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
 ResumeForge/lib/cloudfront    |    2.08 |        0 |       0 |    2.12 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  metadata.js                  |    2.08 |        0 |       0 |    2.12 | 6-62,68-219                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
 ResumeForge/lib/deploy        |    4.34 |        0 |       0 |    4.34 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  notifications.js             |    4.34 |        0 |       0 |    4.34 | 53-251                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
 ResumeForge/lib/http          |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  parseEventBody.js            |       0 |        0 |       0 |       0 | 10-24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 ResumeForge/lib/llm           |   49.71 |    47.23 |   47.36 |   51.19 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  gemini.js                    |    43.9 |    45.61 |   33.33 |   45.29 | 15-34,44,57,77-82,145,157-210,229-250                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  templates.js                 |   63.46 |    51.02 |     100 |    64.7 | 8,13-22,30,37-44,56,59,73,86                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
 ResumeForge/lib/logging       |   74.64 |    52.94 |   83.33 |   74.28 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  attributes.js                |   74.64 |    52.94 |   83.33 |   74.28 | 8-11,94-103,120,170,181-195                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
 ResumeForge/lib/observability |       0 |        0 |       0 |       0 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  lambda.js                    |       0 |        0 |       0 |       0 | 7-984                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 ResumeForge/lib/pdf           |   10.43 |     8.24 |   12.12 |   11.16 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  backstop.js                  |    2.04 |        0 |       0 |    2.17 | 11-169                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  index.js                     |       5 |        0 |       0 |    5.55 | 8-36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
  resume.js                    |       0 |        0 |       0 |       0 | 12-19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  utils.js                     |   14.66 |     12.8 |   26.66 |      16 | 12-19,25-137,142-156,162-163,173-174,188,195-204                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
 ResumeForge/lib/pdf/templates |    1.96 |     0.24 |       4 |    1.98 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  2025.js                      |    1.96 |     0.24 |       4 |    1.98 | 11-42,163-1177                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 ResumeForge/lib/resume        |   47.52 |    33.51 |   50.17 |   48.63 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  content.js                   |   68.12 |    47.29 |   75.17 |   71.28 | 11,20-25,44-45,91-94,106-108,121,173,180,191-299,316-317,320-321,332-334,354-359,377-382,395-397,415,421-422,435-451,458,530-531,554,609-610,633-635,667-669,699-701,734,768-782,796-801,805,817-827,832-836,844-849,851,917-923,927-932,952-953,967-973,988-989,1004-1005,1009-1013,1026,1029,1070-1071,1076-1077,1092-1096,1134-1137,1157,1220,1238-1245,1301,1348-1365,1400,1434-1438,1460-1461,1466,1479-1501,1506-1526,1537-1539,1542-1543,1546-1547,1550-1552                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
  enhancement.js               |    0.99 |        0 |       0 |     1.1 | 28-445                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  jobEvaluation.js             |       0 |        0 |       0 |       0 | 9-120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  parsing.js                   |   73.43 |    53.62 |   75.75 |   74.14 | 161,165,175,179,183,188,197-228,239,242,279,286,291,307,330,334-337,355,380,404,409,435-464,501,515,526,555,595,621,625,629,634,638-641,658,699,721,725                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
  scoring.js                   |    0.86 |        0 |       0 |    0.88 | 27-819                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  skills.js                    |    36.2 |     8.82 |      40 |   33.33 | 81-143                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
  utils.js                     |   83.33 |       75 |     100 |   83.33 | 12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
 ResumeForge/lib/scoring       |     1.3 |        0 |    1.42 |     1.4 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  atsMetrics.js                |     1.3 |        0 |    1.42 |     1.4 | 24-202,226-956                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 ResumeForge/lib/static        |    19.7 |     8.47 |   16.66 |    19.7 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  hashedIndexAssetRetention.js |       0 |        0 |       0 |       0 | 1-220                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
  normalization.js             |   87.09 |    71.42 |     100 |   87.09 | 3,8,30,43                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
 ResumeForge/lib/uploads       |   55.47 |    41.66 |      60 |   56.29 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
  metadata.js                  |   51.38 |    36.84 |      50 |   51.38 | 14,19-22,29,33,52-87,95-105,115,131-132,138                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
  s3StreamingStorage.js        |      60 |    44.82 |      70 |    61.9 | 8,11,17-31,41,47-52,58-64,67-73,91,108,128-132,144                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
-------------------------------|---------|----------|---------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        9.083 s, estimated 72 s
Ran all test suites matching /tests\/server.test.js/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
