
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:9724) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:23:12.043Z","level":"info","message":"http_request_received","requestId":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","method":"GET","path":"/healthz","template":"unknown","session":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.067Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.070Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.074Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.076Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.079Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.085Z","level":"info","message":"http_request_completed","requestId":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","method":"GET","path":"/healthz","statusCode":200,"durationMs":42,"contentLength":"15","template":"unknown","session":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"17aa9fa0-f402-42b3-adc4-d61b3111be5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.093Z","level":"info","message":"http_request_received","requestId":"db4a4583-bb43-41ad-b030-c23b98d783c7","method":"GET","path":"/favicon.ico","template":"unknown","session":"db4a4583-bb43-41ad-b030-c23b98d783c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db4a4583-bb43-41ad-b030-c23b98d783c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.094Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.096Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.098Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.099Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.102Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.105Z","level":"info","message":"http_request_completed","requestId":"db4a4583-bb43-41ad-b030-c23b98d783c7","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":12,"template":"unknown","session":"db4a4583-bb43-41ad-b030-c23b98d783c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db4a4583-bb43-41ad-b030-c23b98d783c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.107Z","level":"info","message":"http_request_received","requestId":"8147a8c9-8978-436c-b749-3c377910c084","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"8147a8c9-8978-436c-b749-3c377910c084","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8147a8c9-8978-436c-b749-3c377910c084","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.109Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.110Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.112Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.113Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.117Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.131Z","level":"info","message":"http_request_completed","requestId":"8147a8c9-8978-436c-b749-3c377910c084","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":24,"contentLength":"18","template":"unknown","session":"8147a8c9-8978-436c-b749-3c377910c084","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8147a8c9-8978-436c-b749-3c377910c084","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.132Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.137Z","level":"info","message":"http_request_received","requestId":"e3d604ae-730a-4c44-ad10-745669b4e497","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"e3d604ae-730a-4c44-ad10-745669b4e497","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3d604ae-730a-4c44-ad10-745669b4e497","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.138Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.139Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.141Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.143Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.163Z","level":"info","message":"http_request_completed","requestId":"e3d604ae-730a-4c44-ad10-745669b4e497","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":26,"contentLength":"106285","template":"unknown","session":"e3d604ae-730a-4c44-ad10-745669b4e497","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e3d604ae-730a-4c44-ad10-745669b4e497","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.164Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.167Z","level":"info","message":"http_request_received","requestId":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.168Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.170Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.171Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.173Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.188Z","level":"info","message":"http_request_completed","requestId":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":21,"contentLength":"106285","template":"unknown","session":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1efd0d75-6c9b-4462-af2e-d6e64571d19a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.189Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.191Z","level":"info","message":"http_request_received","requestId":"0855a8a1-6027-4e38-8609-97836a51cc34","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"0855a8a1-6027-4e38-8609-97836a51cc34","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0855a8a1-6027-4e38-8609-97836a51cc34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.192Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.194Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.195Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.197Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.199Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-meta.js',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.209Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.209Z","level":"info","message":"http_request_completed","requestId":"0855a8a1-6027-4e38-8609-97836a51cc34","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":18,"contentLength":"1234","template":"unknown","session":"0855a8a1-6027-4e38-8609-97836a51cc34","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0855a8a1-6027-4e38-8609-97836a51cc34","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.214Z","level":"info","message":"http_request_received","requestId":"530691af-b56b-4119-842e-73b7f0bcc013","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"530691af-b56b-4119-842e-73b7f0bcc013","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"530691af-b56b-4119-842e-73b7f0bcc013","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.215Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.220Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.222Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.223Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-test-alias.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=23

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=23

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.239Z","level":"info","message":"http_request_completed","requestId":"530691af-b56b-4119-842e-73b7f0bcc013","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":25,"contentLength":"23","template":"unknown","session":"530691af-b56b-4119-842e-73b7f0bcc013","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"530691af-b56b-4119-842e-73b7f0bcc013","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.239Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-test-alias.css","path":"assets/index-test-alias.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-test-alias.css","s3Key":"assets/index-test-alias.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.244Z","level":"info","message":"http_request_received","requestId":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.245Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.246Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.247Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.249Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-manifest-only.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=31

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=31

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.261Z","level":"info","message":"http_request_completed","requestId":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":17,"contentLength":"31","template":"unknown","session":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a4f4fae4-563f-4da6-95c6-0dc6a3805dc4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.262Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-manifest-only.css","path":"assets/index-manifest-only.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-manifest-only.css","s3Key":"assets/index-manifest-only.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.265Z","level":"info","message":"http_request_received","requestId":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.266Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.267Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.268Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.270Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'static/client/prod/latest/assets/index-prefixed.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.284Z","level":"info","message":"http_request_completed","requestId":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":19,"contentLength":"26","template":"unknown","session":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebcbd67f-1cbb-43fc-8dff-e2346eace906","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.284Z","level":"info","message":"client_asset_alias_s3_served","bucket":"test-bucket","key":"static/client/prod/latest/assets/index-prefixed.css","path":"static/client/prod/latest/assets/index-prefixed.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-prefixed.css","s3Key":"static/client/prod/latest/assets/index-prefixed.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.287Z","level":"info","message":"http_request_received","requestId":"94564df0-8b00-41e8-b606-7967f70b6dc1","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"94564df0-8b00-41e8-b606-7967f70b6dc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94564df0-8b00-41e8-b606-7967f70b6dc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.288Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.289Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.290Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.292Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:9)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4936:5\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4930:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at urlencodedParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/urlencoded.js:94:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at jsonParser (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/body-parser/lib/types/json.js:113:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4923:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4856:12\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4845:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4840:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at cors (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:188:7)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:224:17\n' +
        '    at origin (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4811:9)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:219:13\n' +
        '    at optionsCallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:199:9)\n' +
        '    at corsMiddleware (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/cors/lib/index.js:204:7)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4802:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4778:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4749:3\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at trim_prefix (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:328:13)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:286:9\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '   '... 1955 more characters
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-missing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.311Z","level":"warn","message":"client_asset_alias_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"assets/index-missing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-missing.css","s3Key":"assets/index-missing.css","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:578:23)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1421:30)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at serveIndexAssetAlias (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1532:3)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at handleIndexAssetAliasRequest (server.js:1421:24)
      at serveIndexAssetAlias (server.js:1532:3)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-existing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-existing.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=26

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=26

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.321Z","level":"info","message":"http_request_completed","requestId":"94564df0-8b00-41e8-b606-7967f70b6dc1","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":34,"contentLength":"26","template":"unknown","session":"94564df0-8b00-41e8-b606-7967f70b6dc1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94564df0-8b00-41e8-b606-7967f70b6dc1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.321Z","level":"info","message":"client_asset_alias_fallback_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-existing.css","path":"assets/index-existing.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-existing.css","s3Key":"assets/index-existing.css","manifestFallback":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.324Z","level":"info","message":"http_request_received","requestId":"ba31eb63-beba-420d-ac90-45b447e75ed2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"ba31eb63-beba-420d-ac90-45b447e75ed2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba31eb63-beba-420d-ac90-45b447e75ed2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.326Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.327Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.328Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.330Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.331Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19105:11\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n' +
        '    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n' +
        '    at SendStream.emit (node:events:513:28)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n' +
        '    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n' +
        '    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n' +
        '    at FSReqCallback.oncomplete (node:fs:206:21)'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.337Z","level":"info","message":"http_request_completed","requestId":"ba31eb63-beba-420d-ac90-45b447e75ed2","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":13,"contentLength":"106285","template":"unknown","session":"ba31eb63-beba-420d-ac90-45b447e75ed2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ba31eb63-beba-420d-ac90-45b447e75ed2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.338Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.341Z","level":"info","message":"http_request_received","requestId":"6c404237-a7e3-4a3d-9837-3343bf7c7589","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"6c404237-a7e3-4a3d-9837-3343bf7c7589","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c404237-a7e3-4a3d-9837-3343bf7c7589","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.342Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.343Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.344Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.347Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.350Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19105:11\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n' +
        '    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n' +
        '    at SendStream.emit (node:events:513:28)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n' +
        '    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n' +
        '    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n' +
        '    at FSReqCallback.oncomplete (node:fs:206:21)'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.355Z","level":"info","message":"http_request_completed","requestId":"6c404237-a7e3-4a3d-9837-3343bf7c7589","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":14,"contentLength":"106285","template":"unknown","session":"6c404237-a7e3-4a3d-9837-3343bf7c7589","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6c404237-a7e3-4a3d-9837-3343bf7c7589","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.356Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.359Z","level":"info","message":"http_request_received","requestId":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.360Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.361Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.363Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.364Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.366Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.371Z","level":"info","message":"http_request_completed","requestId":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":12,"contentLength":"106285","template":"unknown","session":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60925ec7-1823-4cbd-a6cd-065fce7f1fa4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.372Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.374Z","level":"info","message":"http_request_received","requestId":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.375Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.377Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.378Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.379Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.382Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19105:11\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n' +
        '    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n' +
        '    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n' +
        '    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n' +
        '    at SendStream.emit (node:events:513:28)\n' +
        '    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n' +
        '    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n' +
        '    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n' +
        '    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n' +
        '    at FSReqCallback.oncomplete (node:fs:206:21)'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: 'assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=32

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=32

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.389Z","level":"info","message":"http_request_completed","requestId":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":15,"contentLength":"32","template":"unknown","session":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d37daa8e-3e04-4338-88c8-e99e0b9c1a8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.390Z","level":"info","message":"client_asset_alias_proxy_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"assets/index-0da4b4af.css","method":"GET","aliasPath":"/assets/index-latest.css","resolvedPath":"/assets/index-0da4b4af.css","s3Key":"assets/index-0da4b4af.css","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.392Z","level":"info","message":"http_request_received","requestId":"e8ab07ac-9aac-4638-ac52-d65040075e57","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"e8ab07ac-9aac-4638-ac52-d65040075e57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8ab07ac-9aac-4638-ac52-d65040075e57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.393Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.395Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.396Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.397Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.399Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19137:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.403Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:758:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19150:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at server.js:19150:24

  console.log
    DEBUG: proxy handler checking regex { normalizedAssetPath: '/assets/index-0da4b4af.css', matches: true }

      at server.js:19169:11

  console.log
    DEBUG: handleIndexAssetAliasRequest entered { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19171:13

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-latest.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19183:33\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:96:5)'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.411Z","level":"info","message":"http_request_completed","requestId":"e8ab07ac-9aac-4638-ac52-d65040075e57","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":19,"contentLength":"106285","template":"unknown","session":"e8ab07ac-9aac-4638-ac52-d65040075e57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e8ab07ac-9aac-4638-ac52-d65040075e57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.412Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.412Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:19204:9

  console.log
    {"timestamp":"2025-12-04T13:23:12.420Z","level":"info","message":"http_request_received","requestId":"0c143728-e2c9-4acd-8557-86d7511a336f","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"0c143728-e2c9-4acd-8557-86d7511a336f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c143728-e2c9-4acd-8557-86d7511a336f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.421Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.422Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.423Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.425Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.426Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 {
      assetPath: '/assets/index-0da4b4af.css',
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest'
    }

      at serveHashedIndexAssetFromS3 (server.js:1099:11)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.434Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:804:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1153:32)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1213:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at serveHashedIndexAssetFromS3 (server.js:1172:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1213:18)

  console.log
    DEBUG: handleIndexAssetAliasRequest function called {
      aliasPath: '/assets/index-latest.css',
      requestPath: '/assets/index-0da4b4af.css',
      stack: 'Error: \n' +
        '    at handleIndexAssetAliasRequest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1283:103)\n' +
        '    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1245:31)\n' +
        '    at processTicksAndRejections (node:internal/process/task_queues:96:5)'
    }

      at handleIndexAssetAliasRequest (server.js:1283:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:23:12.440Z","level":"info","message":"http_request_completed","requestId":"0c143728-e2c9-4acd-8557-86d7511a336f","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":20,"contentLength":"106285","template":"unknown","session":"0c143728-e2c9-4acd-8557-86d7511a336f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c143728-e2c9-4acd-8557-86d7511a336f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.441Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.441Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1265:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.449Z","level":"info","message":"http_request_received","requestId":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.450Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.451Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.452Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.453Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.455Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1605:11)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.458Z","level":"warn","message":"api_error_response","requestId":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc"},"template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:19082:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:23:12.464Z","level":"info","message":"http_request_completed","requestId":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":15,"contentLength":"182","template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f1fdb10e-e2c3-49fe-bc8b-ef96fe9117bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.467Z","level":"info","message":"http_request_received","requestId":"12972e44-9a36-4c81-aab1-64b4c926879b","method":"GET","path":"/api/static-manifest","template":"unknown","session":"12972e44-9a36-4c81-aab1-64b4c926879b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12972e44-9a36-4c81-aab1-64b4c926879b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.468Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.469Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.470Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.472Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.473Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.476Z","level":"info","message":"http_request_completed","requestId":"12972e44-9a36-4c81-aab1-64b4c926879b","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"301","template":"unknown","session":"12972e44-9a36-4c81-aab1-64b4c926879b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"12972e44-9a36-4c81-aab1-64b4c926879b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.479Z","level":"info","message":"http_request_received","requestId":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","method":"GET","path":"/api/static-manifest","template":"unknown","session":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.480Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.481Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.483Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.484Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.486Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.488Z","level":"info","message":"http_request_completed","requestId":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55da058e-3f8d-48e8-97bb-f2b55a8062e4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.489Z","level":"info","message":"http_request_received","requestId":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.490Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.492Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.493Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.494Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.496Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.498Z","level":"info","message":"http_request_completed","requestId":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":9,"contentLength":"195","template":"unknown","session":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ef1ec9c-a52d-49ba-94af-345c21cd8bd1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.500Z","level":"info","message":"http_request_received","requestId":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","method":"GET","path":"/api/static-manifest","template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.501Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.502Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.503Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.504Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.506Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.508Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:902:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7810:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7813:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:868:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:951:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19224:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:943:7
      at loadStaticAssetManifestFromS3 (server.js:958:12)
      at server.js:19224:22

  console.error
    {"timestamp":"2025-12-04T13:23:12.515Z","level":"error","message":"api_error_response","requestId":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce"},"template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:19229:14

  console.log
    {"timestamp":"2025-12-04T13:23:12.521Z","level":"info","message":"http_request_completed","requestId":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":21,"contentLength":"216","template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d98bfbcd-c186-4a35-b367-fa24ed2d84ce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.524Z","level":"info","message":"http_request_received","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","method":"POST","path":"/api/process-cv","template":"unknown","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.525Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.527Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.528Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.530Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.532Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/incoming/original.pdf","chunks":1,"timestamp":1764854592537}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":7}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.553Z","level":"info","message":"process_cv_started","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","manualJobDescriptionProvided":true,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.554Z","level":"info","message":"template_selection","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.555Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.562Z","level":"info","message":"initial_upload_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","bucket":"test-bucket","key":"cv/candidate/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/incoming/original.pdf","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.575Z","level":"info","message":"resume_text_extracted","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","characters":57,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.576Z","level":"info","message":"resume_classified","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.578Z","level":"info","message":"raw_upload_relocated","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","bucket":"test-bucket","fromKey":"cv/candidate/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/incoming/original.pdf","toKey":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/original.pdf","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.578Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","bucket":"test-bucket","key":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/original.pdf","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.579Z","level":"info","message":"dynamo_initial_record_written","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","bucket":"test-bucket","key":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/original.pdf","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.580Z","level":"info","message":"upload_metadata_written","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","bucket":"test-bucket","key":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/logs/log.json","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.580Z","level":"info","message":"job_description_supplied_manually","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","characters":174,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.581Z","level":"info","message":"job_description_analyzed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","jobTitle":"","jobSkills":5,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.585Z","level":"info","message":"resume_skills_analyzed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.587Z","level":"info","message":"llm_call_metrics","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.590Z","level":"info","message":"process_cv_scoring_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.605Z","level":"info","message":"llm_call_metrics","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.606Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.606Z","level":"info","message":"llm_call_metrics","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.611Z","level":"info","message":"generation_resume_verified","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.626Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.634Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.640Z","level":"info","message":"generation_cover_letters_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","variants":2,"fallbackApplied":true,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.642Z","level":"info","message":"pdf_generation_attempt","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/enhanced_modern.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.643Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.643Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/enhanced_modern.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.644Z","level":"info","message":"pdf_generation_attempt","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/enhanced_professional.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.644Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.645Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/enhanced_professional.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.645Z","level":"info","message":"pdf_generation_attempt","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/cover_letter_cover_modern.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.646Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.646Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/cover_letter_cover_modern.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.647Z","level":"info","message":"pdf_generation_attempt","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/cover_letter_cover_professional.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.648Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b5549a35-01c5-4d47-a00d-03f3e9f69cc5/cover_letter_cover_professional.pdf","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.653Z","level":"info","message":"llm_call_metrics","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.654Z","level":"info","message":"generation_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","generationRunId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","enhancedScore":80,"outputs":5,"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.656Z","level":"info","message":"placeholder_record_deleted","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","jobId":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","placeholderIdentifier":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b18caf0-4dfd-4a8e-9055-37a31cdb8eae","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.657Z","level":"info","message":"http_request_completed","requestId":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":133,"contentLength":"58133","template":"unknown","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5549a35-01c5-4d47-a00d-03f3e9f69cc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.660Z","level":"info","message":"http_request_received","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","method":"POST","path":"/api/process-cv","template":"unknown","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.661Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.663Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.664Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.665Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.667Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3eea2515-e8cd-486d-8672-89aae943ef47/incoming/original.pdf","chunks":1,"timestamp":1764854592670}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3eea2515-e8cd-486d-8672-89aae943ef47/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3eea2515-e8cd-486d-8672-89aae943ef47/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.680Z","level":"info","message":"process_cv_started","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","manualJobDescriptionProvided":true,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.682Z","level":"info","message":"template_selection","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.682Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.688Z","level":"info","message":"initial_upload_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","bucket":"test-bucket","key":"cv/candidate/3eea2515-e8cd-486d-8672-89aae943ef47/incoming/original.pdf","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.693Z","level":"info","message":"resume_text_extracted","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","characters":57,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.694Z","level":"info","message":"resume_classified","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.694Z","level":"info","message":"raw_upload_relocated","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","bucket":"test-bucket","fromKey":"cv/candidate/3eea2515-e8cd-486d-8672-89aae943ef47/incoming/original.pdf","toKey":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/original.pdf","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.695Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","bucket":"test-bucket","key":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/original.pdf","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.695Z","level":"info","message":"dynamo_initial_record_written","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","bucket":"test-bucket","key":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/original.pdf","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.695Z","level":"info","message":"upload_metadata_written","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","bucket":"test-bucket","key":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/logs/log.json","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.696Z","level":"info","message":"job_description_supplied_manually","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","characters":174,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.696Z","level":"info","message":"job_description_analyzed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","jobTitle":"","jobSkills":5,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.697Z","level":"info","message":"resume_skills_analyzed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.697Z","level":"info","message":"llm_call_metrics","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.698Z","level":"info","message":"process_cv_scoring_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.701Z","level":"info","message":"llm_call_metrics","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.701Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.702Z","level":"info","message":"llm_call_metrics","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.705Z","level":"info","message":"generation_resume_verified","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.709Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.716Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.721Z","level":"info","message":"generation_cover_letters_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","variants":2,"fallbackApplied":true,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.722Z","level":"info","message":"pdf_generation_attempt","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/enhanced_modern.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.722Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.723Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/enhanced_modern.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.723Z","level":"info","message":"pdf_generation_attempt","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/enhanced_professional.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.724Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.724Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/enhanced_professional.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.725Z","level":"info","message":"pdf_generation_attempt","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/cover_letter_cover_modern.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.725Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.725Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/cover_letter_cover_modern.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.726Z","level":"info","message":"pdf_generation_attempt","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/cover_letter_cover_professional.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.726Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.727Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3eea2515-e8cd-486d-8672-89aae943ef47/cover_letter_cover_professional.pdf","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.731Z","level":"info","message":"llm_call_metrics","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.732Z","level":"info","message":"generation_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","generationRunId":"3eea2515-e8cd-486d-8672-89aae943ef47","enhancedScore":80,"outputs":5,"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.733Z","level":"info","message":"placeholder_record_deleted","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","jobId":"0359e9e5-962f-4ab4-9662-320b8dc6db38","placeholderIdentifier":"3eea2515-e8cd-486d-8672-89aae943ef47","template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0359e9e5-962f-4ab4-9662-320b8dc6db38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.734Z","level":"info","message":"http_request_completed","requestId":"3eea2515-e8cd-486d-8672-89aae943ef47","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":74,"contentLength":"58133","template":"unknown","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3eea2515-e8cd-486d-8672-89aae943ef47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.743Z","level":"info","message":"http_request_received","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","method":"POST","path":"/api/process-cv","template":"unknown","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.744Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.746Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.747Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.748Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.750Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7f9d6a52-f180-45a5-a529-e4d2afa1217d/incoming/original.pdf","chunks":1,"timestamp":1764854592753}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7f9d6a52-f180-45a5-a529-e4d2afa1217d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7f9d6a52-f180-45a5-a529-e4d2afa1217d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.754Z","level":"info","message":"process_cv_started","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","manualJobDescriptionProvided":true,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.755Z","level":"info","message":"template_selection","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.755Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.761Z","level":"info","message":"initial_upload_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","key":"cv/candidate/7f9d6a52-f180-45a5-a529-e4d2afa1217d/incoming/original.pdf","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.762Z","level":"info","message":"resume_text_extracted","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","characters":57,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.762Z","level":"info","message":"resume_classified","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.764Z","level":"info","message":"raw_upload_relocated","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","fromKey":"cv/candidate/7f9d6a52-f180-45a5-a529-e4d2afa1217d/incoming/original.pdf","toKey":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/original.pdf","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.764Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","key":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/original.pdf","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.764Z","level":"info","message":"dynamo_initial_record_written","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","key":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/original.pdf","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.765Z","level":"info","message":"upload_metadata_written","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","key":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/logs/log.json","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.765Z","level":"info","message":"session_transition_change_log_removed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.765Z","level":"info","message":"job_description_supplied_manually","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","characters":174,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.766Z","level":"info","message":"job_description_analyzed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","jobTitle":"","jobSkills":5,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.766Z","level":"info","message":"resume_skills_analyzed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.767Z","level":"info","message":"llm_call_metrics","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.768Z","level":"info","message":"process_cv_scoring_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.770Z","level":"info","message":"llm_call_metrics","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.771Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.771Z","level":"info","message":"llm_call_metrics","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.774Z","level":"info","message":"generation_resume_verified","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.777Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.783Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.790Z","level":"info","message":"generation_cover_letters_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","variants":2,"fallbackApplied":true,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.791Z","level":"info","message":"pdf_generation_attempt","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/enhanced_modern.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.791Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.792Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/enhanced_modern.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.792Z","level":"info","message":"pdf_generation_attempt","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/enhanced_professional.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.792Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.793Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/enhanced_professional.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.793Z","level":"info","message":"pdf_generation_attempt","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/cover_letter_cover_modern.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.794Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.794Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/cover_letter_cover_modern.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.795Z","level":"info","message":"pdf_generation_attempt","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/cover_letter_cover_professional.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.795Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.796Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7f9d6a52-f180-45a5-a529-e4d2afa1217d/cover_letter_cover_professional.pdf","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.798Z","level":"info","message":"llm_call_metrics","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.799Z","level":"info","message":"generation_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","generationRunId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","enhancedScore":80,"outputs":5,"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.800Z","level":"info","message":"placeholder_record_deleted","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","jobId":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","placeholderIdentifier":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcb4c1ab-98b1-4be8-8fbf-2a203928f0a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.801Z","level":"info","message":"http_request_completed","requestId":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"58133","template":"unknown","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f9d6a52-f180-45a5-a529-e4d2afa1217d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.804Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.805Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.806Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.807Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.809Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.811Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764854592813}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.814Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.815Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.815Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.821Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.822Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.822Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.822Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.823Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.823Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.823Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.824Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.824Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.825Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.825Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.826Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.830Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.830Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.831Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.833Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.835Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.841Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.846Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.847Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.847Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.848Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.848Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.849Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.849Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.849Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.851Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.851Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.852Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.852Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.852Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.855Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.856Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.857Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.862Z","level":"info","message":"http_request_received","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","method":"POST","path":"/api/process-cv","template":"unknown","session":"ed5877e9-9050-4c24-b011-54cf70a3878c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed5877e9-9050-4c24-b011-54cf70a3878c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.864Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.865Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.866Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.868Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.869Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ed5877e9-9050-4c24-b011-54cf70a3878c/incoming/original.pdf","chunks":1,"timestamp":1764854592872}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ed5877e9-9050-4c24-b011-54cf70a3878c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ed5877e9-9050-4c24-b011-54cf70a3878c/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.873Z","level":"info","message":"process_cv_started","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","jobId":"e37b94d8-5f3d-472c-bfb1-e3e921388191","manualJobDescriptionProvided":false,"template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.874Z","level":"info","message":"template_selection","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","jobId":"e37b94d8-5f3d-472c-bfb1-e3e921388191","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.874Z","level":"warn","message":"job_description_missing","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","jobId":"e37b94d8-5f3d-472c-bfb1-e3e921388191","template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25098:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.880Z","level":"warn","message":"api_error_response","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","jobId":"e37b94d8-5f3d-472c-bfb1-e3e921388191","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","jobId":"e37b94d8-5f3d-472c-bfb1-e3e921388191"},"template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e37b94d8-5f3d-472c-bfb1-e3e921388191","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25099:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.887Z","level":"info","message":"http_request_completed","requestId":"ed5877e9-9050-4c24-b011-54cf70a3878c","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":25,"contentLength":"244","template":"unknown","session":"ed5877e9-9050-4c24-b011-54cf70a3878c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed5877e9-9050-4c24-b011-54cf70a3878c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.889Z","level":"info","message":"http_request_received","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","method":"POST","path":"/api/process-cv","template":"unknown","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.890Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.891Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.893Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.894Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.896Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/incoming/original.pdf","chunks":1,"timestamp":1764854592898}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.899Z","level":"info","message":"process_cv_started","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","manualJobDescriptionProvided":true,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.900Z","level":"info","message":"template_selection","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.900Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.907Z","level":"info","message":"initial_upload_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","bucket":"test-bucket","key":"cv/candidate/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/incoming/original.pdf","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.908Z","level":"info","message":"resume_text_extracted","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","characters":57,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.909Z","level":"info","message":"resume_classified","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.909Z","level":"info","message":"raw_upload_relocated","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","bucket":"test-bucket","fromKey":"cv/candidate/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/incoming/original.pdf","toKey":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/original.pdf","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.909Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","bucket":"test-bucket","key":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/original.pdf","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.910Z","level":"info","message":"dynamo_initial_record_written","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","bucket":"test-bucket","key":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/original.pdf","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.910Z","level":"info","message":"upload_metadata_written","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","bucket":"test-bucket","key":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/logs/log.json","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.910Z","level":"info","message":"job_description_supplied_manually","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","characters":59,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.911Z","level":"info","message":"job_description_analyzed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","jobTitle":"","jobSkills":5,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.911Z","level":"info","message":"resume_skills_analyzed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.912Z","level":"info","message":"llm_call_metrics","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.912Z","level":"info","message":"process_cv_scoring_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.915Z","level":"info","message":"llm_call_metrics","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.915Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.915Z","level":"info","message":"llm_call_metrics","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.918Z","level":"info","message":"generation_resume_verified","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.920Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.926Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.932Z","level":"info","message":"generation_cover_letters_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","variants":2,"fallbackApplied":true,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.932Z","level":"info","message":"pdf_generation_attempt","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/enhanced_modern.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.933Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.933Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/enhanced_modern.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.934Z","level":"info","message":"pdf_generation_attempt","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/enhanced_professional.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.934Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.934Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/enhanced_professional.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.935Z","level":"info","message":"pdf_generation_attempt","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/cover_letter_cover_modern.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.935Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.935Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/cover_letter_cover_modern.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.936Z","level":"info","message":"pdf_generation_attempt","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/cover_letter_cover_professional.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.936Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.937Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7eacfff3-94d1-4c48-b4be-24b3cc505fd6/cover_letter_cover_professional.pdf","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.939Z","level":"info","message":"llm_call_metrics","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.940Z","level":"info","message":"generation_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","generationRunId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","enhancedScore":80,"outputs":5,"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.941Z","level":"info","message":"placeholder_record_deleted","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","jobId":"225d7b40-59fe-4197-bc60-156adb67b9b4","placeholderIdentifier":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"225d7b40-59fe-4197-bc60-156adb67b9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.942Z","level":"info","message":"http_request_completed","requestId":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"55048","template":"unknown","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7eacfff3-94d1-4c48-b4be-24b3cc505fd6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.946Z","level":"info","message":"http_request_received","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","method":"POST","path":"/api/process-cv","template":"unknown","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.947Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.948Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.949Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.950Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.952Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/incoming/original.pdf","chunks":1,"timestamp":1764854592954}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:12.955Z","level":"info","message":"process_cv_started","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","manualJobDescriptionProvided":true,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.956Z","level":"info","message":"template_selection","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.956Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:12.962Z","level":"info","message":"initial_upload_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","bucket":"test-bucket","key":"cv/candidate/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/incoming/original.pdf","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.964Z","level":"info","message":"resume_text_extracted","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","characters":57,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.964Z","level":"info","message":"resume_classified","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.965Z","level":"info","message":"raw_upload_relocated","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","bucket":"test-bucket","fromKey":"cv/candidate/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/incoming/original.pdf","toKey":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/original.pdf","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.965Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","bucket":"test-bucket","key":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/original.pdf","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.965Z","level":"info","message":"dynamo_initial_record_written","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","bucket":"test-bucket","key":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/original.pdf","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.966Z","level":"info","message":"upload_metadata_written","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","bucket":"test-bucket","key":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/logs/log.json","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.966Z","level":"info","message":"job_description_supplied_manually","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","characters":32,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.966Z","level":"info","message":"job_description_analyzed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","jobTitle":"","jobSkills":5,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.967Z","level":"info","message":"resume_skills_analyzed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.967Z","level":"info","message":"llm_call_metrics","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.967Z","level":"info","message":"process_cv_scoring_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.970Z","level":"info","message":"llm_call_metrics","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.970Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.970Z","level":"info","message":"llm_call_metrics","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.972Z","level":"info","message":"generation_resume_verified","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:12.975Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:12.981Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:12.987Z","level":"info","message":"generation_cover_letters_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","variants":2,"fallbackApplied":true,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.988Z","level":"info","message":"pdf_generation_attempt","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/enhanced_modern.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.988Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.988Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/enhanced_modern.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.989Z","level":"info","message":"pdf_generation_attempt","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/enhanced_professional.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.989Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.990Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/enhanced_professional.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.990Z","level":"info","message":"pdf_generation_attempt","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/cover_letter_cover_modern.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.990Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.991Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/cover_letter_cover_modern.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.991Z","level":"info","message":"pdf_generation_attempt","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/cover_letter_cover_professional.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.992Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.992Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5/cover_letter_cover_professional.pdf","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.994Z","level":"info","message":"llm_call_metrics","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.995Z","level":"info","message":"generation_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","generationRunId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","enhancedScore":80,"outputs":5,"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.996Z","level":"info","message":"placeholder_record_deleted","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","jobId":"2dee9616-29bf-4a8c-980f-cf92b3d07091","placeholderIdentifier":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2dee9616-29bf-4a8c-980f-cf92b3d07091","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:12.997Z","level":"info","message":"http_request_completed","requestId":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"53771","template":"unknown","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8fdfbc76-5bbc-4674-a61a-da0caaf7a7a5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.000Z","level":"info","message":"http_request_received","requestId":"d791feea-bc80-4482-af87-7a9ec875a6d2","method":"POST","path":"/api/process-cv","template":"unknown","session":"d791feea-bc80-4482-af87-7a9ec875a6d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d791feea-bc80-4482-af87-7a9ec875a6d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.001Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.002Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.004Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.005Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.007Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d791feea-bc80-4482-af87-7a9ec875a6d2/incoming/original.pdf","chunks":1,"timestamp":1764854593009}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d791feea-bc80-4482-af87-7a9ec875a6d2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d791feea-bc80-4482-af87-7a9ec875a6d2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.010Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"d791feea-bc80-4482-af87-7a9ec875a6d2","jobId":"e5360e37-09b8-4fe8-b991-50879767f30a","template":"unknown","session":"e5360e37-09b8-4fe8-b991-50879767f30a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5360e37-09b8-4fe8-b991-50879767f30a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24991:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.016Z","level":"warn","message":"api_error_response","requestId":"d791feea-bc80-4482-af87-7a9ec875a6d2","jobId":"e5360e37-09b8-4fe8-b991-50879767f30a","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"d791feea-bc80-4482-af87-7a9ec875a6d2","jobId":"e5360e37-09b8-4fe8-b991-50879767f30a"},"template":"unknown","session":"e5360e37-09b8-4fe8-b991-50879767f30a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e5360e37-09b8-4fe8-b991-50879767f30a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:24992:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.022Z","level":"info","message":"http_request_completed","requestId":"d791feea-bc80-4482-af87-7a9ec875a6d2","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"271","template":"unknown","session":"d791feea-bc80-4482-af87-7a9ec875a6d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d791feea-bc80-4482-af87-7a9ec875a6d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.025Z","level":"info","message":"http_request_received","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","method":"POST","path":"/api/process-cv","template":"unknown","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.026Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.027Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.028Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.030Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.032Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/incoming/original.pdf","chunks":1,"timestamp":1764854593034}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.035Z","level":"info","message":"process_cv_started","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","manualJobDescriptionProvided":true,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.035Z","level":"info","message":"template_selection","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.036Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.042Z","level":"info","message":"initial_upload_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","bucket":"test-bucket","key":"cv/candidate/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/incoming/original.pdf","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.042Z","level":"info","message":"resume_text_extracted","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","characters":57,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.042Z","level":"info","message":"resume_classified","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.043Z","level":"info","message":"raw_upload_relocated","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","bucket":"test-bucket","fromKey":"cv/candidate/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/incoming/original.pdf","toKey":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/original.pdf","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.043Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","bucket":"test-bucket","key":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/original.pdf","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.043Z","level":"info","message":"dynamo_initial_record_written","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","bucket":"test-bucket","key":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/original.pdf","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.044Z","level":"info","message":"upload_metadata_written","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","bucket":"test-bucket","key":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/logs/log.json","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.044Z","level":"info","message":"job_description_supplied_manually","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","characters":31,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.044Z","level":"info","message":"job_description_analyzed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","jobTitle":"","jobSkills":5,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.045Z","level":"info","message":"resume_skills_analyzed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.045Z","level":"info","message":"llm_call_metrics","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.046Z","level":"info","message":"process_cv_scoring_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.048Z","level":"info","message":"llm_call_metrics","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.048Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.049Z","level":"info","message":"llm_call_metrics","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.051Z","level":"info","message":"generation_resume_verified","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.053Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.059Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.065Z","level":"info","message":"generation_cover_letters_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","variants":2,"fallbackApplied":true,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.066Z","level":"info","message":"pdf_generation_attempt","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/enhanced_modern.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.066Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.066Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/enhanced_modern.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.067Z","level":"info","message":"pdf_generation_attempt","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/enhanced_professional.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.067Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.067Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/enhanced_professional.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.068Z","level":"info","message":"pdf_generation_attempt","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/cover_letter_cover_modern.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.068Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.069Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/cover_letter_cover_modern.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.069Z","level":"info","message":"pdf_generation_attempt","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/cover_letter_cover_professional.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.069Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.070Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c7c11fb7-6bb7-422f-8aa9-ad918492cca3/cover_letter_cover_professional.pdf","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.072Z","level":"info","message":"llm_call_metrics","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.075Z","level":"info","message":"generation_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","generationRunId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","enhancedScore":80,"outputs":5,"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.076Z","level":"info","message":"placeholder_record_deleted","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","jobId":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","placeholderIdentifier":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2d3f2b88-1c04-4033-afa0-56be0f75cf97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.077Z","level":"info","message":"http_request_completed","requestId":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"53718","template":"unknown","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7c11fb7-6bb7-422f-8aa9-ad918492cca3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.082Z","level":"info","message":"http_request_received","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","method":"POST","path":"/api/process-cv","template":"unknown","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.083Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.085Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.087Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.090Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.094Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/incoming/original.pdf","chunks":1,"timestamp":1764854593102}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.108Z","level":"info","message":"process_cv_started","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","manualJobDescriptionProvided":true,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.109Z","level":"info","message":"template_selection","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.109Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.115Z","level":"info","message":"initial_upload_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","bucket":"test-bucket","key":"cv/candidate/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/incoming/original.pdf","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.116Z","level":"info","message":"resume_text_extracted","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","characters":57,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.116Z","level":"info","message":"resume_classified","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.117Z","level":"info","message":"raw_upload_relocated","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","bucket":"test-bucket","fromKey":"cv/candidate/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/incoming/original.pdf","toKey":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/original.pdf","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.117Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","bucket":"test-bucket","key":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/original.pdf","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.117Z","level":"info","message":"dynamo_initial_record_written","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","bucket":"test-bucket","key":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/original.pdf","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.118Z","level":"info","message":"upload_metadata_written","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","bucket":"test-bucket","key":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/logs/log.json","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.118Z","level":"info","message":"job_description_supplied_manually","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","characters":174,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.118Z","level":"info","message":"job_description_analyzed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","jobTitle":"","jobSkills":5,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.120Z","level":"info","message":"resume_skills_analyzed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.120Z","level":"info","message":"llm_call_metrics","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.121Z","level":"info","message":"process_cv_scoring_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.124Z","level":"info","message":"llm_call_metrics","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.124Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.125Z","level":"info","message":"llm_call_metrics","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.127Z","level":"info","message":"generation_resume_verified","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.132Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.138Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.144Z","level":"info","message":"generation_cover_letters_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","variants":2,"fallbackApplied":true,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.144Z","level":"info","message":"pdf_generation_attempt","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/enhanced_modern.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.145Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.145Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/enhanced_modern.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.146Z","level":"info","message":"pdf_generation_attempt","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/enhanced_professional.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.146Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/enhanced_professional.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.147Z","level":"info","message":"pdf_generation_attempt","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/cover_letter_cover_modern.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/cover_letter_cover_modern.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.149Z","level":"info","message":"pdf_generation_attempt","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/cover_letter_cover_professional.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e/cover_letter_cover_professional.pdf","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.153Z","level":"info","message":"llm_call_metrics","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.154Z","level":"info","message":"generation_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","generationRunId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","enhancedScore":80,"outputs":5,"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.155Z","level":"info","message":"placeholder_record_deleted","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","jobId":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","placeholderIdentifier":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b8eba4d6-0644-4cef-82fa-4b45976a9fe0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.156Z","level":"info","message":"http_request_completed","requestId":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":74,"contentLength":"58133","template":"unknown","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfff21b8-985d-44e8-a8b9-e2e4e9cceb1e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.161Z","level":"info","message":"http_request_received","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","method":"POST","path":"/api/process-cv","template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.162Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.163Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.164Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.166Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.168Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8751b07b-6ad7-46dd-84ab-c86989329fe3/incoming/original.pdf","chunks":1,"timestamp":1764854593170}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8751b07b-6ad7-46dd-84ab-c86989329fe3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8751b07b-6ad7-46dd-84ab-c86989329fe3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.177Z","level":"info","message":"process_cv_started","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","manualJobDescriptionProvided":true,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.178Z","level":"info","message":"template_selection","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.179Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.184Z","level":"info","message":"initial_upload_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","bucket":"test-bucket","key":"cv/candidate/8751b07b-6ad7-46dd-84ab-c86989329fe3/incoming/original.pdf","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.185Z","level":"info","message":"resume_text_extracted","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","characters":57,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.185Z","level":"info","message":"resume_classified","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.186Z","level":"info","message":"raw_upload_relocated","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","bucket":"test-bucket","fromKey":"cv/candidate/8751b07b-6ad7-46dd-84ab-c86989329fe3/incoming/original.pdf","toKey":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/original.pdf","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.186Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","bucket":"test-bucket","key":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/original.pdf","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.187Z","level":"info","message":"dynamo_initial_record_written","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","bucket":"test-bucket","key":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/original.pdf","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.187Z","level":"info","message":"upload_metadata_written","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","bucket":"test-bucket","key":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/logs/log.json","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.187Z","level":"info","message":"job_description_supplied_manually","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","characters":174,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.187Z","level":"info","message":"job_description_analyzed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","jobTitle":"","jobSkills":5,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.188Z","level":"info","message":"resume_skills_analyzed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.188Z","level":"info","message":"llm_call_metrics","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.189Z","level":"info","message":"process_cv_scoring_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.193Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","sample":"not json","template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.202Z","level":"info","message":"llm_call_metrics","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.203Z","level":"info","message":"llm_call_metrics","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.203Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.204Z","level":"info","message":"llm_call_metrics","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.207Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.215Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.220Z","level":"info","message":"generation_cover_letters_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","variants":2,"fallbackApplied":true,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.221Z","level":"info","message":"pdf_generation_attempt","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/enhanced_modern.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.221Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.222Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/enhanced_modern.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.222Z","level":"info","message":"pdf_generation_attempt","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/enhanced_professional.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.223Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.223Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/enhanced_professional.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.224Z","level":"info","message":"pdf_generation_attempt","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/cover_letter_cover_modern.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.224Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.224Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/cover_letter_cover_modern.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.225Z","level":"info","message":"pdf_generation_attempt","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/cover_letter_cover_professional.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.225Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.226Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8751b07b-6ad7-46dd-84ab-c86989329fe3/cover_letter_cover_professional.pdf","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.228Z","level":"info","message":"llm_call_metrics","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.228Z","level":"info","message":"generation_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","generationRunId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","enhancedScore":80,"outputs":5,"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.230Z","level":"info","message":"placeholder_record_deleted","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","jobId":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","placeholderIdentifier":"8751b07b-6ad7-46dd-84ab-c86989329fe3","template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"df2b3d1e-5f91-4382-93a3-98ac0c14e642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.231Z","level":"info","message":"http_request_completed","requestId":"8751b07b-6ad7-46dd-84ab-c86989329fe3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"58091","template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8751b07b-6ad7-46dd-84ab-c86989329fe3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.234Z","level":"info","message":"http_request_received","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","method":"POST","path":"/api/process-cv","template":"unknown","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.235Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.236Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.237Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.238Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.240Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/780c9756-de68-4107-8900-a9d8852b3df5/incoming/original.pdf","chunks":1,"timestamp":1764854593242}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/780c9756-de68-4107-8900-a9d8852b3df5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/780c9756-de68-4107-8900-a9d8852b3df5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.244Z","level":"info","message":"process_cv_started","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","manualJobDescriptionProvided":true,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.244Z","level":"info","message":"template_selection","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.245Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.250Z","level":"info","message":"initial_upload_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","bucket":"test-bucket","key":"cv/candidate/780c9756-de68-4107-8900-a9d8852b3df5/incoming/original.pdf","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.250Z","level":"info","message":"resume_text_extracted","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","characters":57,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.251Z","level":"info","message":"resume_classified","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.251Z","level":"info","message":"raw_upload_relocated","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","bucket":"test-bucket","fromKey":"cv/candidate/780c9756-de68-4107-8900-a9d8852b3df5/incoming/original.pdf","toKey":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/original.pdf","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.252Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","bucket":"test-bucket","key":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/original.pdf","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.252Z","level":"info","message":"dynamo_initial_record_written","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","bucket":"test-bucket","key":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/original.pdf","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.252Z","level":"info","message":"upload_metadata_written","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","bucket":"test-bucket","key":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/logs/log.json","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.252Z","level":"info","message":"job_description_supplied_manually","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","characters":174,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.253Z","level":"info","message":"job_description_analyzed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","jobTitle":"","jobSkills":5,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.253Z","level":"info","message":"resume_skills_analyzed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.253Z","level":"info","message":"llm_call_metrics","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.256Z","level":"info","message":"process_cv_scoring_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.258Z","level":"info","message":"llm_call_metrics","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.258Z","level":"info","message":"generation_section_rewrite_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.258Z","level":"info","message":"llm_call_metrics","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.259Z","level":"info","message":"llm_call_metrics","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.260Z","level":"info","message":"generation_resume_verified","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.263Z","level":"error","message":"ai_response_missing_json","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.268Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","attempt":1,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.273Z","level":"error","message":"ai_response_missing_json","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.278Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","attempt":2,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.284Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.289Z","level":"info","message":"generation_cover_letters_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","variants":2,"fallbackApplied":true,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.290Z","level":"info","message":"pdf_generation_attempt","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/enhanced_modern.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.290Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.291Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/enhanced_modern.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.291Z","level":"info","message":"pdf_generation_attempt","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/enhanced_professional.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.292Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.292Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/enhanced_professional.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.292Z","level":"info","message":"pdf_generation_attempt","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/cover_letter_cover_modern.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.293Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.293Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/cover_letter_cover_modern.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.294Z","level":"info","message":"pdf_generation_attempt","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/cover_letter_cover_professional.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.294Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.295Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/780c9756-de68-4107-8900-a9d8852b3df5/cover_letter_cover_professional.pdf","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.297Z","level":"info","message":"llm_call_metrics","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.298Z","level":"info","message":"generation_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","generationRunId":"780c9756-de68-4107-8900-a9d8852b3df5","enhancedScore":80,"outputs":5,"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.298Z","level":"info","message":"placeholder_record_deleted","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","jobId":"f631b769-a301-4ae2-8ad0-388cef8c7b79","placeholderIdentifier":"780c9756-de68-4107-8900-a9d8852b3df5","template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f631b769-a301-4ae2-8ad0-388cef8c7b79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.300Z","level":"info","message":"http_request_completed","requestId":"780c9756-de68-4107-8900-a9d8852b3df5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"59498","template":"unknown","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"780c9756-de68-4107-8900-a9d8852b3df5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.303Z","level":"info","message":"http_request_received","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","method":"POST","path":"/api/process-cv","template":"unknown","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.304Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.305Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.306Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.308Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.309Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/09b4aa4a-d1a5-451b-9f44-437f6e9779da/incoming/original.pdf","chunks":1,"timestamp":1764854593312}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/09b4aa4a-d1a5-451b-9f44-437f6e9779da/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/09b4aa4a-d1a5-451b-9f44-437f6e9779da/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.313Z","level":"info","message":"process_cv_started","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","manualJobDescriptionProvided":true,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.313Z","level":"info","message":"template_selection","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.314Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.319Z","level":"info","message":"initial_upload_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","bucket":"test-bucket","key":"cv/candidate/09b4aa4a-d1a5-451b-9f44-437f6e9779da/incoming/original.pdf","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.320Z","level":"info","message":"resume_text_extracted","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","characters":57,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.320Z","level":"info","message":"resume_classified","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.320Z","level":"info","message":"raw_upload_relocated","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","bucket":"test-bucket","fromKey":"cv/candidate/09b4aa4a-d1a5-451b-9f44-437f6e9779da/incoming/original.pdf","toKey":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/original.pdf","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.321Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","bucket":"test-bucket","key":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/original.pdf","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.321Z","level":"info","message":"dynamo_initial_record_written","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","bucket":"test-bucket","key":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/original.pdf","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.321Z","level":"info","message":"upload_metadata_written","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","bucket":"test-bucket","key":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/logs/log.json","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.321Z","level":"info","message":"job_description_supplied_manually","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","characters":174,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.322Z","level":"info","message":"job_description_analyzed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","jobTitle":"","jobSkills":5,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.322Z","level":"info","message":"resume_skills_analyzed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.322Z","level":"info","message":"llm_call_metrics","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.323Z","level":"info","message":"process_cv_scoring_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.325Z","level":"info","message":"llm_call_metrics","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.325Z","level":"info","message":"generation_section_rewrite_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.326Z","level":"info","message":"llm_call_metrics","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.326Z","level":"info","message":"llm_call_metrics","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.328Z","level":"info","message":"generation_resume_verified","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.330Z","level":"error","message":"ai_response_missing_json","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.335Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","attempt":1,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.341Z","level":"error","message":"ai_response_missing_json","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.346Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","attempt":2,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.352Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.357Z","level":"info","message":"generation_cover_letters_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","variants":2,"fallbackApplied":true,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.358Z","level":"info","message":"pdf_generation_attempt","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/enhanced_modern.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.358Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/enhanced_modern.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.359Z","level":"info","message":"pdf_generation_attempt","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/enhanced_professional.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.359Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.360Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/enhanced_professional.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.360Z","level":"info","message":"pdf_generation_attempt","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/cover_letter_cover_modern.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.360Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.361Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/cover_letter_cover_modern.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.361Z","level":"info","message":"pdf_generation_attempt","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/cover_letter_cover_professional.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.362Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.363Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/09b4aa4a-d1a5-451b-9f44-437f6e9779da/cover_letter_cover_professional.pdf","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.365Z","level":"info","message":"llm_call_metrics","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.365Z","level":"info","message":"generation_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","generationRunId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","enhancedScore":80,"outputs":5,"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.367Z","level":"info","message":"placeholder_record_deleted","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","jobId":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","placeholderIdentifier":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3443b6d8-3723-44a4-897c-8d6f3d4b3125","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.368Z","level":"info","message":"http_request_completed","requestId":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":65,"contentLength":"59498","template":"unknown","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"09b4aa4a-d1a5-451b-9f44-437f6e9779da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.370Z","level":"info","message":"http_request_received","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","method":"POST","path":"/api/process-cv","template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.371Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.372Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.373Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.375Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.376Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/07ec3cb6-43e2-4484-a962-d5e141070d85/incoming/original.pdf","chunks":1,"timestamp":1764854593379}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/07ec3cb6-43e2-4484-a962-d5e141070d85/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/07ec3cb6-43e2-4484-a962-d5e141070d85/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.380Z","level":"info","message":"process_cv_started","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","manualJobDescriptionProvided":true,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.380Z","level":"info","message":"template_selection","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.382Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.387Z","level":"info","message":"initial_upload_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","bucket":"test-bucket","key":"cv/candidate/07ec3cb6-43e2-4484-a962-d5e141070d85/incoming/original.pdf","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.387Z","level":"info","message":"resume_text_extracted","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","characters":57,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.388Z","level":"info","message":"resume_classified","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.388Z","level":"info","message":"raw_upload_relocated","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","bucket":"test-bucket","fromKey":"cv/candidate/07ec3cb6-43e2-4484-a962-d5e141070d85/incoming/original.pdf","toKey":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/original.pdf","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.388Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","bucket":"test-bucket","key":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/original.pdf","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.388Z","level":"info","message":"dynamo_initial_record_written","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","bucket":"test-bucket","key":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/original.pdf","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.389Z","level":"info","message":"upload_metadata_written","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","bucket":"test-bucket","key":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/logs/log.json","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.389Z","level":"info","message":"job_description_supplied_manually","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","characters":174,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.389Z","level":"info","message":"job_description_analyzed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","jobTitle":"","jobSkills":5,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.390Z","level":"info","message":"resume_skills_analyzed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.390Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.390Z","level":"info","message":"process_cv_scoring_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.392Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.397Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.397Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.398Z","level":"info","message":"generation_section_rewrite_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.398Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.398Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.401Z","level":"error","message":"ai_response_missing_json","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.407Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","attempt":1,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.412Z","level":"error","message":"ai_response_missing_json","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.417Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","attempt":2,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.423Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.429Z","level":"info","message":"generation_cover_letters_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","variants":2,"fallbackApplied":true,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.430Z","level":"info","message":"pdf_generation_attempt","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/enhanced_modern.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.430Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.431Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/enhanced_modern.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.431Z","level":"info","message":"pdf_generation_attempt","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/enhanced_professional.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.432Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.432Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/enhanced_professional.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.433Z","level":"info","message":"pdf_generation_attempt","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/cover_letter_cover_modern.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.433Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.433Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/cover_letter_cover_modern.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.434Z","level":"info","message":"pdf_generation_attempt","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/cover_letter_cover_professional.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.434Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.435Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/07ec3cb6-43e2-4484-a962-d5e141070d85/cover_letter_cover_professional.pdf","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.436Z","level":"info","message":"llm_call_metrics","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.437Z","level":"info","message":"generation_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","generationRunId":"07ec3cb6-43e2-4484-a962-d5e141070d85","enhancedScore":80,"outputs":5,"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.438Z","level":"info","message":"placeholder_record_deleted","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","jobId":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","placeholderIdentifier":"07ec3cb6-43e2-4484-a962-d5e141070d85","template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9b367b6e-eb72-4ea5-a9a0-4325a76ebb51","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.439Z","level":"info","message":"http_request_completed","requestId":"07ec3cb6-43e2-4484-a962-d5e141070d85","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"58301","template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"07ec3cb6-43e2-4484-a962-d5e141070d85","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.445Z","level":"info","message":"http_request_received","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","method":"POST","path":"/api/process-cv","template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.446Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.447Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.449Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.450Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.452Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5ba70aa9-cdb7-497a-8404-2cfa01848f91/incoming/original.pdf","chunks":1,"timestamp":1764854593454}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5ba70aa9-cdb7-497a-8404-2cfa01848f91/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5ba70aa9-cdb7-497a-8404-2cfa01848f91/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.456Z","level":"info","message":"process_cv_started","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","manualJobDescriptionProvided":true,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.456Z","level":"info","message":"template_selection","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.457Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.462Z","level":"info","message":"initial_upload_completed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","bucket":"test-bucket","key":"cv/candidate/5ba70aa9-cdb7-497a-8404-2cfa01848f91/incoming/original.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.463Z","level":"info","message":"resume_text_extracted","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","characters":57,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.463Z","level":"info","message":"resume_classified","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.463Z","level":"info","message":"raw_upload_relocated","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","bucket":"test-bucket","fromKey":"cv/candidate/5ba70aa9-cdb7-497a-8404-2cfa01848f91/incoming/original.pdf","toKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/original.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.464Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","bucket":"test-bucket","key":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/original.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.464Z","level":"info","message":"dynamo_initial_record_written","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","bucket":"test-bucket","key":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/original.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.464Z","level":"info","message":"upload_metadata_written","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","bucket":"test-bucket","key":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/logs/log.json","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.464Z","level":"info","message":"job_description_supplied_manually","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","characters":174,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.465Z","level":"info","message":"job_description_analyzed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","jobTitle":"","jobSkills":5,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.465Z","level":"info","message":"resume_skills_analyzed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.465Z","level":"info","message":"llm_call_metrics","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.466Z","level":"info","message":"process_cv_scoring_completed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.467Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.473Z","level":"info","message":"llm_call_metrics","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.473Z","level":"info","message":"llm_call_metrics","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.473Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.474Z","level":"info","message":"llm_call_metrics","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.474Z","level":"info","message":"llm_call_metrics","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.477Z","level":"error","message":"ai_response_missing_json","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.482Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","attempt":1,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.487Z","level":"error","message":"ai_response_missing_json","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.493Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","attempt":2,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.499Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.504Z","level":"info","message":"generation_cover_letters_completed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","variants":2,"fallbackApplied":true,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.505Z","level":"info","message":"pdf_generation_attempt","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/enhanced_modern.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.505Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.506Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/enhanced_modern.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.506Z","level":"info","message":"pdf_generation_attempt","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/enhanced_professional.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.507Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/enhanced_professional.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.507Z","level":"info","message":"pdf_generation_attempt","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_letter_cover_modern.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.508Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.508Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_letter_cover_modern.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.509Z","level":"info","message":"pdf_generation_attempt","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_letter_cover_professional.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.509Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.510Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_letter_cover_professional.pdf","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.511Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","artifactType":"original_upload","storageKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/original.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"original_upload"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.516Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","artifactType":"version1","storageKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/modern/version1.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"version1"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.521Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","artifactType":"version2","storageKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/professional/version2.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"version2"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.526Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","artifactType":"cover_letter1","storageKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_modern/cover_letter1.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"cover_letter1"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.531Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","artifactType":"cover_letter2","storageKey":"cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_professional/cover_letter2.pdf","template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"cover_letter2"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21863:9)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.539Z","level":"error","message":"generation_urls_missing","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","requestedUrlCount":0,"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:21964:7)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.544Z","level":"error","message":"api_error_response","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-23-13-544z-5ba70aa9-cdb7-497a-8404-2cfa01848f91.json","status":"pending"}}},"requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96"},"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at generateEnhancedDocumentsResponse (server.js:21968:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.550Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","jobId":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","generationRunId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/modern/version1.pdf","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/professional/version2.pdf","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_modern/cover_letter1.pdf","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/cover_professional/cover_letter2.pdf","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/original.json","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/version1.json","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/version2.json","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/cover-letter1.json","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/cover-letter2.json","cv/professional_summary/5ba70aa9-cdb7-497a-8404-2cfa01848f91/artifacts/changelog.json"],"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a013247b-ebcd-4e84-ac1e-9fbad61b6d96","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:19891:9
      at generateEnhancedDocumentsResponse (server.js:22496:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.555Z","level":"info","message":"http_request_completed","requestId":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":110,"contentLength":"396","template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5ba70aa9-cdb7-497a-8404-2cfa01848f91","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.557Z","level":"info","message":"http_request_received","requestId":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.558Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.559Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.561Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.571Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.572Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.574Z","level":"info","message":"http_request_completed","requestId":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":17,"contentLength":"232","template":"unknown","session":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dfa1d2df-0bd5-4d22-aea7-1ddcd8081287","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.576Z","level":"info","message":"http_request_received","requestId":"ff02f074-272e-4bf8-86e6-a05b09c5366b","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"ff02f074-272e-4bf8-86e6-a05b09c5366b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ff02f074-272e-4bf8-86e6-a05b09c5366b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.577Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.578Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.579Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.580Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.581Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.582Z","level":"warn","message":"api_error_response","requestId":"ff02f074-272e-4bf8-86e6-a05b09c5366b","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"ff02f074-272e-4bf8-86e6-a05b09c5366b","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:24601:12

  console.log
    {"timestamp":"2025-12-04T13:23:13.588Z","level":"info","message":"http_request_completed","requestId":"ff02f074-272e-4bf8-86e6-a05b09c5366b","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":12,"contentLength":"201","template":"unknown","session":"ff02f074-272e-4bf8-86e6-a05b09c5366b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ff02f074-272e-4bf8-86e6-a05b09c5366b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.590Z","level":"info","message":"http_request_received","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","method":"POST","path":"/api/process-cv","template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.591Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.592Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.594Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.595Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.597Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8d22da7d-abaa-495d-9820-843f2c4c07be/incoming/original.pdf","chunks":1,"timestamp":1764854593598}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8d22da7d-abaa-495d-9820-843f2c4c07be/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8d22da7d-abaa-495d-9820-843f2c4c07be/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.600Z","level":"info","message":"process_cv_started","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","manualJobDescriptionProvided":true,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.600Z","level":"info","message":"template_selection","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.601Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.606Z","level":"info","message":"initial_upload_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","bucket":"test-bucket","key":"cv/candidate/8d22da7d-abaa-495d-9820-843f2c4c07be/incoming/original.pdf","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.606Z","level":"info","message":"resume_text_extracted","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","characters":57,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.607Z","level":"info","message":"resume_classified","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.607Z","level":"info","message":"raw_upload_relocated","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","bucket":"test-bucket","fromKey":"cv/candidate/8d22da7d-abaa-495d-9820-843f2c4c07be/incoming/original.pdf","toKey":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/original.pdf","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.607Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","bucket":"test-bucket","key":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/original.pdf","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.608Z","level":"info","message":"dynamo_initial_record_written","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","bucket":"test-bucket","key":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/original.pdf","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.608Z","level":"info","message":"upload_metadata_written","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","bucket":"test-bucket","key":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/logs/log.json","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.608Z","level":"info","message":"job_description_supplied_manually","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","characters":174,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.608Z","level":"info","message":"job_description_analyzed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","jobTitle":"","jobSkills":5,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.609Z","level":"info","message":"resume_skills_analyzed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.609Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.610Z","level":"info","message":"process_cv_scoring_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.611Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.617Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.617Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.617Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.618Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.618Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:13.621Z","level":"error","message":"ai_response_missing_json","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.626Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","attempt":1,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.error
    {"timestamp":"2025-12-04T13:23:13.632Z","level":"error","message":"ai_response_missing_json","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20457:26)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.637Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","attempt":2,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20462:11)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.644Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.649Z","level":"info","message":"generation_cover_letters_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","variants":2,"fallbackApplied":true,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.649Z","level":"info","message":"pdf_generation_attempt","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/enhanced_modern.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.650Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.650Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/enhanced_modern.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.651Z","level":"info","message":"pdf_generation_attempt","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/enhanced_professional.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.651Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.651Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/enhanced_professional.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.652Z","level":"info","message":"pdf_generation_attempt","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/cover_letter_cover_modern.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.652Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.653Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/cover_letter_cover_modern.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.653Z","level":"info","message":"pdf_generation_attempt","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/cover_letter_cover_professional.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.653Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.654Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8d22da7d-abaa-495d-9820-843f2c4c07be/cover_letter_cover_professional.pdf","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.656Z","level":"info","message":"llm_call_metrics","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.656Z","level":"info","message":"generation_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","generationRunId":"8d22da7d-abaa-495d-9820-843f2c4c07be","enhancedScore":80,"outputs":5,"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.657Z","level":"info","message":"placeholder_record_deleted","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","jobId":"459138f2-266f-4333-a4bb-cf0b798893a6","placeholderIdentifier":"8d22da7d-abaa-495d-9820-843f2c4c07be","template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"459138f2-266f-4333-a4bb-cf0b798893a6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.658Z","level":"info","message":"http_request_completed","requestId":"8d22da7d-abaa-495d-9820-843f2c4c07be","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"58301","template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8d22da7d-abaa-495d-9820-843f2c4c07be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.661Z","level":"info","message":"http_request_received","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","method":"POST","path":"/api/process-cv","template":"unknown","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.662Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.663Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.664Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.665Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.667Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/incoming/original.pdf","chunks":1,"timestamp":1764854593669}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.670Z","level":"info","message":"process_cv_started","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","manualJobDescriptionProvided":true,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.671Z","level":"info","message":"template_selection","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.671Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.677Z","level":"info","message":"initial_upload_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","bucket":"test-bucket","key":"cv/candidate/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/incoming/original.pdf","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.678Z","level":"info","message":"resume_text_extracted","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","characters":57,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.678Z","level":"info","message":"resume_classified","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.678Z","level":"info","message":"raw_upload_relocated","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","bucket":"test-bucket","fromKey":"cv/candidate/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/incoming/original.pdf","toKey":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/original.pdf","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.679Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","bucket":"test-bucket","key":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/original.pdf","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.679Z","level":"info","message":"dynamo_initial_record_written","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","bucket":"test-bucket","key":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/original.pdf","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.679Z","level":"info","message":"upload_metadata_written","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","bucket":"test-bucket","key":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/logs/log.json","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.679Z","level":"info","message":"job_description_supplied_manually","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","characters":174,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.680Z","level":"info","message":"job_description_analyzed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","jobTitle":"","jobSkills":5,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.680Z","level":"info","message":"resume_skills_analyzed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.680Z","level":"info","message":"llm_call_metrics","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.681Z","level":"info","message":"process_cv_scoring_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.683Z","level":"info","message":"llm_call_metrics","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.683Z","level":"info","message":"generation_section_rewrite_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.683Z","level":"info","message":"llm_call_metrics","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.686Z","level":"info","message":"generation_resume_verified","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.689Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.694Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.699Z","level":"info","message":"generation_cover_letters_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","variants":2,"fallbackApplied":true,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.700Z","level":"info","message":"pdf_generation_attempt","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/enhanced_modern.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.700Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.701Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/enhanced_modern.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.701Z","level":"info","message":"pdf_generation_attempt","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/enhanced_professional.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.702Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.702Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/enhanced_professional.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.702Z","level":"info","message":"pdf_generation_attempt","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/cover_letter_cover_modern.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.703Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.703Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/cover_letter_cover_modern.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.704Z","level":"info","message":"pdf_generation_attempt","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/cover_letter_cover_professional.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.704Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.705Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/de5d0d80-57a6-45a9-a274-0f04a2e5a81e/cover_letter_cover_professional.pdf","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.707Z","level":"info","message":"llm_call_metrics","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.707Z","level":"info","message":"generation_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","generationRunId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","enhancedScore":80,"outputs":5,"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.708Z","level":"info","message":"placeholder_record_deleted","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","jobId":"5cd89611-4df3-4c02-902e-56943d8fbdcf","placeholderIdentifier":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5cd89611-4df3-4c02-902e-56943d8fbdcf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.709Z","level":"info","message":"http_request_completed","requestId":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":48,"contentLength":"58133","template":"unknown","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"de5d0d80-57a6-45a9-a274-0f04a2e5a81e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.712Z","level":"info","message":"http_request_received","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","method":"POST","path":"/api/process-cv","template":"unknown","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.713Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.714Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.716Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.717Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.719Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/incoming/original.pdf","chunks":1,"timestamp":1764854593721}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.722Z","level":"info","message":"process_cv_started","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","manualJobDescriptionProvided":true,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.722Z","level":"info","message":"template_selection","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.723Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.728Z","level":"info","message":"initial_upload_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","bucket":"test-bucket","key":"cv/candidate/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/incoming/original.pdf","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.729Z","level":"info","message":"resume_text_extracted","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","characters":57,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.729Z","level":"info","message":"resume_classified","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.729Z","level":"info","message":"raw_upload_relocated","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","bucket":"test-bucket","fromKey":"cv/candidate/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/incoming/original.pdf","toKey":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/original.pdf","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.729Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","bucket":"test-bucket","key":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/original.pdf","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.731Z","level":"info","message":"dynamo_initial_record_written","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","bucket":"test-bucket","key":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/original.pdf","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.732Z","level":"info","message":"upload_metadata_written","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","bucket":"test-bucket","key":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/logs/log.json","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.732Z","level":"info","message":"job_description_supplied_manually","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","characters":174,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.733Z","level":"info","message":"job_description_analyzed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","jobTitle":"","jobSkills":5,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.733Z","level":"info","message":"resume_skills_analyzed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.734Z","level":"info","message":"llm_call_metrics","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.734Z","level":"info","message":"process_cv_scoring_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.736Z","level":"info","message":"llm_call_metrics","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.737Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.737Z","level":"info","message":"llm_call_metrics","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.739Z","level":"info","message":"generation_resume_verified","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.741Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.748Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.755Z","level":"info","message":"generation_cover_letters_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","variants":2,"fallbackApplied":true,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.755Z","level":"info","message":"pdf_generation_attempt","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/enhanced_classic.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.756Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.756Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/enhanced_classic.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.757Z","level":"info","message":"pdf_generation_attempt","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/enhanced_ats.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.757Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.758Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/enhanced_ats.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.758Z","level":"info","message":"pdf_generation_attempt","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/cover_letter_cover_classic.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.759Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/cover_letter_cover_classic.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.759Z","level":"info","message":"pdf_generation_attempt","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/cover_letter_cover_ats.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.760Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2280994e-3ad5-44d8-a2ce-04e0e8bf0d14/cover_letter_cover_ats.pdf","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.762Z","level":"info","message":"llm_call_metrics","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.763Z","level":"info","message":"generation_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","generationRunId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","enhancedScore":80,"outputs":5,"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.764Z","level":"info","message":"placeholder_record_deleted","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","jobId":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","placeholderIdentifier":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b922e0b5-1faa-4f54-9a42-d976a3a3a97c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.765Z","level":"info","message":"http_request_completed","requestId":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57992","template":"unknown","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2280994e-3ad5-44d8-a2ce-04e0e8bf0d14","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.768Z","level":"info","message":"http_request_received","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","method":"POST","path":"/api/process-cv","template":"unknown","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.769Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.770Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.771Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.772Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.774Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/incoming/original.pdf","chunks":1,"timestamp":1764854593776}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.777Z","level":"info","message":"process_cv_started","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","manualJobDescriptionProvided":true,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.778Z","level":"info","message":"template_selection","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.778Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.784Z","level":"info","message":"initial_upload_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","bucket":"test-bucket","key":"cv/candidate/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/incoming/original.pdf","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.784Z","level":"info","message":"resume_text_extracted","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","characters":57,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.784Z","level":"info","message":"resume_classified","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.785Z","level":"info","message":"raw_upload_relocated","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","bucket":"test-bucket","fromKey":"cv/candidate/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/incoming/original.pdf","toKey":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/original.pdf","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.785Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","bucket":"test-bucket","key":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/original.pdf","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.785Z","level":"info","message":"dynamo_initial_record_written","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","bucket":"test-bucket","key":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/original.pdf","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.786Z","level":"info","message":"upload_metadata_written","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","bucket":"test-bucket","key":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/logs/log.json","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.786Z","level":"info","message":"job_description_supplied_manually","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","characters":174,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.786Z","level":"info","message":"job_description_analyzed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","jobTitle":"","jobSkills":5,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.787Z","level":"info","message":"resume_skills_analyzed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.787Z","level":"info","message":"llm_call_metrics","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.788Z","level":"info","message":"process_cv_scoring_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.791Z","level":"info","message":"llm_call_metrics","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.792Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.792Z","level":"info","message":"llm_call_metrics","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.795Z","level":"info","message":"generation_resume_verified","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.799Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.805Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.810Z","level":"info","message":"generation_cover_letters_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","variants":2,"fallbackApplied":true,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.811Z","level":"info","message":"pdf_generation_attempt","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/enhanced_modern.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.811Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.812Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/enhanced_modern.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.812Z","level":"info","message":"pdf_generation_attempt","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/enhanced_professional.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.812Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.813Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/enhanced_professional.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.813Z","level":"info","message":"pdf_generation_attempt","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/cover_letter_cover_modern.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.814Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/cover_letter_cover_modern.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.815Z","level":"info","message":"pdf_generation_attempt","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/cover_letter_cover_professional.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.815Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.815Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5/cover_letter_cover_professional.pdf","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.817Z","level":"info","message":"llm_call_metrics","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.818Z","level":"info","message":"generation_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","generationRunId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","enhancedScore":80,"outputs":5,"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.819Z","level":"info","message":"placeholder_record_deleted","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","jobId":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","placeholderIdentifier":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e620aa4d-d1a9-45a6-a8d9-d692b71feefa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.820Z","level":"info","message":"http_request_completed","requestId":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"59354","template":"unknown","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b6c7a4e-b9f3-42c9-a01e-197c9f8ce8b5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.823Z","level":"info","message":"http_request_received","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","method":"POST","path":"/api/process-cv","template":"unknown","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.824Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.825Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.826Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.827Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.829Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/850bc709-c6fd-44ce-8813-605322f7a936/incoming/original.pdf","chunks":1,"timestamp":1764854593832}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/850bc709-c6fd-44ce-8813-605322f7a936/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/850bc709-c6fd-44ce-8813-605322f7a936/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.833Z","level":"info","message":"process_cv_started","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","manualJobDescriptionProvided":true,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.833Z","level":"info","message":"template_selection","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.835Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.840Z","level":"info","message":"initial_upload_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","bucket":"test-bucket","key":"cv/candidate/850bc709-c6fd-44ce-8813-605322f7a936/incoming/original.pdf","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.840Z","level":"info","message":"resume_text_extracted","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","characters":57,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.841Z","level":"info","message":"resume_classified","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.841Z","level":"info","message":"raw_upload_relocated","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","bucket":"test-bucket","fromKey":"cv/candidate/850bc709-c6fd-44ce-8813-605322f7a936/incoming/original.pdf","toKey":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/original.pdf","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.841Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","bucket":"test-bucket","key":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/original.pdf","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.842Z","level":"info","message":"dynamo_initial_record_written","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","bucket":"test-bucket","key":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/original.pdf","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.842Z","level":"info","message":"upload_metadata_written","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","bucket":"test-bucket","key":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/logs/log.json","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.842Z","level":"info","message":"job_description_supplied_manually","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","characters":174,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.843Z","level":"info","message":"job_description_analyzed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","jobTitle":"","jobSkills":5,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.843Z","level":"info","message":"resume_skills_analyzed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.844Z","level":"info","message":"llm_call_metrics","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.844Z","level":"info","message":"process_cv_scoring_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.846Z","level":"info","message":"llm_call_metrics","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.847Z","level":"info","message":"generation_section_rewrite_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.847Z","level":"info","message":"llm_call_metrics","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.849Z","level":"info","message":"generation_resume_verified","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.853Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.859Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.864Z","level":"info","message":"generation_cover_letters_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","variants":2,"fallbackApplied":true,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.865Z","level":"info","message":"pdf_generation_attempt","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/enhanced_modern.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.865Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.866Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/enhanced_modern.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.866Z","level":"info","message":"pdf_generation_attempt","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/enhanced_professional.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.866Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.867Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/enhanced_professional.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.867Z","level":"info","message":"pdf_generation_attempt","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/cover_letter_cover_modern.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.868Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.868Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/cover_letter_cover_modern.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.869Z","level":"info","message":"pdf_generation_attempt","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/cover_letter_cover_professional.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.869Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.869Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/850bc709-c6fd-44ce-8813-605322f7a936/cover_letter_cover_professional.pdf","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.871Z","level":"info","message":"llm_call_metrics","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.872Z","level":"info","message":"generation_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","generationRunId":"850bc709-c6fd-44ce-8813-605322f7a936","enhancedScore":80,"outputs":5,"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.873Z","level":"info","message":"placeholder_record_deleted","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","jobId":"87effec6-58ef-45ec-b502-bccfd4c7ac04","placeholderIdentifier":"850bc709-c6fd-44ce-8813-605322f7a936","template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87effec6-58ef-45ec-b502-bccfd4c7ac04","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.874Z","level":"info","message":"http_request_completed","requestId":"850bc709-c6fd-44ce-8813-605322f7a936","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"57968","template":"unknown","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"850bc709-c6fd-44ce-8813-605322f7a936","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.877Z","level":"info","message":"http_request_received","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","method":"POST","path":"/api/process-cv","template":"unknown","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.878Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.879Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.880Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.882Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.883Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9f10eed8-b0de-44fb-8a45-9e2930f306d7/incoming/original.pdf","chunks":1,"timestamp":1764854593885}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9f10eed8-b0de-44fb-8a45-9e2930f306d7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9f10eed8-b0de-44fb-8a45-9e2930f306d7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.886Z","level":"info","message":"process_cv_started","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","manualJobDescriptionProvided":true,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.887Z","level":"info","message":"template_selection","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.887Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.893Z","level":"info","message":"initial_upload_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","bucket":"test-bucket","key":"cv/candidate/9f10eed8-b0de-44fb-8a45-9e2930f306d7/incoming/original.pdf","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.893Z","level":"info","message":"resume_text_extracted","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","characters":57,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.893Z","level":"info","message":"resume_classified","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.894Z","level":"info","message":"raw_upload_relocated","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","bucket":"test-bucket","fromKey":"cv/candidate/9f10eed8-b0de-44fb-8a45-9e2930f306d7/incoming/original.pdf","toKey":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/original.pdf","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.894Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","bucket":"test-bucket","key":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/original.pdf","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.894Z","level":"info","message":"dynamo_initial_record_written","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","bucket":"test-bucket","key":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/original.pdf","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.895Z","level":"info","message":"upload_metadata_written","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","bucket":"test-bucket","key":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/logs/log.json","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.895Z","level":"info","message":"job_description_supplied_manually","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","characters":174,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.895Z","level":"info","message":"job_description_analyzed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","jobTitle":"","jobSkills":5,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.896Z","level":"info","message":"resume_skills_analyzed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.896Z","level":"info","message":"llm_call_metrics","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.897Z","level":"info","message":"process_cv_scoring_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.899Z","level":"info","message":"llm_call_metrics","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.899Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.900Z","level":"info","message":"llm_call_metrics","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.901Z","level":"info","message":"generation_resume_verified","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.904Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.910Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.917Z","level":"info","message":"generation_cover_letters_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","variants":2,"fallbackApplied":true,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.917Z","level":"info","message":"pdf_generation_attempt","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/enhanced_modern.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.918Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.918Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/enhanced_modern.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.918Z","level":"info","message":"pdf_generation_attempt","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/enhanced_professional.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.919Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.919Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/enhanced_professional.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.920Z","level":"info","message":"pdf_generation_attempt","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/cover_letter_cover_modern.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.920Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.920Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/cover_letter_cover_modern.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.921Z","level":"info","message":"pdf_generation_attempt","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/cover_letter_cover_professional.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.921Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.922Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9f10eed8-b0de-44fb-8a45-9e2930f306d7/cover_letter_cover_professional.pdf","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.924Z","level":"info","message":"llm_call_metrics","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.924Z","level":"info","message":"generation_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","generationRunId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","enhancedScore":80,"outputs":5,"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.926Z","level":"info","message":"placeholder_record_deleted","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","jobId":"979902da-0cd0-40be-8ec6-410753aa5563","placeholderIdentifier":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"979902da-0cd0-40be-8ec6-410753aa5563","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.927Z","level":"info","message":"http_request_completed","requestId":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"59302","template":"unknown","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9f10eed8-b0de-44fb-8a45-9e2930f306d7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.929Z","level":"info","message":"http_request_received","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","method":"POST","path":"/api/process-cv","template":"unknown","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.930Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.931Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.933Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.934Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.936Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0174e6dc-c332-4e48-b237-a7315620fbb0/incoming/original.pdf","chunks":1,"timestamp":1764854593937}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0174e6dc-c332-4e48-b237-a7315620fbb0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0174e6dc-c332-4e48-b237-a7315620fbb0/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.939Z","level":"info","message":"process_cv_started","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","manualJobDescriptionProvided":true,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.939Z","level":"info","message":"template_selection","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.940Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.945Z","level":"info","message":"initial_upload_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","bucket":"test-bucket","key":"cv/candidate/0174e6dc-c332-4e48-b237-a7315620fbb0/incoming/original.pdf","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.946Z","level":"info","message":"resume_text_extracted","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","characters":57,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.946Z","level":"info","message":"resume_classified","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.946Z","level":"info","message":"raw_upload_relocated","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","bucket":"test-bucket","fromKey":"cv/candidate/0174e6dc-c332-4e48-b237-a7315620fbb0/incoming/original.pdf","toKey":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/original.pdf","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.947Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","bucket":"test-bucket","key":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/original.pdf","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.947Z","level":"info","message":"dynamo_initial_record_written","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","bucket":"test-bucket","key":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/original.pdf","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.947Z","level":"info","message":"upload_metadata_written","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","bucket":"test-bucket","key":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/logs/log.json","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.947Z","level":"info","message":"job_description_supplied_manually","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","characters":174,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.948Z","level":"info","message":"job_description_analyzed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","jobTitle":"","jobSkills":5,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.948Z","level":"info","message":"resume_skills_analyzed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.949Z","level":"info","message":"llm_call_metrics","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.949Z","level":"info","message":"process_cv_scoring_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.951Z","level":"info","message":"llm_call_metrics","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.952Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.952Z","level":"info","message":"llm_call_metrics","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.956Z","level":"info","message":"generation_resume_verified","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.958Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:13.965Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:13.970Z","level":"info","message":"generation_cover_letters_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","variants":2,"fallbackApplied":true,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.970Z","level":"info","message":"pdf_generation_attempt","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/enhanced_modern.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.971Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.971Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/enhanced_modern.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.972Z","level":"info","message":"pdf_generation_attempt","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/enhanced_professional.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.972Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.973Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/enhanced_professional.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.973Z","level":"info","message":"pdf_generation_attempt","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/cover_letter_cover_modern.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.973Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.974Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/cover_letter_cover_modern.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.974Z","level":"info","message":"pdf_generation_attempt","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/cover_letter_cover_professional.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.975Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.975Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0174e6dc-c332-4e48-b237-a7315620fbb0/cover_letter_cover_professional.pdf","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.977Z","level":"info","message":"llm_call_metrics","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.978Z","level":"info","message":"generation_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","generationRunId":"0174e6dc-c332-4e48-b237-a7315620fbb0","enhancedScore":80,"outputs":5,"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.979Z","level":"info","message":"placeholder_record_deleted","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","jobId":"340eb452-30c8-4f90-817f-3b0dbaeba51d","placeholderIdentifier":"0174e6dc-c332-4e48-b237-a7315620fbb0","template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"340eb452-30c8-4f90-817f-3b0dbaeba51d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.980Z","level":"info","message":"http_request_completed","requestId":"0174e6dc-c332-4e48-b237-a7315620fbb0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59835","template":"unknown","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0174e6dc-c332-4e48-b237-a7315620fbb0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.982Z","level":"info","message":"http_request_received","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","method":"POST","path":"/api/process-cv","template":"unknown","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.983Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.985Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.986Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.987Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.989Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/incoming/original.pdf","chunks":1,"timestamp":1764854593991}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:13.992Z","level":"info","message":"process_cv_started","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","manualJobDescriptionProvided":true,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:13.992Z","level":"info","message":"template_selection","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:13.993Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:13.999Z","level":"info","message":"initial_upload_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","bucket":"test-bucket","key":"cv/candidate/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/incoming/original.pdf","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.000Z","level":"info","message":"resume_text_extracted","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","characters":57,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.000Z","level":"info","message":"resume_classified","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.000Z","level":"info","message":"raw_upload_relocated","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","bucket":"test-bucket","fromKey":"cv/candidate/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/incoming/original.pdf","toKey":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/original.pdf","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.001Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","bucket":"test-bucket","key":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/original.pdf","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.001Z","level":"info","message":"dynamo_initial_record_written","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","bucket":"test-bucket","key":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/original.pdf","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.001Z","level":"info","message":"upload_metadata_written","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","bucket":"test-bucket","key":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/logs/log.json","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.001Z","level":"info","message":"job_description_supplied_manually","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","characters":174,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.002Z","level":"info","message":"job_description_analyzed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","jobTitle":"","jobSkills":5,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.002Z","level":"info","message":"resume_skills_analyzed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.003Z","level":"info","message":"llm_call_metrics","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.003Z","level":"info","message":"process_cv_scoring_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.005Z","level":"info","message":"llm_call_metrics","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.006Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.006Z","level":"info","message":"llm_call_metrics","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.008Z","level":"info","message":"generation_resume_verified","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.010Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.016Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.021Z","level":"info","message":"generation_cover_letters_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","variants":2,"fallbackApplied":true,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.022Z","level":"info","message":"pdf_generation_attempt","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/enhanced_modern.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.022Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.023Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/enhanced_modern.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.023Z","level":"info","message":"pdf_generation_attempt","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/enhanced_professional.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.024Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.025Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/enhanced_professional.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.026Z","level":"info","message":"pdf_generation_attempt","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/cover_letter_cover_modern.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.026Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.027Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/cover_letter_cover_modern.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.027Z","level":"info","message":"pdf_generation_attempt","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/cover_letter_cover_professional.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.028Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.029Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b/cover_letter_cover_professional.pdf","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.030Z","level":"info","message":"llm_call_metrics","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.031Z","level":"info","message":"generation_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","generationRunId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","enhancedScore":80,"outputs":5,"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.032Z","level":"info","message":"placeholder_record_deleted","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","jobId":"58ca2c69-f45a-4dca-a10e-d77618e864c4","placeholderIdentifier":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58ca2c69-f45a-4dca-a10e-d77618e864c4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.033Z","level":"info","message":"http_request_completed","requestId":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"58133","template":"unknown","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b0cebad-df56-4d8a-a7fd-5e69a2cfff2b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.036Z","level":"info","message":"http_request_received","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","method":"POST","path":"/api/process-cv","template":"unknown","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.037Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.039Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.040Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.042Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.044Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/67aa33b1-1122-4959-9bb4-615bae6dba63/incoming/original.pdf","chunks":1,"timestamp":1764854594046}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/67aa33b1-1122-4959-9bb4-615bae6dba63/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/67aa33b1-1122-4959-9bb4-615bae6dba63/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:14.047Z","level":"info","message":"process_cv_started","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","manualJobDescriptionProvided":true,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.047Z","level":"info","message":"template_selection","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.048Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.053Z","level":"info","message":"initial_upload_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","bucket":"test-bucket","key":"cv/candidate/67aa33b1-1122-4959-9bb4-615bae6dba63/incoming/original.pdf","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.054Z","level":"info","message":"resume_text_extracted","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","characters":57,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.054Z","level":"info","message":"resume_classified","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.054Z","level":"info","message":"raw_upload_relocated","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","bucket":"test-bucket","fromKey":"cv/candidate/67aa33b1-1122-4959-9bb4-615bae6dba63/incoming/original.pdf","toKey":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/original.pdf","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.055Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","bucket":"test-bucket","key":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/original.pdf","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.055Z","level":"info","message":"dynamo_initial_record_written","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","bucket":"test-bucket","key":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/original.pdf","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.055Z","level":"info","message":"upload_metadata_written","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","bucket":"test-bucket","key":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/logs/log.json","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.055Z","level":"info","message":"job_description_supplied_manually","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","characters":174,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.056Z","level":"info","message":"job_description_analyzed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","jobTitle":"","jobSkills":5,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.056Z","level":"info","message":"resume_skills_analyzed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.057Z","level":"info","message":"llm_call_metrics","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.057Z","level":"info","message":"process_cv_scoring_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.060Z","level":"info","message":"llm_call_metrics","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.060Z","level":"info","message":"generation_section_rewrite_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.062Z","level":"info","message":"generation_resume_verified","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.064Z","level":"info","message":"generation_cover_letters_normalized","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.065Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.070Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","variants":["cover_letter1"],"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.071Z","level":"info","message":"generation_cover_letters_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","variants":2,"fallbackApplied":true,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.071Z","level":"info","message":"pdf_generation_attempt","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/enhanced_modern.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.072Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.072Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/enhanced_modern.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.073Z","level":"info","message":"pdf_generation_attempt","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/enhanced_professional.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.073Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/enhanced_professional.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.074Z","level":"info","message":"pdf_generation_attempt","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/cover_letter_cover_modern.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.074Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.075Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/cover_letter_cover_modern.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.076Z","level":"info","message":"pdf_generation_attempt","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/cover_letter_cover_professional.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.076Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.077Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/67aa33b1-1122-4959-9bb4-615bae6dba63/cover_letter_cover_professional.pdf","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.079Z","level":"info","message":"llm_call_metrics","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.079Z","level":"info","message":"generation_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","generationRunId":"67aa33b1-1122-4959-9bb4-615bae6dba63","enhancedScore":80,"outputs":5,"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.080Z","level":"info","message":"placeholder_record_deleted","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","jobId":"51aa853a-3622-459b-b315-c8945b285d97","placeholderIdentifier":"67aa33b1-1122-4959-9bb4-615bae6dba63","template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"51aa853a-3622-459b-b315-c8945b285d97","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.081Z","level":"info","message":"http_request_completed","requestId":"67aa33b1-1122-4959-9bb4-615bae6dba63","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":45,"contentLength":"46262","template":"unknown","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"67aa33b1-1122-4959-9bb4-615bae6dba63","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.084Z","level":"info","message":"http_request_received","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","method":"POST","path":"/api/process-cv","template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.085Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.086Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.087Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.088Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.090Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cda8bd97-54ce-4c1b-8916-973e4b5a2061/incoming/original.pdf","chunks":1,"timestamp":1764854594092}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cda8bd97-54ce-4c1b-8916-973e4b5a2061/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cda8bd97-54ce-4c1b-8916-973e4b5a2061/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:14.093Z","level":"info","message":"process_cv_started","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","manualJobDescriptionProvided":true,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.094Z","level":"info","message":"template_selection","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.094Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.099Z","level":"info","message":"initial_upload_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","bucket":"test-bucket","key":"cv/candidate/cda8bd97-54ce-4c1b-8916-973e4b5a2061/incoming/original.pdf","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.100Z","level":"info","message":"resume_text_extracted","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","characters":57,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.100Z","level":"info","message":"resume_classified","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.100Z","level":"info","message":"raw_upload_relocated","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","bucket":"test-bucket","fromKey":"cv/candidate/cda8bd97-54ce-4c1b-8916-973e4b5a2061/incoming/original.pdf","toKey":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/original.pdf","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.101Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","bucket":"test-bucket","key":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/original.pdf","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.101Z","level":"info","message":"dynamo_initial_record_written","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","bucket":"test-bucket","key":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/original.pdf","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.101Z","level":"info","message":"upload_metadata_written","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","bucket":"test-bucket","key":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/logs/log.json","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.102Z","level":"info","message":"job_description_supplied_manually","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","characters":174,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.102Z","level":"info","message":"job_description_analyzed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","jobTitle":"","jobSkills":5,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.102Z","level":"info","message":"resume_skills_analyzed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.103Z","level":"info","message":"llm_call_metrics","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.103Z","level":"info","message":"process_cv_scoring_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.105Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at Object.error (server.js:3478:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8534:20)
      at generateEnhancedDocumentsResponse (server.js:20175:26)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.110Z","level":"info","message":"llm_call_metrics","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.110Z","level":"info","message":"llm_call_metrics","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.111Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.111Z","level":"info","message":"llm_call_metrics","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.115Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.121Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.126Z","level":"info","message":"generation_cover_letters_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","variants":2,"fallbackApplied":true,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.126Z","level":"info","message":"pdf_generation_attempt","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/enhanced_modern.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.127Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.127Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/enhanced_modern.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.128Z","level":"info","message":"pdf_generation_attempt","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/enhanced_professional.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.128Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.128Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/enhanced_professional.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.129Z","level":"info","message":"pdf_generation_attempt","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/cover_letter_cover_modern.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.129Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.130Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/cover_letter_cover_modern.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.130Z","level":"info","message":"pdf_generation_attempt","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/cover_letter_cover_professional.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.131Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.131Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cda8bd97-54ce-4c1b-8916-973e4b5a2061/cover_letter_cover_professional.pdf","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.133Z","level":"info","message":"llm_call_metrics","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.134Z","level":"info","message":"generation_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","generationRunId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","enhancedScore":80,"outputs":5,"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.135Z","level":"info","message":"placeholder_record_deleted","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","jobId":"90e5e7ca-4181-4475-b3b6-10dea0170279","placeholderIdentifier":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90e5e7ca-4181-4475-b3b6-10dea0170279","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.135Z","level":"info","message":"http_request_completed","requestId":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"57871","template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cda8bd97-54ce-4c1b-8916-973e4b5a2061","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.138Z","level":"info","message":"http_request_received","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","method":"POST","path":"/api/process-cv","template":"unknown","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.139Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.140Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.141Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.143Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.144Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/incoming/original.pdf","chunks":1,"timestamp":1764854594146}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:23:14.148Z","level":"info","message":"process_cv_started","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","manualJobDescriptionProvided":true,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.148Z","level":"info","message":"template_selection","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.149Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.155Z","level":"info","message":"initial_upload_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","bucket":"test-bucket","key":"cv/candidate/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/incoming/original.pdf","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.155Z","level":"info","message":"resume_text_extracted","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","characters":57,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.156Z","level":"info","message":"resume_classified","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.156Z","level":"info","message":"raw_upload_relocated","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","bucket":"test-bucket","fromKey":"cv/candidate/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/incoming/original.pdf","toKey":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/original.pdf","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.156Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","bucket":"test-bucket","key":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/original.pdf","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.156Z","level":"info","message":"dynamo_initial_record_written","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","bucket":"test-bucket","key":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/original.pdf","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.157Z","level":"info","message":"upload_metadata_written","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","bucket":"test-bucket","key":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/logs/log.json","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.157Z","level":"info","message":"job_description_supplied_manually","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","characters":174,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.157Z","level":"info","message":"job_description_analyzed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","jobTitle":"","jobSkills":5,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.158Z","level":"info","message":"resume_skills_analyzed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.159Z","level":"info","message":"llm_call_metrics","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.159Z","level":"info","message":"process_cv_scoring_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.162Z","level":"info","message":"llm_call_metrics","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.162Z","level":"info","message":"generation_section_rewrite_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.162Z","level":"info","message":"llm_call_metrics","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.165Z","level":"info","message":"generation_resume_verified","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.167Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.173Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.180Z","level":"info","message":"generation_cover_letters_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","variants":2,"fallbackApplied":true,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.181Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_modern.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.183Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.188Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_professional.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.188Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.189Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.194Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_classic.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.195Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.200Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.201Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.201Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.207Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.207Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.208Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.213Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.220Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.220Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.221Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_professional.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.221Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.222Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.227Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_modern.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.227Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.228Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.233Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.233Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.234Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.239Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_classic.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.239Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.240Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.246Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.246Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.247Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.254Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.259Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.260Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.260Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_modern.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.261Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.261Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.267Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_professional.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.267Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.267Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.273Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_classic.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.273Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.273Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.279Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.279Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.279Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.285Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.285Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.285Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.293Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.298Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.298Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.299Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_professional.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.300Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.300Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.305Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_modern.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.306Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.306Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.311Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.312Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.312Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.317Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_classic.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.318Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.318Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.324Z","level":"info","message":"pdf_generation_attempt","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.324Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.error
    {"timestamp":"2025-12-04T13:23:14.325Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.330Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
      at generateEnhancedDocumentsResponse (server.js:21304:17)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.337Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.337Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/2bb5698c-233b-4fa9-9b6b-5d73448b05bb/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.339Z","level":"info","message":"llm_call_metrics","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.340Z","level":"info","message":"generation_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","generationRunId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","enhancedScore":80,"outputs":5,"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.341Z","level":"info","message":"placeholder_record_deleted","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","jobId":"1b74cb91-5982-4fef-9386-75141ffa7082","placeholderIdentifier":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b74cb91-5982-4fef-9386-75141ffa7082","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.342Z","level":"info","message":"http_request_completed","requestId":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":204,"contentLength":"60620","template":"unknown","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2bb5698c-233b-4fa9-9b6b-5d73448b05bb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.346Z","level":"info","message":"http_request_received","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","method":"POST","path":"/api/process-cv","template":"unknown","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.347Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.348Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.349Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.351Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.352Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c6aac32e-3e5b-4ae4-bc58-526f87598787/incoming/original.pdf","chunks":1,"timestamp":1764854594355}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c6aac32e-3e5b-4ae4-bc58-526f87598787/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c6aac32e-3e5b-4ae4-bc58-526f87598787/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.356Z","level":"info","message":"process_cv_started","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","manualJobDescriptionProvided":true,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.356Z","level":"info","message":"template_selection","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.357Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.362Z","level":"info","message":"initial_upload_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","bucket":"test-bucket","key":"cv/candidate/c6aac32e-3e5b-4ae4-bc58-526f87598787/incoming/original.pdf","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.363Z","level":"info","message":"resume_text_extracted","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","characters":57,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.363Z","level":"info","message":"resume_classified","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.363Z","level":"info","message":"raw_upload_relocated","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","bucket":"test-bucket","fromKey":"cv/candidate/c6aac32e-3e5b-4ae4-bc58-526f87598787/incoming/original.pdf","toKey":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/original.pdf","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.365Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","bucket":"test-bucket","key":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/original.pdf","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.365Z","level":"info","message":"dynamo_initial_record_written","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","bucket":"test-bucket","key":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/original.pdf","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.365Z","level":"info","message":"upload_metadata_written","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","bucket":"test-bucket","key":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/logs/log.json","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.366Z","level":"info","message":"job_description_supplied_manually","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","characters":174,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.366Z","level":"info","message":"job_description_analyzed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","jobTitle":"","jobSkills":5,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.367Z","level":"info","message":"resume_skills_analyzed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.367Z","level":"info","message":"llm_call_metrics","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.368Z","level":"info","message":"process_cv_scoring_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.370Z","level":"info","message":"llm_call_metrics","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.370Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.372Z","level":"info","message":"generation_resume_verified","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.376Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.382Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.387Z","level":"info","message":"generation_cover_letters_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","variants":2,"fallbackApplied":true,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.388Z","level":"info","message":"pdf_generation_attempt","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/enhanced_modern.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.389Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.389Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/enhanced_modern.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.389Z","level":"info","message":"pdf_generation_attempt","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/enhanced_professional.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.390Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/enhanced_professional.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.391Z","level":"info","message":"pdf_generation_attempt","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/cover_letter_cover_modern.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.391Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/cover_letter_cover_modern.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.392Z","level":"info","message":"pdf_generation_attempt","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/cover_letter_cover_professional.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.392Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c6aac32e-3e5b-4ae4-bc58-526f87598787/cover_letter_cover_professional.pdf","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.395Z","level":"info","message":"llm_call_metrics","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.395Z","level":"info","message":"generation_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","generationRunId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","enhancedScore":80,"outputs":5,"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.396Z","level":"info","message":"placeholder_record_deleted","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","jobId":"720a9156-0c38-4606-ac5d-fb5b66c94cab","placeholderIdentifier":"c6aac32e-3e5b-4ae4-bc58-526f87598787","template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"720a9156-0c38-4606-ac5d-fb5b66c94cab","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.397Z","level":"info","message":"http_request_completed","requestId":"c6aac32e-3e5b-4ae4-bc58-526f87598787","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":51,"contentLength":"59251","template":"unknown","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c6aac32e-3e5b-4ae4-bc58-526f87598787","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.400Z","level":"info","message":"http_request_received","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","method":"POST","path":"/api/process-cv","template":"unknown","session":"82f36652-a53c-4630-bdfd-c4b891be1830","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82f36652-a53c-4630-bdfd-c4b891be1830","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.401Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.402Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.403Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.405Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.407Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.409Z","level":"info","message":"process_cv_started","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","jobId":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","manualJobDescriptionProvided":true,"template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.409Z","level":"info","message":"template_selection","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","jobId":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.410Z","level":"warn","message":"resume_missing","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","jobId":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25088:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.417Z","level":"warn","message":"api_error_response","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","jobId":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","jobId":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d"},"template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47b7ad14-2fc2-47d6-96bd-4fa79293b92d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25089:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.422Z","level":"info","message":"http_request_completed","requestId":"82f36652-a53c-4630-bdfd-c4b891be1830","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"217","template":"unknown","session":"82f36652-a53c-4630-bdfd-c4b891be1830","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82f36652-a53c-4630-bdfd-c4b891be1830","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.424Z","level":"info","message":"http_request_received","requestId":"90b74332-095c-4e9c-8908-38714189ba28","method":"POST","path":"/api/process-cv","template":"unknown","session":"90b74332-095c-4e9c-8908-38714189ba28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90b74332-095c-4e9c-8908-38714189ba28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.425Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.426Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.428Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.429Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.431Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.433Z","level":"warn","message":"resume_upload_failed","requestId":"90b74332-095c-4e9c-8908-38714189ba28","jobId":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4988:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24782:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4987:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.440Z","level":"warn","message":"api_error_response","requestId":"90b74332-095c-4e9c-8908-38714189ba28","jobId":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"90b74332-095c-4e9c-8908-38714189ba28","jobId":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98"},"template":"unknown","session":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"59eef13a-1fcd-4d4d-ad85-c3639f9bab98","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at respond (server.js:24790:9)
      at server.js:24794:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4987:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:23:14.446Z","level":"info","message":"http_request_completed","requestId":"90b74332-095c-4e9c-8908-38714189ba28","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"267","template":"unknown","session":"90b74332-095c-4e9c-8908-38714189ba28","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90b74332-095c-4e9c-8908-38714189ba28","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.450Z","level":"info","message":"http_request_received","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","method":"POST","path":"/api/process-cv","template":"unknown","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.451Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.452Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.453Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.455Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.457Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e0c0546a-8736-480e-ae31-6fca06901376/incoming/original.pdf","chunks":1,"timestamp":1764854594459}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e0c0546a-8736-480e-ae31-6fca06901376/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e0c0546a-8736-480e-ae31-6fca06901376/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.460Z","level":"info","message":"process_cv_started","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","manualJobDescriptionProvided":true,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.460Z","level":"info","message":"template_selection","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.461Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.468Z","level":"info","message":"initial_upload_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","bucket":"test-bucket","key":"cv/candidate/e0c0546a-8736-480e-ae31-6fca06901376/incoming/original.pdf","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.469Z","level":"info","message":"resume_text_extracted","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","characters":57,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.469Z","level":"info","message":"resume_classified","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.469Z","level":"info","message":"raw_upload_relocated","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","bucket":"test-bucket","fromKey":"cv/candidate/e0c0546a-8736-480e-ae31-6fca06901376/incoming/original.pdf","toKey":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/original.pdf","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.470Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","bucket":"test-bucket","key":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/original.pdf","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.470Z","level":"info","message":"dynamo_initial_record_written","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","bucket":"test-bucket","key":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/original.pdf","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.470Z","level":"info","message":"upload_metadata_written","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","bucket":"test-bucket","key":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/logs/log.json","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.471Z","level":"info","message":"job_description_supplied_manually","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","characters":174,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.471Z","level":"info","message":"job_description_analyzed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","jobTitle":"","jobSkills":5,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.472Z","level":"info","message":"resume_skills_analyzed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.472Z","level":"info","message":"llm_call_metrics","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.473Z","level":"info","message":"process_cv_scoring_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.475Z","level":"info","message":"llm_call_metrics","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.476Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.476Z","level":"info","message":"llm_call_metrics","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.478Z","level":"info","message":"generation_resume_verified","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.480Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.488Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.493Z","level":"info","message":"generation_cover_letters_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","variants":2,"fallbackApplied":true,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.494Z","level":"info","message":"pdf_generation_attempt","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/enhanced_modern.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.494Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.495Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/enhanced_modern.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.495Z","level":"info","message":"pdf_generation_attempt","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/enhanced_professional.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.495Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/enhanced_professional.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.496Z","level":"info","message":"pdf_generation_attempt","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/cover_letter_cover_modern.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.497Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/cover_letter_cover_modern.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.498Z","level":"info","message":"pdf_generation_attempt","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/cover_letter_cover_professional.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.498Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.499Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e0c0546a-8736-480e-ae31-6fca06901376/cover_letter_cover_professional.pdf","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.500Z","level":"info","message":"llm_call_metrics","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.501Z","level":"info","message":"generation_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","generationRunId":"e0c0546a-8736-480e-ae31-6fca06901376","enhancedScore":80,"outputs":5,"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.502Z","level":"info","message":"placeholder_record_deleted","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","jobId":"83be1692-86ed-4633-af91-1bfaa581fffc","placeholderIdentifier":"e0c0546a-8736-480e-ae31-6fca06901376","template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"83be1692-86ed-4633-af91-1bfaa581fffc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.503Z","level":"info","message":"http_request_completed","requestId":"e0c0546a-8736-480e-ae31-6fca06901376","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0c0546a-8736-480e-ae31-6fca06901376","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.506Z","level":"info","message":"http_request_received","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","method":"POST","path":"/api/process-cv","template":"unknown","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.507Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.508Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.509Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.510Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.512Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e0d92198-ad85-493d-a13d-03021f7ddf0d/incoming/original.pdf","chunks":5,"timestamp":1764854594515}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e0d92198-ad85-493d-a13d-03021f7ddf0d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e0d92198-ad85-493d-a13d-03021f7ddf0d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.523Z","level":"info","message":"process_cv_started","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","manualJobDescriptionProvided":true,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.523Z","level":"info","message":"template_selection","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.524Z","level":"info","message":"initial_upload_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","bucket":"test-bucket","key":"cv/candidate/e0d92198-ad85-493d-a13d-03021f7ddf0d/incoming/original.pdf","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.524Z","level":"info","message":"resume_text_extracted","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","characters":9,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.525Z","level":"info","message":"document_classification_ai_metrics","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.540Z","level":"info","message":"resume_classified","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.541Z","level":"info","message":"raw_upload_relocated","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","bucket":"test-bucket","fromKey":"cv/candidate/e0d92198-ad85-493d-a13d-03021f7ddf0d/incoming/original.pdf","toKey":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original.docx","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.541Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","bucket":"test-bucket","key":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original.docx","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.542Z","level":"info","message":"dynamo_initial_record_written","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","bucket":"test-bucket","key":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original.docx","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.542Z","level":"info","message":"upload_metadata_written","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","bucket":"test-bucket","key":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/logs/log.json","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.542Z","level":"info","message":"job_description_supplied_manually","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","characters":174,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.543Z","level":"info","message":"job_description_analyzed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","jobTitle":"","jobSkills":5,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.543Z","level":"info","message":"resume_skills_analyzed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.544Z","level":"info","message":"llm_call_metrics","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.544Z","level":"info","message":"process_cv_scoring_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.546Z","level":"info","message":"llm_call_metrics","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.547Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.547Z","level":"info","message":"llm_call_metrics","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.549Z","level":"info","message":"generation_resume_verified","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.551Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.557Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.562Z","level":"info","message":"generation_cover_letters_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","variants":2,"fallbackApplied":true,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.563Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","originalUploadKey":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.564Z","level":"info","message":"original_upload_pdf_generated","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","storageKey":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original/original_upload.pdf","originalUploadKey":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/original.docx","originalUploadExtension":".docx","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.564Z","level":"info","message":"pdf_generation_attempt","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/enhanced_modern.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.565Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/enhanced_modern.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.565Z","level":"info","message":"pdf_generation_attempt","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/enhanced_professional.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.566Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/enhanced_professional.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.567Z","level":"info","message":"pdf_generation_attempt","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/cover_letter_cover_modern.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.567Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.567Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/cover_letter_cover_modern.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.568Z","level":"info","message":"pdf_generation_attempt","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/cover_letter_cover_professional.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.568Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.569Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/e0d92198-ad85-493d-a13d-03021f7ddf0d/cover_letter_cover_professional.pdf","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.571Z","level":"info","message":"llm_call_metrics","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.571Z","level":"info","message":"generation_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","generationRunId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","enhancedScore":80,"outputs":6,"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.572Z","level":"info","message":"placeholder_record_deleted","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","jobId":"72c3e462-3b98-4a50-931a-5e1b4b140e79","placeholderIdentifier":"e0d92198-ad85-493d-a13d-03021f7ddf0d","template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"72c3e462-3b98-4a50-931a-5e1b4b140e79","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.573Z","level":"info","message":"http_request_completed","requestId":"e0d92198-ad85-493d-a13d-03021f7ddf0d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":67,"contentLength":"58696","template":"unknown","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e0d92198-ad85-493d-a13d-03021f7ddf0d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.579Z","level":"info","message":"http_request_received","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","method":"POST","path":"/api/process-cv","template":"unknown","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.580Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.581Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.582Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.583Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.585Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e990b783-f970-4ce3-a05d-c4ddb9161b61/incoming/original.pdf","chunks":33,"timestamp":1764854594590}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e990b783-f970-4ce3-a05d-c4ddb9161b61/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e990b783-f970-4ce3-a05d-c4ddb9161b61/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.592Z","level":"info","message":"process_cv_started","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","manualJobDescriptionProvided":true,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.592Z","level":"info","message":"template_selection","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.593Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.598Z","level":"info","message":"initial_upload_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","bucket":"test-bucket","key":"cv/candidate/e990b783-f970-4ce3-a05d-c4ddb9161b61/incoming/original.pdf","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.599Z","level":"info","message":"resume_text_extracted","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","characters":57,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.599Z","level":"info","message":"resume_classified","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.599Z","level":"info","message":"raw_upload_relocated","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","bucket":"test-bucket","fromKey":"cv/candidate/e990b783-f970-4ce3-a05d-c4ddb9161b61/incoming/original.pdf","toKey":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/original.pdf","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.600Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","bucket":"test-bucket","key":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/original.pdf","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.600Z","level":"info","message":"dynamo_initial_record_written","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","bucket":"test-bucket","key":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/original.pdf","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.600Z","level":"info","message":"upload_metadata_written","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","bucket":"test-bucket","key":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/logs/log.json","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.600Z","level":"info","message":"job_description_supplied_manually","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","characters":174,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.601Z","level":"info","message":"job_description_analyzed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","jobTitle":"","jobSkills":5,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.601Z","level":"info","message":"resume_skills_analyzed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.602Z","level":"info","message":"llm_call_metrics","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.602Z","level":"info","message":"process_cv_scoring_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.604Z","level":"info","message":"llm_call_metrics","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.605Z","level":"info","message":"generation_section_rewrite_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.605Z","level":"info","message":"llm_call_metrics","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.607Z","level":"info","message":"generation_resume_verified","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.609Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.617Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.622Z","level":"info","message":"generation_cover_letters_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","variants":2,"fallbackApplied":true,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.623Z","level":"info","message":"pdf_generation_attempt","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/enhanced_modern.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.624Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.624Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/enhanced_modern.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.624Z","level":"info","message":"pdf_generation_attempt","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/enhanced_professional.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.625Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.625Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/enhanced_professional.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.626Z","level":"info","message":"pdf_generation_attempt","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/cover_letter_cover_modern.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.626Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.626Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/cover_letter_cover_modern.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.627Z","level":"info","message":"pdf_generation_attempt","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/cover_letter_cover_professional.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.627Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.628Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/e990b783-f970-4ce3-a05d-c4ddb9161b61/cover_letter_cover_professional.pdf","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.630Z","level":"info","message":"llm_call_metrics","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.630Z","level":"info","message":"generation_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","generationRunId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","enhancedScore":80,"outputs":5,"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.631Z","level":"info","message":"placeholder_record_deleted","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","jobId":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","placeholderIdentifier":"e990b783-f970-4ce3-a05d-c4ddb9161b61","template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1dba7e81-dde2-432a-919b-5dda4ff2f76d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.632Z","level":"info","message":"http_request_completed","requestId":"e990b783-f970-4ce3-a05d-c4ddb9161b61","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"58133","template":"unknown","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e990b783-f970-4ce3-a05d-c4ddb9161b61","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.635Z","level":"info","message":"http_request_received","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","method":"POST","path":"/api/process-cv","template":"unknown","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.636Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.637Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.638Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.639Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.641Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/89b7dd1e-f883-43fc-8a42-ea874b3165c7/incoming/original.pdf","chunks":82,"timestamp":1764854594649}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/89b7dd1e-f883-43fc-8a42-ea874b3165c7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/89b7dd1e-f883-43fc-8a42-ea874b3165c7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":54}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.703Z","level":"info","message":"process_cv_started","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","manualJobDescriptionProvided":true,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.704Z","level":"info","message":"template_selection","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.704Z","level":"info","message":"initial_upload_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","bucket":"test-bucket","key":"cv/candidate/89b7dd1e-f883-43fc-8a42-ea874b3165c7/incoming/original.pdf","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.705Z","level":"info","message":"resume_text_extracted","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","characters":9,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.705Z","level":"info","message":"document_classification_ai_metrics","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.706Z","level":"info","message":"resume_classified","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.706Z","level":"info","message":"raw_upload_relocated","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","bucket":"test-bucket","fromKey":"cv/candidate/89b7dd1e-f883-43fc-8a42-ea874b3165c7/incoming/original.pdf","toKey":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original.docx","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.706Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","bucket":"test-bucket","key":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original.docx","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.707Z","level":"info","message":"dynamo_initial_record_written","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","bucket":"test-bucket","key":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original.docx","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.707Z","level":"info","message":"upload_metadata_written","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","bucket":"test-bucket","key":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/logs/log.json","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.707Z","level":"info","message":"job_description_supplied_manually","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","characters":174,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.708Z","level":"info","message":"job_description_analyzed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","jobTitle":"","jobSkills":5,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.708Z","level":"info","message":"resume_skills_analyzed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.709Z","level":"info","message":"llm_call_metrics","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.709Z","level":"info","message":"process_cv_scoring_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.711Z","level":"info","message":"llm_call_metrics","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.711Z","level":"info","message":"generation_section_rewrite_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.712Z","level":"info","message":"llm_call_metrics","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.717Z","level":"info","message":"generation_resume_verified","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.720Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.726Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.732Z","level":"info","message":"generation_cover_letters_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","variants":2,"fallbackApplied":true,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.732Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","originalUploadKey":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.733Z","level":"info","message":"original_upload_pdf_generated","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","storageKey":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original/original_upload.pdf","originalUploadKey":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/original.docx","originalUploadExtension":".docx","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.733Z","level":"info","message":"pdf_generation_attempt","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/enhanced_modern.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.734Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.734Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/enhanced_modern.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.734Z","level":"info","message":"pdf_generation_attempt","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/enhanced_professional.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.735Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.735Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/enhanced_professional.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.736Z","level":"info","message":"pdf_generation_attempt","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/cover_letter_cover_modern.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.736Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.736Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/cover_letter_cover_modern.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.737Z","level":"info","message":"pdf_generation_attempt","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/cover_letter_cover_professional.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.737Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.738Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/89b7dd1e-f883-43fc-8a42-ea874b3165c7/cover_letter_cover_professional.pdf","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.740Z","level":"info","message":"llm_call_metrics","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.741Z","level":"info","message":"generation_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","generationRunId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","enhancedScore":80,"outputs":6,"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.742Z","level":"info","message":"placeholder_record_deleted","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","jobId":"b18626cf-0c63-4458-aa7f-41b16e4af78b","placeholderIdentifier":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b18626cf-0c63-4458-aa7f-41b16e4af78b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.743Z","level":"info","message":"http_request_completed","requestId":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":107,"contentLength":"58696","template":"unknown","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"89b7dd1e-f883-43fc-8a42-ea874b3165c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.746Z","level":"info","message":"http_request_received","requestId":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","method":"POST","path":"/api/process-cv","template":"unknown","session":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.748Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.749Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.751Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.752Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.754Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/40ee0ec9-c652-43d0-9942-1ff0040a5f1a/incoming/original.pdf","chunks":84,"timestamp":1764854594763}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/40ee0ec9-c652-43d0-9942-1ff0040a5f1a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/40ee0ec9-c652-43d0-9942-1ff0040a5f1a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.765Z","level":"warn","message":"resume_upload_failed","requestId":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","jobId":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:24782:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.772Z","level":"warn","message":"api_error_response","requestId":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","jobId":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","jobId":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19"},"template":"unknown","session":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ab4a6fd4-dbe1-4916-8c51-57ceb4bc5c19","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at respond (server.js:24790:9)
      at server.js:24794:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.778Z","level":"info","message":"http_request_completed","requestId":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":32,"contentLength":"215","template":"unknown","session":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"40ee0ec9-c652-43d0-9942-1ff0040a5f1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.780Z","level":"info","message":"http_request_received","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.781Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.782Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.783Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.785Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.786Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/incoming/original.pdf","chunks":1,"timestamp":1764854594788}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.790Z","level":"info","message":"process_cv_started","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","manualJobDescriptionProvided":true,"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.790Z","level":"info","message":"template_selection","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.791Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.796Z","level":"info","message":"initial_upload_completed","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","bucket":"test-bucket","key":"cv/candidate/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/incoming/original.pdf","template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.796Z","level":"info","message":"resume_text_extracted","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","characters":70,"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.797Z","level":"info","message":"document_classification_ai_metrics","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.797Z","level":"info","message":"resume_classified","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.798Z","level":"warn","message":"resume_validation_failed","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/an-invoice-2d8333c4-2699-4ce6-ab61-37f199eddc9f.pdf","classification":"an invoice","template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25669:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.803Z","level":"warn","message":"api_error_response","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/an-invoice-2d8333c4-2699-4ce6-ab61-37f199eddc9f.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/1b0fad46-2c0d-4a87-9683-cc71f2eda3f5/an-invoice-2d8333c4-2699-4ce6-ab61-37f199eddc9f.pdf"},"requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","jobId":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a"},"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b29f79a2-44ad-4c34-befd-793dcf4b7e6a","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25744:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.810Z","level":"info","message":"http_request_completed","requestId":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":30,"contentLength":"871","template":"unknown","session":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b0fad46-2c0d-4a87-9683-cc71f2eda3f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.812Z","level":"info","message":"http_request_received","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","method":"POST","path":"/api/process-cv","template":"unknown","session":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.813Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.814Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.816Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.817Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.819Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/43aa3f7c-7284-485e-a765-c7fb3d6482f6/incoming/original.pdf","chunks":1,"timestamp":1764854594821}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/43aa3f7c-7284-485e-a765-c7fb3d6482f6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/43aa3f7c-7284-485e-a765-c7fb3d6482f6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.824Z","level":"info","message":"process_cv_started","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","manualJobDescriptionProvided":true,"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.825Z","level":"info","message":"template_selection","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.825Z","level":"info","message":"initial_upload_completed","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","bucket":"test-bucket","key":"cv/candidate/43aa3f7c-7284-485e-a765-c7fb3d6482f6/incoming/original.pdf","template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.826Z","level":"info","message":"resume_text_extracted","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","characters":52,"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.827Z","level":"info","message":"document_classification_ai_metrics","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.827Z","level":"info","message":"resume_classified","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.827Z","level":"warn","message":"resume_validation_failed","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/43aa3f7c-7284-485e-a765-c7fb3d6482f6/a-short-memo-bd364749-8dd1-4c26-9225-c9faf3db6307.docx","classification":"a short memo","template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25669:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.832Z","level":"warn","message":"api_error_response","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/43aa3f7c-7284-485e-a765-c7fb3d6482f6/a-short-memo-bd364749-8dd1-4c26-9225-c9faf3db6307.docx","invalidStorageKey":"invalid/candidate/2025-12-04/43aa3f7c-7284-485e-a765-c7fb3d6482f6/a-short-memo-bd364749-8dd1-4c26-9225-c9faf3db6307.docx"},"requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","jobId":"9e500c47-9780-4173-acb5-f80b3b80a4ee"},"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9e500c47-9780-4173-acb5-f80b3b80a4ee","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25744:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.838Z","level":"info","message":"http_request_completed","requestId":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"748","template":"unknown","session":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"43aa3f7c-7284-485e-a765-c7fb3d6482f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.839Z","level":"info","message":"http_request_received","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","method":"POST","path":"/api/process-cv","template":"unknown","session":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.840Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.841Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.843Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.844Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.846Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/504c3a49-3f35-4a9b-b2f7-8c17fea999f5/incoming/original.pdf","chunks":1,"timestamp":1764854594849}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/504c3a49-3f35-4a9b-b2f7-8c17fea999f5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/504c3a49-3f35-4a9b-b2f7-8c17fea999f5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.850Z","level":"info","message":"process_cv_started","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","jobId":"20dc9066-1691-4552-8f93-035cb10fbff4","manualJobDescriptionProvided":false,"template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.851Z","level":"info","message":"template_selection","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","jobId":"20dc9066-1691-4552-8f93-035cb10fbff4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.851Z","level":"warn","message":"job_description_missing","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","jobId":"20dc9066-1691-4552-8f93-035cb10fbff4","template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25098:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.856Z","level":"warn","message":"api_error_response","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","jobId":"20dc9066-1691-4552-8f93-035cb10fbff4","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","jobId":"20dc9066-1691-4552-8f93-035cb10fbff4"},"template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"20dc9066-1691-4552-8f93-035cb10fbff4","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:25099:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.862Z","level":"info","message":"http_request_completed","requestId":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":23,"contentLength":"244","template":"unknown","session":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"504c3a49-3f35-4a9b-b2f7-8c17fea999f5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.863Z","level":"info","message":"http_request_received","requestId":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.864Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.865Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.867Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.868Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.869Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.870Z","level":"warn","message":"api_error_response","requestId":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","jobId":"0a48ccef-8d04-4380-87ea-37a439b5b7ae","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","jobId":"0a48ccef-8d04-4380-87ea-37a439b5b7ae"},"template":"unknown","session":"0a48ccef-8d04-4380-87ea-37a439b5b7ae","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0a48ccef-8d04-4380-87ea-37a439b5b7ae","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at sendError (server.js:3966:3)
      at server.js:22508:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16419:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4954:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1187:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1523:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4936:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4930:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:23:14.879Z","level":"info","message":"http_request_completed","requestId":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":16,"contentLength":"225","template":"unknown","session":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c853ac4f-4cfd-4407-8fb7-3a7b6734a03e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.881Z","level":"info","message":"http_request_received","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.882Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.884Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.885Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.886Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.887Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.888Z","level":"warn","message":"generation_job_context_missing","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.895Z","level":"info","message":"llm_call_metrics","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.896Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.897Z","level":"info","message":"generation_resume_verified","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.900Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.905Z","level":"info","message":"generation_cover_letters_completed","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","variants":2,"fallbackApplied":true,"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.906Z","level":"info","message":"pdf_generation_attempt","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/enhanced_modern.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.906Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.907Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/enhanced_modern.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.907Z","level":"info","message":"pdf_generation_attempt","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/enhanced_professional.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.908Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.908Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/enhanced_professional.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.908Z","level":"info","message":"pdf_generation_attempt","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/cover_letter_cover_modern.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.909Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.909Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/cover_letter_cover_modern.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.910Z","level":"info","message":"pdf_generation_attempt","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/cover_letter_cover_professional.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.910Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.911Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/b51778a9-8cda-49a0-b2bf-1f25307e7ab3/cover_letter_cover_professional.pdf","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.912Z","level":"info","message":"llm_call_metrics","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.913Z","level":"info","message":"generation_completed","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","enhancedScore":0,"outputs":4,"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.915Z","level":"info","message":"http_request_completed","requestId":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":34,"contentLength":"55422","template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b51778a9-8cda-49a0-b2bf-1f25307e7ab3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.918Z","level":"info","message":"http_request_received","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.919Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.920Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.921Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.923Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.923Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.924Z","level":"warn","message":"generation_job_context_missing","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.934Z","level":"info","message":"llm_call_metrics","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.935Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.937Z","level":"info","message":"generation_resume_verified","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.946Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.951Z","level":"info","message":"generation_cover_letters_completed","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","variants":2,"fallbackApplied":true,"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.952Z","level":"info","message":"pdf_generation_attempt","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/enhanced_modern.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.952Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.953Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/enhanced_modern.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.953Z","level":"info","message":"pdf_generation_attempt","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/enhanced_professional.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.954Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.954Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/enhanced_professional.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.955Z","level":"info","message":"pdf_generation_attempt","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/cover_letter_cover_modern.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.955Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.955Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/cover_letter_cover_modern.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.956Z","level":"info","message":"pdf_generation_attempt","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/cover_letter_cover_professional.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.956Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.957Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/cb4236d5-bbcb-4075-a189-929bfc5e6e6f/cover_letter_cover_professional.pdf","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.960Z","level":"info","message":"llm_call_metrics","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.961Z","level":"info","message":"generation_completed","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","enhancedScore":0,"outputs":4,"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.963Z","level":"info","message":"http_request_completed","requestId":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":45,"contentLength":"60025","template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb4236d5-bbcb-4075-a189-929bfc5e6e6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.967Z","level":"info","message":"http_request_received","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.968Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.969Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.970Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.971Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:14.972Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.973Z","level":"warn","message":"generation_job_context_missing","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.981Z","level":"info","message":"llm_call_metrics","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.981Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.984Z","level":"info","message":"generation_resume_verified","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:14.987Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:23:14.993Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","missing":["cover_letter1"],"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:14.998Z","level":"info","message":"generation_cover_letters_completed","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","variants":2,"fallbackApplied":true,"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.998Z","level":"info","message":"pdf_generation_attempt","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/enhanced_modern.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.999Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.999Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/enhanced_modern.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:14.999Z","level":"info","message":"pdf_generation_attempt","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/enhanced_professional.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.000Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.000Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/enhanced_professional.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.001Z","level":"info","message":"pdf_generation_attempt","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/cover_letter_cover_modern.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.001Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.001Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/cover_letter_cover_modern.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.003Z","level":"info","message":"pdf_generation_attempt","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/cover_letter_cover_professional.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.003Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.003Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/5e3d3456-299d-4676-9180-17d3c173e0f8/cover_letter_cover_professional.pdf","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.006Z","level":"info","message":"llm_call_metrics","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.007Z","level":"info","message":"generation_completed","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5e3d3456-299d-4676-9180-17d3c173e0f8","enhancedScore":0,"outputs":4,"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.008Z","level":"info","message":"http_request_completed","requestId":"5e3d3456-299d-4676-9180-17d3c173e0f8","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"52626","template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e3d3456-299d-4676-9180-17d3c173e0f8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.010Z","level":"info","message":"http_request_received","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.011Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.013Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.014Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.015Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.016Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.017Z","level":"warn","message":"generation_job_context_missing","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.024Z","level":"info","message":"llm_call_metrics","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.025Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.027Z","level":"info","message":"generation_resume_verified","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.030Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.036Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","variants":["cover_letter1"],"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.037Z","level":"info","message":"generation_cover_letters_completed","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","variants":2,"fallbackApplied":true,"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.038Z","level":"info","message":"pdf_generation_attempt","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/enhanced_modern.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.038Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/enhanced_modern.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.039Z","level":"info","message":"pdf_generation_attempt","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/enhanced_professional.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.040Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/enhanced_professional.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.040Z","level":"info","message":"pdf_generation_attempt","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/cover_letter_cover_modern.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.041Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.041Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/cover_letter_cover_modern.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.042Z","level":"info","message":"pdf_generation_attempt","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/cover_letter_cover_professional.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.043Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.043Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/1bdf98cd-d5cd-4892-b665-ad1136e1ccdf/cover_letter_cover_professional.pdf","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.046Z","level":"info","message":"llm_call_metrics","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.046Z","level":"info","message":"generation_completed","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","enhancedScore":0,"outputs":4,"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.048Z","level":"info","message":"http_request_completed","requestId":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":38,"contentLength":"48347","template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1bdf98cd-d5cd-4892-b665-ad1136e1ccdf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.051Z","level":"info","message":"http_request_received","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.051Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.053Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.054Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.055Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.056Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.057Z","level":"warn","message":"generation_job_context_missing","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.064Z","level":"info","message":"llm_call_metrics","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.065Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.067Z","level":"info","message":"generation_resume_verified","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.082Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:23:15.088Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.097Z","level":"info","message":"generation_cover_letters_completed","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","variants":2,"fallbackApplied":true,"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.098Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/enhanced_modern.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.098Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.099Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/enhanced_modern.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.099Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/enhanced_professional.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.100Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.100Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/enhanced_professional.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.100Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/cover_letter_cover_modern.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.101Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.101Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/cover_letter_cover_modern.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.102Z","level":"info","message":"pdf_generation_attempt","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/cover_letter_cover_professional.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.102Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.102Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/6fd7b868-0091-4e26-9561-72d83e45a44c/cover_letter_cover_professional.pdf","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.109Z","level":"info","message":"llm_call_metrics","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.110Z","level":"info","message":"generation_completed","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"6fd7b868-0091-4e26-9561-72d83e45a44c","enhancedScore":0,"outputs":4,"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.111Z","level":"info","message":"http_request_completed","requestId":"6fd7b868-0091-4e26-9561-72d83e45a44c","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":60,"contentLength":"60025","template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fd7b868-0091-4e26-9561-72d83e45a44c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.115Z","level":"info","message":"http_request_received","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.116Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.117Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.119Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.120Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.121Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.122Z","level":"warn","message":"generation_job_context_missing","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22700:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.129Z","level":"info","message":"llm_call_metrics","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.130Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.131Z","level":"info","message":"generation_resume_verified","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.133Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20743:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.138Z","level":"info","message":"generation_cover_letters_completed","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","variants":0,"fallbackApplied":false,"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.139Z","level":"info","message":"pdf_generation_attempt","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/enhanced_modern.pdf","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.140Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.141Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/enhanced_modern.pdf","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.141Z","level":"info","message":"pdf_generation_attempt","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/enhanced_professional.pdf","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.142Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.142Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/c69b765c-802f-4756-80c9-e4ffb0b1530e/enhanced_professional.pdf","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.144Z","level":"info","message":"llm_call_metrics","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.144Z","level":"info","message":"generation_completed","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","enhancedScore":0,"outputs":2,"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.145Z","level":"info","message":"http_request_completed","requestId":"c69b765c-802f-4756-80c9-e4ffb0b1530e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":30,"contentLength":"32129","template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c69b765c-802f-4756-80c9-e4ffb0b1530e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.148Z","level":"info","message":"http_request_received","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.149Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.150Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.152Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.153Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.154Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.156Z","level":"warn","message":"generation_change_log_load_failed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22766:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22768:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.162Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.164Z","level":"info","message":"llm_call_metrics","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.164Z","level":"info","message":"generation_section_rewrite_completed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.164Z","level":"info","message":"llm_call_metrics","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.167Z","level":"info","message":"generation_resume_verified","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.169Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:23:15.175Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.180Z","level":"info","message":"generation_cover_letters_completed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","variants":2,"fallbackApplied":true,"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.180Z","level":"info","message":"pdf_generation_attempt","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.181Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.181Z","level":"info","message":"pdf_generation_attempt","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.182Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.182Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.183Z","level":"info","message":"pdf_generation_attempt","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.184Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.184Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.185Z","level":"info","message":"pdf_generation_attempt","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.185Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.186Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.187Z","level":"info","message":"llm_call_metrics","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.188Z","level":"info","message":"generation_completed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","enhancedScore":0,"outputs":5,"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.189Z","level":"info","message":"http_request_completed","requestId":"69024fcb-12ed-413d-a544-3a5e8f4c896e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"52667","template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"69024fcb-12ed-413d-a544-3a5e8f4c896e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.192Z","level":"info","message":"http_request_received","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.193Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.194Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.196Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.197Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.198Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.199Z","level":"warn","message":"generation_change_log_load_failed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22766:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:22768:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.204Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.206Z","level":"info","message":"llm_call_metrics","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.206Z","level":"info","message":"generation_section_rewrite_completed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.207Z","level":"info","message":"llm_call_metrics","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.209Z","level":"info","message":"generation_resume_verified","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.212Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20537:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.warn
    {"timestamp":"2025-12-04T13:23:15.218Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:23003:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.225Z","level":"info","message":"generation_cover_letters_completed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","variants":2,"fallbackApplied":true,"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.225Z","level":"info","message":"pdf_generation_attempt","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.226Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.226Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.227Z","level":"info","message":"pdf_generation_attempt","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.227Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.227Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.228Z","level":"info","message":"pdf_generation_attempt","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.228Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.229Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.229Z","level":"info","message":"pdf_generation_attempt","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.229Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.230Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.232Z","level":"info","message":"llm_call_metrics","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.232Z","level":"info","message":"generation_completed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"dcd8b4b8-2635-419c-a349-d47168e7345e","enhancedScore":0,"outputs":5,"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.234Z","level":"info","message":"http_request_completed","requestId":"dcd8b4b8-2635-419c-a349-d47168e7345e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":42,"contentLength":"50998","template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dcd8b4b8-2635-419c-a349-d47168e7345e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.237Z","level":"info","message":"http_request_received","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","method":"POST","path":"/api/process-cv","template":"unknown","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.238Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.239Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.240Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.242Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.244Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/74dfcd9c-562d-474f-8367-7473e0badd32/incoming/original.pdf","chunks":1,"timestamp":1764854595245}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/74dfcd9c-562d-474f-8367-7473e0badd32/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/74dfcd9c-562d-474f-8367-7473e0badd32/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.247Z","level":"info","message":"process_cv_started","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","manualJobDescriptionProvided":true,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.247Z","level":"info","message":"template_selection","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.248Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at server.js:25134:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24774:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:23:15.253Z","level":"info","message":"initial_upload_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","bucket":"test-bucket","key":"cv/candidate/74dfcd9c-562d-474f-8367-7473e0badd32/incoming/original.pdf","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.253Z","level":"info","message":"resume_text_extracted","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","characters":57,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.254Z","level":"info","message":"resume_classified","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.254Z","level":"info","message":"raw_upload_relocated","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","bucket":"test-bucket","fromKey":"cv/candidate/74dfcd9c-562d-474f-8367-7473e0badd32/incoming/original.pdf","toKey":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/original.pdf","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.254Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","bucket":"test-bucket","key":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/original.pdf","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.255Z","level":"info","message":"dynamo_initial_record_written","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","bucket":"test-bucket","key":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/original.pdf","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.255Z","level":"info","message":"upload_metadata_written","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","bucket":"test-bucket","key":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/logs/log.json","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.255Z","level":"info","message":"job_description_supplied_manually","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","characters":174,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.256Z","level":"info","message":"job_description_analyzed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","jobTitle":"","jobSkills":5,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.256Z","level":"info","message":"resume_skills_analyzed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.257Z","level":"info","message":"llm_call_metrics","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.257Z","level":"info","message":"process_cv_scoring_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.259Z","level":"info","message":"llm_call_metrics","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.260Z","level":"info","message":"generation_section_rewrite_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.263Z","level":"info","message":"generation_resume_verified","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.265Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generateEnhancedDocumentsResponse (server.js:20726:7)
          at runMicrotasks (<anonymous>)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.271Z","level":"info","message":"generation_cover_letters_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","variants":2,"fallbackApplied":true,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.271Z","level":"info","message":"pdf_generation_attempt","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_modern.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.272Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:23:15.272Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3360:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21304:11)
      at server.js:26733:28

  console.log
    {"timestamp":"2025-12-04T13:23:15.277Z","level":"info","message":"pdf_generation_attempt","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.278Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.278Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.278Z","level":"info","message":"pdf_generation_attempt","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.279Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.279Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/enhanced_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.280Z","level":"info","message":"pdf_generation_attempt","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/cover_letter_cover_modern.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.280Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.281Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/cover_letter_cover_modern.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.281Z","level":"info","message":"pdf_generation_attempt","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/cover_letter_cover_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.282Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/74dfcd9c-562d-474f-8367-7473e0badd32/cover_letter_cover_professional.pdf","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.284Z","level":"info","message":"llm_call_metrics","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.285Z","level":"info","message":"generation_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","generationRunId":"74dfcd9c-562d-474f-8367-7473e0badd32","enhancedScore":80,"outputs":5,"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.286Z","level":"info","message":"placeholder_record_deleted","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","jobId":"d4241b8e-ee44-426e-85a5-2a1448660602","placeholderIdentifier":"74dfcd9c-562d-474f-8367-7473e0badd32","template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d4241b8e-ee44-426e-85a5-2a1448660602","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.287Z","level":"info","message":"http_request_completed","requestId":"74dfcd9c-562d-474f-8367-7473e0badd32","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"59519","template":"unknown","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"74dfcd9c-562d-474f-8367-7473e0badd32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.289Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.290Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:23:15.291Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3465:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3479:20)

  console.log
    {"timestamp":"2025-12-04T13:23:15.296Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.297Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.297Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.297Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.298Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.299Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:23:15.299Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3504:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3508:20)

  console.log
    {"timestamp":"2025-12-04T13:23:15.306Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.307Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.308Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.308Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.309Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:23:15.310Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3526:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3539:20)

  console.log
    {"timestamp":"2025-12-04T13:23:15.315Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.315Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.315Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.316Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.316Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:23:15.317Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3557:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11010:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.warn
    {"timestamp":"2025-12-04T13:23:15.322Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11154:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:23:15.327Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9790:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11158:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11203:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:23:15.332Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11224:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9790:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11158:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11247:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:23:15.338Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11224:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3455 |     const safePayload = sanitizeLogPayload(payload);
      3456 |     const serialised = JSON.stringify(safePayload);
    > 3457 |     logFn(serialised);
           |     ^
      3458 |     if (level === 'error') {
      3459 |       scheduleErrorLog(safePayload);
      3460 |     }

      at logStructured (server.js:3457:5)
      at generatePdfWithFallback (server.js:11269:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.371Z","level":"info","message":"http_request_received","requestId":"7b565071-50ca-439e-80ea-14b9f47c6a1a","method":"POST","path":"/api/change-log","template":"unknown","session":"7b565071-50ca-439e-80ea-14b9f47c6a1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b565071-50ca-439e-80ea-14b9f47c6a1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.372Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.373Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.374Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.376Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.376Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.379Z","level":"info","message":"change_log_updated","requestId":"7b565071-50ca-439e-80ea-14b9f47c6a1a","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.380Z","level":"info","message":"http_request_completed","requestId":"7b565071-50ca-439e-80ea-14b9f47c6a1a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"48197","template":"unknown","session":"7b565071-50ca-439e-80ea-14b9f47c6a1a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b565071-50ca-439e-80ea-14b9f47c6a1a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.383Z","level":"info","message":"http_request_received","requestId":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","method":"POST","path":"/api/change-log","template":"unknown","session":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.384Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.385Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.387Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.388Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.389Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.391Z","level":"info","message":"change_log_updated","requestId":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.392Z","level":"info","message":"http_request_completed","requestId":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"1958","template":"unknown","session":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44209a0c-ca55-4cd0-920c-44bdfcb8bcaa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.395Z","level":"info","message":"http_request_received","requestId":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","method":"POST","path":"/api/change-log","template":"unknown","session":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.396Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.397Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.398Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.400Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.400Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.403Z","level":"info","message":"change_log_updated","requestId":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.404Z","level":"info","message":"http_request_completed","requestId":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"6061","template":"unknown","session":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3ea8f4b5-5e64-47b4-b45e-1fc8ca3f2e92","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.406Z","level":"info","message":"http_request_received","requestId":"32a5b838-b700-4bef-a3e9-0b52b1f28179","method":"POST","path":"/api/change-log","template":"unknown","session":"32a5b838-b700-4bef-a3e9-0b52b1f28179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32a5b838-b700-4bef-a3e9-0b52b1f28179","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.407Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.408Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.409Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.411Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.411Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.413Z","level":"info","message":"change_log_updated","requestId":"32a5b838-b700-4bef-a3e9-0b52b1f28179","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.413Z","level":"info","message":"http_request_completed","requestId":"32a5b838-b700-4bef-a3e9-0b52b1f28179","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1213","template":"unknown","session":"32a5b838-b700-4bef-a3e9-0b52b1f28179","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32a5b838-b700-4bef-a3e9-0b52b1f28179","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.414Z","level":"info","message":"http_request_received","requestId":"126062f9-617a-4a60-a06a-f19eca2a9a42","method":"POST","path":"/api/change-log","template":"unknown","session":"126062f9-617a-4a60-a06a-f19eca2a9a42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"126062f9-617a-4a60-a06a-f19eca2a9a42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.415Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.416Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.418Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.419Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.420Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.421Z","level":"info","message":"change_log_updated","requestId":"126062f9-617a-4a60-a06a-f19eca2a9a42","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.421Z","level":"info","message":"http_request_completed","requestId":"126062f9-617a-4a60-a06a-f19eca2a9a42","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"126062f9-617a-4a60-a06a-f19eca2a9a42","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"126062f9-617a-4a60-a06a-f19eca2a9a42","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.424Z","level":"info","message":"http_request_received","requestId":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","method":"POST","path":"/api/change-log","template":"unknown","session":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.425Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.426Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.427Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.429Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.429Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.431Z","level":"info","message":"change_log_updated","requestId":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.431Z","level":"info","message":"http_request_completed","requestId":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7ff543c2-13ff-411b-8ef3-114fbb0c16e1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.433Z","level":"info","message":"http_request_received","requestId":"52d1224c-fca7-47f5-b119-a06942d265c8","method":"POST","path":"/api/change-log","template":"unknown","session":"52d1224c-fca7-47f5-b119-a06942d265c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52d1224c-fca7-47f5-b119-a06942d265c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.434Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.435Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.436Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.438Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.438Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.440Z","level":"info","message":"change_log_updated","requestId":"52d1224c-fca7-47f5-b119-a06942d265c8","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.440Z","level":"info","message":"http_request_completed","requestId":"52d1224c-fca7-47f5-b119-a06942d265c8","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"1151","template":"unknown","session":"52d1224c-fca7-47f5-b119-a06942d265c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"52d1224c-fca7-47f5-b119-a06942d265c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.442Z","level":"info","message":"http_request_received","requestId":"4a08ceca-6730-4cae-9927-c31c1995e907","method":"POST","path":"/api/change-log","template":"unknown","session":"4a08ceca-6730-4cae-9927-c31c1995e907","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a08ceca-6730-4cae-9927-c31c1995e907","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.443Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.445Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.446Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.447Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.448Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.449Z","level":"info","message":"change_log_updated","requestId":"4a08ceca-6730-4cae-9927-c31c1995e907","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.449Z","level":"info","message":"http_request_completed","requestId":"4a08ceca-6730-4cae-9927-c31c1995e907","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"596","template":"unknown","session":"4a08ceca-6730-4cae-9927-c31c1995e907","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4a08ceca-6730-4cae-9927-c31c1995e907","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.452Z","level":"info","message":"http_request_received","requestId":"875dc371-1e8d-4134-a011-51645b2fcaa2","method":"POST","path":"/api/change-log","template":"unknown","session":"875dc371-1e8d-4134-a011-51645b2fcaa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"875dc371-1e8d-4134-a011-51645b2fcaa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.453Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.454Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.456Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.457Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.458Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

  console.log
    {"timestamp":"2025-12-04T13:23:15.460Z","level":"info","message":"change_log_updated","requestId":"875dc371-1e8d-4134-a011-51645b2fcaa2","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:23:15.461Z","level":"info","message":"http_request_completed","requestId":"875dc371-1e8d-4134-a011-51645b2fcaa2","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"2337","template":"unknown","session":"875dc371-1e8d-4134-a011-51645b2fcaa2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"875dc371-1e8d-4134-a011-51645b2fcaa2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3457:5)

PASS tests/server.test.mjs
  health check
     GET /healthz (60 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (15 ms)
     serves hashed index asset from S3 when local file is missing (27 ms)
     serves hashed index asset directly from the bundled client when available (32 ms)
     strips API Gateway stage prefixes before resolving static index aliases (24 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (21 ms)
     serves the latest index asset alias via S3 when local files are unavailable (31 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (21 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (22 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (36 ms)
  static asset proxy endpoint
     serves the index alias via the local build (17 ms)
     normalizes stray punctuation in proxy asset queries (18 ms)
     strips inline alias annotations from hashed proxy asset queries (16 ms)
     falls back to S3 when the hashed bundle is unavailable locally (18 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (27 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (29 ms)
     rejects invalid asset paths (17 ms)
  static asset manifest endpoint
     returns manifest data when available (12 ms)
     allows forcing a manifest refresh via query parameter (21 ms)
     returns 503 when manifest is unavailable (23 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (219 ms)
     removes stale session change logs when starting a new upload session (62 ms)
     removes session change log data when the session prefix is reused (58 ms)
     requires manual job description input (83 ms)
     sanitizes manual job description input before analysis (55 ms)
     rejects manual job description input containing prohibited HTML tags (25 ms)
     stores sanitized job description as session input metadata (56 ms)
     accepts uploads without a LinkedIn profile URL (80 ms)
     malformed AI response (72 ms)
     handles code-fenced JSON with extra text (69 ms)
     handles JSON surrounded by text (67 ms)
     returns presigned PDF URLs with labeled asset types (75 ms)
     returns a structured error when download URLs cannot be generated (112 ms)
     cover letter urls include structured metadata (70 ms)
     uses provided templates in preferred order (52 ms)
     uses templates array (55 ms)
     filters AI guidance lines (55 ms)
     resume prompt asks for a project matching job skills (54 ms)
     inserts project into resume text (52 ms)
     adds project section when job description provided (53 ms)
     cover letters omit placeholder sections (54 ms)
     normalizes structured cover letter responses into text (48 ms)
     uses sanitized resume fallback when AI returns plain text for versions (54 ms)
     falls back to plain PDFs when template rendering fails (207 ms)
     final CV includes updated title, project, and skills (55 ms)
     missing file (24 ms)
     unsupported file type (26 ms)
     rejects non-resume content with descriptive feedback (32 ms)
     requires re-upload when classification does not identify a CV (28 ms)
     missing job description text (24 ms)
    download link refresh
       resigns an existing artifact key for the active job (19 ms)
       returns not found when the storage key does not match the job context (14 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (55 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (72 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (57 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (111 ms)
       rejects resumes larger than 5 MB (35 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (17 ms)
     queues message when fallback cover letters are used (36 ms)
     replaces whitespace cover letters with fallback copy (49 ms)
     audits cover letters for placeholders and applies fallback (43 ms)
     replaces weak closing cover letters with confident fallback copy (39 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (64 ms)
     surfaces message when cover letters remain unavailable (33 ms)
     refreshes session artifacts when job description changes for a new enhancement (44 ms)
     refreshes session artifacts automatically when job description changes (45 ms)
     persists template vs population errors in stage metadata (53 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (9 ms)
     announces next template when fallback occurs for non-2025 resume (10 ms)
     announces actual next template when 2025 fallback prefers contrast option (8 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (28 ms)
  classifyDocument
     identifies resumes by section structure
     detects cover letters
     rejects job descriptions that mimic resume sections (1 ms)
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (19 ms)
     guides user when docx parsing fails (1 ms)
     extracts text from doc (2 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (12 ms)
     persists category changelog details for ATS, skills, and related sections (12 ms)
     captures rescore summary and updates session score snapshot (11 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (9 ms)
     stores rejected entries in the session change log dismissed list (9 ms)
     persists cover letter change log payloads to S3 (10 ms)
     removing a cover letter entry records dismissal state in S3 (9 ms)
     persists activity logs from nested payloads into the session change log (12 ms)

Test Suites: 1 passed, 1 total
Tests:       90 passed, 90 total
Snapshots:   0 total
Time:        5.055 s, estimated 6 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
