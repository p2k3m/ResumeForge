
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:10308) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:33:33.945Z","level":"info","message":"http_request_received","requestId":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","method":"GET","path":"/healthz","template":"unknown","session":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.041Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.050Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.062Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.081Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.092Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.131Z","level":"info","message":"http_request_completed","requestId":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","method":"GET","path":"/healthz","statusCode":200,"durationMs":188,"contentLength":"15","template":"unknown","session":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ae61aeb-c798-48a8-8201-4d00fc98e9c7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.151Z","level":"info","message":"http_request_received","requestId":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","method":"GET","path":"/favicon.ico","template":"unknown","session":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.155Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.162Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.166Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.170Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.176Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.184Z","level":"info","message":"http_request_completed","requestId":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":33,"template":"unknown","session":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36047e09-a1a9-4f49-9de6-2f8e082af5f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.199Z","level":"info","message":"http_request_received","requestId":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.207Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.212Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.217Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.220Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.227Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:505:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:513:19)

  console.log
    {"timestamp":"2025-12-04T13:33:34.322Z","level":"info","message":"http_request_completed","requestId":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":123,"contentLength":"18","template":"unknown","session":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4894f7e1-00ad-43e2-97ed-ba890e2d806a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.325Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.388Z","level":"info","message":"http_request_received","requestId":"800adc0e-1175-40b0-a757-db4bad7aacd9","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"800adc0e-1175-40b0-a757-db4bad7aacd9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"800adc0e-1175-40b0-a757-db4bad7aacd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.393Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.398Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.412Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.423Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:33:34.517Z","level":"info","message":"http_request_completed","requestId":"800adc0e-1175-40b0-a757-db4bad7aacd9","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":129,"contentLength":"106285","template":"unknown","session":"800adc0e-1175-40b0-a757-db4bad7aacd9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"800adc0e-1175-40b0-a757-db4bad7aacd9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.530Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.535Z","level":"info","message":"http_request_received","requestId":"b32e9dc6-4802-4439-a840-a242a4b9129e","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"b32e9dc6-4802-4439-a840-a242a4b9129e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b32e9dc6-4802-4439-a840-a242a4b9129e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.539Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.555Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.561Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.565Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:33:34.646Z","level":"info","message":"http_request_completed","requestId":"b32e9dc6-4802-4439-a840-a242a4b9129e","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":111,"contentLength":"106285","template":"unknown","session":"b32e9dc6-4802-4439-a840-a242a4b9129e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b32e9dc6-4802-4439-a840-a242a4b9129e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.656Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.662Z","level":"info","message":"http_request_received","requestId":"81a93b73-25e4-4e89-8991-ba566bd1247a","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"81a93b73-25e4-4e89-8991-ba566bd1247a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81a93b73-25e4-4e89-8991-ba566bd1247a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.665Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.667Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.670Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.678Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.682Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:617:11)

  console.log
    {"timestamp":"2025-12-04T13:33:34.739Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.740Z","level":"info","message":"http_request_completed","requestId":"81a93b73-25e4-4e89-8991-ba566bd1247a","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":78,"contentLength":"1234","template":"unknown","session":"81a93b73-25e4-4e89-8991-ba566bd1247a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"81a93b73-25e4-4e89-8991-ba566bd1247a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.756Z","level":"info","message":"http_request_received","requestId":"5e17f496-670a-4bb2-8abe-c15598e54fc9","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"5e17f496-670a-4bb2-8abe-c15598e54fc9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e17f496-670a-4bb2-8abe-c15598e54fc9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.763Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.766Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.769Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:33:34.790Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:34:04.777Z","level":"info","message":"http_request_received","requestId":"1aa4ad04-dd12-4373-ac7b-c590d3d624be","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"1aa4ad04-dd12-4373-ac7b-c590d3d624be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1aa4ad04-dd12-4373-ac7b-c590d3d624be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:04.781Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:04.784Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:04.787Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:04.790Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:34:34.799Z","level":"info","message":"http_request_received","requestId":"45282380-e207-4e25-bd7b-f381709c5522","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"45282380-e207-4e25-bd7b-f381709c5522","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"45282380-e207-4e25-bd7b-f381709c5522","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:34.805Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:34.809Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:34.813Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:34:34.818Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    {"timestamp":"2025-12-04T13:35:04.808Z","level":"info","message":"http_request_received","requestId":"80c340b6-f91b-4660-a969-4c0dc4c746d6","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"80c340b6-f91b-4660-a969-4c0dc4c746d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"80c340b6-f91b-4660-a969-4c0dc4c746d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:04.813Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:04.818Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:04.821Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:04.824Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1028:11)

Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:532
        return originalReadFile.call(fsPromises, target, ...args);

RangeError: Maximum call stack size exceeded
Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:532
        return originalReadFile.call(fsPromises, target, ...args);

RangeError: Maximum call stack size exceeded
Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:532
        return originalReadFile.call(fsPromises, target, ...args);

RangeError: Maximum call stack size exceeded
  console.log
    {"timestamp":"2025-12-04T13:35:34.845Z","level":"info","message":"http_request_received","requestId":"54af0f50-47c6-4250-85b3-6a1249d3116f","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"54af0f50-47c6-4250-85b3-6a1249d3116f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54af0f50-47c6-4250-85b3-6a1249d3116f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:34.848Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:34.850Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:34.853Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:34.854Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:35:34.857Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1282:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1028:11)

Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:690
        return originalStat.call(fsPromises, target, ...args);

RangeError: Maximum call stack size exceeded
  console.warn
    {"timestamp":"2025-12-04T13:35:34.871Z","level":"warn","message":"client_asset_alias_manifest_load_failed","path":"/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/index.html","error":{},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at loadLocalHashedIndexAssetManifest (server.js:687:7)
      at loadHashedIndexAssetManifest (server.js:744:25)
      at handleIndexAssetAliasRequest (server.js:1317:20)
      at server.js:19103:20

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1013:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1025:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1028:11)

Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:738
      return originalReadFile.call(fsPromises, filePath, encoding);

RangeError: Maximum call stack size exceeded
Exception in PromiseRejectCallback:
/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:785
      return originalReadFile.call(fsPromises, filePath, encoding);

RangeError: Maximum call stack size exceeded
  console.log
    {"timestamp":"2025-12-04T13:36:04.876Z","level":"info","message":"http_request_received","requestId":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.879Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.882Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.885Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.888Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.892Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1603:11)

  console.warn
    {"timestamp":"2025-12-04T13:36:04.899Z","level":"warn","message":"api_error_response","requestId":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f"},"template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:19080:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:36:04.922Z","level":"info","message":"http_request_completed","requestId":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":46,"contentLength":"182","template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4be4e7c5-7400-42c1-8dc2-7657b8f0d70f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.930Z","level":"info","message":"http_request_received","requestId":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","method":"GET","path":"/api/static-manifest","template":"unknown","session":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.931Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.934Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.936Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.938Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.942Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.947Z","level":"info","message":"http_request_completed","requestId":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":17,"contentLength":"301","template":"unknown","session":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb68b437-f8c5-4b52-881b-9b06a74a7b06","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.956Z","level":"info","message":"http_request_received","requestId":"8591605c-1dba-4a0e-b2b5-667414237ec1","method":"GET","path":"/api/static-manifest","template":"unknown","session":"8591605c-1dba-4a0e-b2b5-667414237ec1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8591605c-1dba-4a0e-b2b5-667414237ec1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.959Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.971Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.975Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.979Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.982Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.987Z","level":"info","message":"http_request_completed","requestId":"8591605c-1dba-4a0e-b2b5-667414237ec1","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":31,"contentLength":"195","template":"unknown","session":"8591605c-1dba-4a0e-b2b5-667414237ec1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8591605c-1dba-4a0e-b2b5-667414237ec1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.995Z","level":"info","message":"http_request_received","requestId":"16b43f63-7602-4898-8af2-b2931487169f","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"16b43f63-7602-4898-8af2-b2931487169f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16b43f63-7602-4898-8af2-b2931487169f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.998Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:04.999Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.001Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.003Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.005Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.010Z","level":"info","message":"http_request_completed","requestId":"16b43f63-7602-4898-8af2-b2931487169f","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":15,"contentLength":"195","template":"unknown","session":"16b43f63-7602-4898-8af2-b2931487169f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"16b43f63-7602-4898-8af2-b2931487169f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.012Z","level":"info","message":"http_request_received","requestId":"3c955c8e-663a-4f26-ad57-76348655141e","method":"GET","path":"/api/static-manifest","template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.013Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.015Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.016Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.018Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.021Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.033Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:902:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7808:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7811:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:868:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:951:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19222:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:943:7
      at loadStaticAssetManifestFromS3 (server.js:958:12)
      at server.js:19222:22

  console.error
    {"timestamp":"2025-12-04T13:36:05.039Z","level":"error","message":"api_error_response","requestId":"3c955c8e-663a-4f26-ad57-76348655141e","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"3c955c8e-663a-4f26-ad57-76348655141e"},"template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:19227:14

  console.log
    {"timestamp":"2025-12-04T13:36:05.045Z","level":"info","message":"http_request_completed","requestId":"3c955c8e-663a-4f26-ad57-76348655141e","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":33,"contentLength":"216","template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3c955c8e-663a-4f26-ad57-76348655141e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.050Z","level":"info","message":"http_request_received","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","method":"POST","path":"/api/process-cv","template":"unknown","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.051Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.053Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.054Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.057Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.059Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7b907e95-011d-4bb2-9df6-569dabd33485/incoming/original.pdf","chunks":1,"timestamp":1764855365064}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7b907e95-011d-4bb2-9df6-569dabd33485/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7b907e95-011d-4bb2-9df6-569dabd33485/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.082Z","level":"info","message":"process_cv_started","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","manualJobDescriptionProvided":true,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.084Z","level":"info","message":"template_selection","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.085Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.092Z","level":"info","message":"initial_upload_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","bucket":"test-bucket","key":"cv/candidate/7b907e95-011d-4bb2-9df6-569dabd33485/incoming/original.pdf","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.107Z","level":"info","message":"resume_text_extracted","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","characters":57,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.108Z","level":"info","message":"resume_classified","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.110Z","level":"info","message":"raw_upload_relocated","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","bucket":"test-bucket","fromKey":"cv/candidate/7b907e95-011d-4bb2-9df6-569dabd33485/incoming/original.pdf","toKey":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/original.pdf","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.110Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","bucket":"test-bucket","key":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/original.pdf","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.111Z","level":"info","message":"dynamo_initial_record_written","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","bucket":"test-bucket","key":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/original.pdf","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.112Z","level":"info","message":"upload_metadata_written","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","bucket":"test-bucket","key":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/logs/log.json","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.112Z","level":"info","message":"job_description_supplied_manually","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","characters":174,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.113Z","level":"info","message":"job_description_analyzed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","jobTitle":"","jobSkills":5,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.118Z","level":"info","message":"resume_skills_analyzed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.120Z","level":"info","message":"llm_call_metrics","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.122Z","level":"info","message":"process_cv_scoring_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.139Z","level":"info","message":"llm_call_metrics","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.140Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.141Z","level":"info","message":"llm_call_metrics","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.145Z","level":"info","message":"generation_resume_verified","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.159Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.168Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.175Z","level":"info","message":"generation_cover_letters_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","variants":2,"fallbackApplied":true,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.177Z","level":"info","message":"pdf_generation_attempt","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/enhanced_modern.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.178Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.178Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/enhanced_modern.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.179Z","level":"info","message":"pdf_generation_attempt","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/enhanced_professional.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.180Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.180Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/enhanced_professional.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.181Z","level":"info","message":"pdf_generation_attempt","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/cover_letter_cover_modern.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.181Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.182Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/cover_letter_cover_modern.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.183Z","level":"info","message":"pdf_generation_attempt","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/cover_letter_cover_professional.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.184Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.184Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7b907e95-011d-4bb2-9df6-569dabd33485/cover_letter_cover_professional.pdf","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.191Z","level":"info","message":"llm_call_metrics","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.192Z","level":"info","message":"generation_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","generationRunId":"7b907e95-011d-4bb2-9df6-569dabd33485","enhancedScore":80,"outputs":5,"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.194Z","level":"info","message":"placeholder_record_deleted","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","jobId":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","placeholderIdentifier":"7b907e95-011d-4bb2-9df6-569dabd33485","template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"806d43d5-694c-4e3d-ab3d-f82312d3eb32","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.196Z","level":"info","message":"http_request_completed","requestId":"7b907e95-011d-4bb2-9df6-569dabd33485","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":146,"contentLength":"58133","template":"unknown","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7b907e95-011d-4bb2-9df6-569dabd33485","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.200Z","level":"info","message":"http_request_received","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","method":"POST","path":"/api/process-cv","template":"unknown","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.201Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.203Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.204Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.208Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.210Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cadf3bf5-ae13-4d1f-8007-3b83a4068737/incoming/original.pdf","chunks":1,"timestamp":1764855365214}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cadf3bf5-ae13-4d1f-8007-3b83a4068737/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cadf3bf5-ae13-4d1f-8007-3b83a4068737/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.224Z","level":"info","message":"process_cv_started","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","manualJobDescriptionProvided":true,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.225Z","level":"info","message":"template_selection","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.226Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.232Z","level":"info","message":"initial_upload_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","bucket":"test-bucket","key":"cv/candidate/cadf3bf5-ae13-4d1f-8007-3b83a4068737/incoming/original.pdf","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.238Z","level":"info","message":"resume_text_extracted","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","characters":57,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.238Z","level":"info","message":"resume_classified","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.239Z","level":"info","message":"raw_upload_relocated","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","bucket":"test-bucket","fromKey":"cv/candidate/cadf3bf5-ae13-4d1f-8007-3b83a4068737/incoming/original.pdf","toKey":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/original.pdf","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.239Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","bucket":"test-bucket","key":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/original.pdf","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.240Z","level":"info","message":"dynamo_initial_record_written","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","bucket":"test-bucket","key":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/original.pdf","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.240Z","level":"info","message":"upload_metadata_written","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","bucket":"test-bucket","key":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/logs/log.json","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.241Z","level":"info","message":"job_description_supplied_manually","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","characters":174,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.243Z","level":"info","message":"job_description_analyzed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","jobTitle":"","jobSkills":5,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.244Z","level":"info","message":"resume_skills_analyzed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.245Z","level":"info","message":"llm_call_metrics","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.246Z","level":"info","message":"process_cv_scoring_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.249Z","level":"info","message":"llm_call_metrics","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.249Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.250Z","level":"info","message":"llm_call_metrics","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.254Z","level":"info","message":"generation_resume_verified","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.260Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.269Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.276Z","level":"info","message":"generation_cover_letters_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","variants":2,"fallbackApplied":true,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.277Z","level":"info","message":"pdf_generation_attempt","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/enhanced_modern.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.278Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.278Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/enhanced_modern.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.279Z","level":"info","message":"pdf_generation_attempt","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/enhanced_professional.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.280Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.280Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/enhanced_professional.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.281Z","level":"info","message":"pdf_generation_attempt","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/cover_letter_cover_modern.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.281Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.282Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/cover_letter_cover_modern.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.283Z","level":"info","message":"pdf_generation_attempt","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/cover_letter_cover_professional.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.283Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.284Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cadf3bf5-ae13-4d1f-8007-3b83a4068737/cover_letter_cover_professional.pdf","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.287Z","level":"info","message":"llm_call_metrics","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.288Z","level":"info","message":"generation_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","generationRunId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","enhancedScore":80,"outputs":5,"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.290Z","level":"info","message":"placeholder_record_deleted","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","jobId":"44e6fd52-ce12-4478-8af0-775bb785f8b9","placeholderIdentifier":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"44e6fd52-ce12-4478-8af0-775bb785f8b9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.291Z","level":"info","message":"http_request_completed","requestId":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":91,"contentLength":"58133","template":"unknown","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cadf3bf5-ae13-4d1f-8007-3b83a4068737","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.329Z","level":"info","message":"http_request_received","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","method":"POST","path":"/api/process-cv","template":"unknown","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.332Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.334Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.336Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.338Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.340Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/98c01b9f-f502-49c0-8846-a8f1b968703b/incoming/original.pdf","chunks":1,"timestamp":1764855365343}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/98c01b9f-f502-49c0-8846-a8f1b968703b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/98c01b9f-f502-49c0-8846-a8f1b968703b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.352Z","level":"info","message":"process_cv_started","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","manualJobDescriptionProvided":true,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.353Z","level":"info","message":"template_selection","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.354Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.361Z","level":"info","message":"initial_upload_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","key":"cv/candidate/98c01b9f-f502-49c0-8846-a8f1b968703b/incoming/original.pdf","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.362Z","level":"info","message":"resume_text_extracted","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","characters":57,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.362Z","level":"info","message":"resume_classified","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.363Z","level":"info","message":"raw_upload_relocated","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","fromKey":"cv/candidate/98c01b9f-f502-49c0-8846-a8f1b968703b/incoming/original.pdf","toKey":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/original.pdf","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.363Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","key":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/original.pdf","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.365Z","level":"info","message":"dynamo_initial_record_written","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","key":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/original.pdf","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.365Z","level":"info","message":"upload_metadata_written","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","key":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/logs/log.json","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.366Z","level":"info","message":"session_transition_change_log_removed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.366Z","level":"info","message":"job_description_supplied_manually","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","characters":174,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.367Z","level":"info","message":"job_description_analyzed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","jobTitle":"","jobSkills":5,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.370Z","level":"info","message":"resume_skills_analyzed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.371Z","level":"info","message":"llm_call_metrics","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.373Z","level":"info","message":"process_cv_scoring_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.376Z","level":"info","message":"llm_call_metrics","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.377Z","level":"info","message":"generation_section_rewrite_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.378Z","level":"info","message":"llm_call_metrics","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.380Z","level":"info","message":"generation_resume_verified","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.385Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.395Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.401Z","level":"info","message":"generation_cover_letters_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","variants":2,"fallbackApplied":true,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.402Z","level":"info","message":"pdf_generation_attempt","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/enhanced_modern.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.406Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.406Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/enhanced_modern.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.407Z","level":"info","message":"pdf_generation_attempt","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/enhanced_professional.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.408Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.408Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/enhanced_professional.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.409Z","level":"info","message":"pdf_generation_attempt","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/cover_letter_cover_modern.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.410Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/cover_letter_cover_modern.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.411Z","level":"info","message":"pdf_generation_attempt","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/cover_letter_cover_professional.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.411Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.412Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98c01b9f-f502-49c0-8846-a8f1b968703b/cover_letter_cover_professional.pdf","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.416Z","level":"info","message":"llm_call_metrics","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.417Z","level":"info","message":"generation_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","generationRunId":"98c01b9f-f502-49c0-8846-a8f1b968703b","enhancedScore":80,"outputs":5,"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.419Z","level":"info","message":"placeholder_record_deleted","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","jobId":"0f726e15-93a7-46e4-a34b-9f28f32a906a","placeholderIdentifier":"98c01b9f-f502-49c0-8846-a8f1b968703b","template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0f726e15-93a7-46e4-a34b-9f28f32a906a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.421Z","level":"info","message":"http_request_completed","requestId":"98c01b9f-f502-49c0-8846-a8f1b968703b","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":92,"contentLength":"58133","template":"unknown","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98c01b9f-f502-49c0-8846-a8f1b968703b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.428Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.430Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.431Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.433Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.434Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.436Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764855365439}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.448Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.449Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.450Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.457Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.457Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.458Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.458Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.459Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.459Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.459Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.460Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.460Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.461Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.461Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.462Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.468Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.468Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.469Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.471Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.474Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.480Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.485Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.486Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.486Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.487Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.487Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.488Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.488Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.488Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.489Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.489Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.490Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.490Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.491Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.493Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.494Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.496Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":68,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.501Z","level":"info","message":"http_request_received","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","method":"POST","path":"/api/process-cv","template":"unknown","session":"0af1e781-b8a6-4b15-8c00-408c83616090","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0af1e781-b8a6-4b15-8c00-408c83616090","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.502Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.503Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.505Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.507Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.509Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0af1e781-b8a6-4b15-8c00-408c83616090/incoming/original.pdf","chunks":1,"timestamp":1764855365511}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0af1e781-b8a6-4b15-8c00-408c83616090/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0af1e781-b8a6-4b15-8c00-408c83616090/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.513Z","level":"info","message":"process_cv_started","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","jobId":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","manualJobDescriptionProvided":false,"template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.514Z","level":"info","message":"template_selection","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","jobId":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.514Z","level":"warn","message":"job_description_missing","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","jobId":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.520Z","level":"warn","message":"api_error_response","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","jobId":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","jobId":"c5620968-21d4-4d79-96a1-eecadc4a2ca1"},"template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c5620968-21d4-4d79-96a1-eecadc4a2ca1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.527Z","level":"info","message":"http_request_completed","requestId":"0af1e781-b8a6-4b15-8c00-408c83616090","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"244","template":"unknown","session":"0af1e781-b8a6-4b15-8c00-408c83616090","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0af1e781-b8a6-4b15-8c00-408c83616090","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.529Z","level":"info","message":"http_request_received","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","method":"POST","path":"/api/process-cv","template":"unknown","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.530Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.532Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.533Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.535Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.538Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7f28fa8d-1eb8-44d2-9271-57b422578e24/incoming/original.pdf","chunks":1,"timestamp":1764855365541}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7f28fa8d-1eb8-44d2-9271-57b422578e24/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7f28fa8d-1eb8-44d2-9271-57b422578e24/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.542Z","level":"info","message":"process_cv_started","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","manualJobDescriptionProvided":true,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.543Z","level":"info","message":"template_selection","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.545Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.551Z","level":"info","message":"initial_upload_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","bucket":"test-bucket","key":"cv/candidate/7f28fa8d-1eb8-44d2-9271-57b422578e24/incoming/original.pdf","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.553Z","level":"info","message":"resume_text_extracted","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","characters":57,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.553Z","level":"info","message":"resume_classified","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.554Z","level":"info","message":"raw_upload_relocated","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","bucket":"test-bucket","fromKey":"cv/candidate/7f28fa8d-1eb8-44d2-9271-57b422578e24/incoming/original.pdf","toKey":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/original.pdf","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.554Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","bucket":"test-bucket","key":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/original.pdf","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.554Z","level":"info","message":"dynamo_initial_record_written","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","bucket":"test-bucket","key":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/original.pdf","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.555Z","level":"info","message":"upload_metadata_written","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","bucket":"test-bucket","key":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/logs/log.json","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.555Z","level":"info","message":"job_description_supplied_manually","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","characters":59,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.555Z","level":"info","message":"job_description_analyzed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","jobTitle":"","jobSkills":5,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.556Z","level":"info","message":"resume_skills_analyzed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.556Z","level":"info","message":"llm_call_metrics","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.557Z","level":"info","message":"process_cv_scoring_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.559Z","level":"info","message":"llm_call_metrics","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.560Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.560Z","level":"info","message":"llm_call_metrics","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.563Z","level":"info","message":"generation_resume_verified","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.565Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.571Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.577Z","level":"info","message":"generation_cover_letters_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","variants":2,"fallbackApplied":true,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.578Z","level":"info","message":"pdf_generation_attempt","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/enhanced_modern.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.578Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.579Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/enhanced_modern.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.579Z","level":"info","message":"pdf_generation_attempt","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/enhanced_professional.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.582Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.583Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/enhanced_professional.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.583Z","level":"info","message":"pdf_generation_attempt","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/cover_letter_cover_modern.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.584Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.584Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/cover_letter_cover_modern.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.585Z","level":"info","message":"pdf_generation_attempt","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/cover_letter_cover_professional.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.585Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.585Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7f28fa8d-1eb8-44d2-9271-57b422578e24/cover_letter_cover_professional.pdf","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.589Z","level":"info","message":"llm_call_metrics","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.590Z","level":"info","message":"generation_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","generationRunId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","enhancedScore":80,"outputs":5,"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.591Z","level":"info","message":"placeholder_record_deleted","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","jobId":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","placeholderIdentifier":"7f28fa8d-1eb8-44d2-9271-57b422578e24","template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bfc3ce78-efcb-4668-ad50-664b6b82fc4e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.592Z","level":"info","message":"http_request_completed","requestId":"7f28fa8d-1eb8-44d2-9271-57b422578e24","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":63,"contentLength":"55048","template":"unknown","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7f28fa8d-1eb8-44d2-9271-57b422578e24","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.597Z","level":"info","message":"http_request_received","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","method":"POST","path":"/api/process-cv","template":"unknown","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.599Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.602Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.605Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.608Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.612Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/73d65b8d-254a-40c6-bf44-f16b8c27fa19/incoming/original.pdf","chunks":1,"timestamp":1764855365615}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/73d65b8d-254a-40c6-bf44-f16b8c27fa19/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/73d65b8d-254a-40c6-bf44-f16b8c27fa19/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.617Z","level":"info","message":"process_cv_started","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","manualJobDescriptionProvided":true,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.617Z","level":"info","message":"template_selection","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.618Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.626Z","level":"info","message":"initial_upload_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","bucket":"test-bucket","key":"cv/candidate/73d65b8d-254a-40c6-bf44-f16b8c27fa19/incoming/original.pdf","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.630Z","level":"info","message":"resume_text_extracted","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","characters":57,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.630Z","level":"info","message":"resume_classified","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.631Z","level":"info","message":"raw_upload_relocated","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","bucket":"test-bucket","fromKey":"cv/candidate/73d65b8d-254a-40c6-bf44-f16b8c27fa19/incoming/original.pdf","toKey":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/original.pdf","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.631Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","bucket":"test-bucket","key":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/original.pdf","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.632Z","level":"info","message":"dynamo_initial_record_written","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","bucket":"test-bucket","key":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/original.pdf","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.632Z","level":"info","message":"upload_metadata_written","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","bucket":"test-bucket","key":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/logs/log.json","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.632Z","level":"info","message":"job_description_supplied_manually","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","characters":32,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.633Z","level":"info","message":"job_description_analyzed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","jobTitle":"","jobSkills":5,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.634Z","level":"info","message":"resume_skills_analyzed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.634Z","level":"info","message":"llm_call_metrics","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.635Z","level":"info","message":"process_cv_scoring_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.638Z","level":"info","message":"llm_call_metrics","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.638Z","level":"info","message":"generation_section_rewrite_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.639Z","level":"info","message":"llm_call_metrics","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.641Z","level":"info","message":"generation_resume_verified","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.648Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.656Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.667Z","level":"info","message":"generation_cover_letters_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","variants":2,"fallbackApplied":true,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.669Z","level":"info","message":"pdf_generation_attempt","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/enhanced_modern.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.669Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.670Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/enhanced_modern.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.671Z","level":"info","message":"pdf_generation_attempt","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/enhanced_professional.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.672Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.672Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/enhanced_professional.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.673Z","level":"info","message":"pdf_generation_attempt","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/cover_letter_cover_modern.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.673Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.674Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/cover_letter_cover_modern.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.674Z","level":"info","message":"pdf_generation_attempt","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/cover_letter_cover_professional.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.675Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.675Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/73d65b8d-254a-40c6-bf44-f16b8c27fa19/cover_letter_cover_professional.pdf","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.679Z","level":"info","message":"llm_call_metrics","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.680Z","level":"info","message":"generation_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","generationRunId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","enhancedScore":80,"outputs":5,"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.681Z","level":"info","message":"placeholder_record_deleted","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","jobId":"cb6423a1-1963-4b73-aa46-b8fb260b4348","placeholderIdentifier":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cb6423a1-1963-4b73-aa46-b8fb260b4348","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.682Z","level":"info","message":"http_request_completed","requestId":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":85,"contentLength":"53771","template":"unknown","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"73d65b8d-254a-40c6-bf44-f16b8c27fa19","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.686Z","level":"info","message":"http_request_received","requestId":"a0c5e296-f290-45bc-b303-f75c2e292a2d","method":"POST","path":"/api/process-cv","template":"unknown","session":"a0c5e296-f290-45bc-b303-f75c2e292a2d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0c5e296-f290-45bc-b303-f75c2e292a2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.687Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.688Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.689Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.690Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.692Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a0c5e296-f290-45bc-b303-f75c2e292a2d/incoming/original.pdf","chunks":1,"timestamp":1764855365695}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a0c5e296-f290-45bc-b303-f75c2e292a2d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a0c5e296-f290-45bc-b303-f75c2e292a2d/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.697Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"a0c5e296-f290-45bc-b303-f75c2e292a2d","jobId":"62377128-8afb-495a-b133-03320879c116","template":"unknown","session":"62377128-8afb-495a-b133-03320879c116","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62377128-8afb-495a-b133-03320879c116","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24989:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.705Z","level":"warn","message":"api_error_response","requestId":"a0c5e296-f290-45bc-b303-f75c2e292a2d","jobId":"62377128-8afb-495a-b133-03320879c116","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"a0c5e296-f290-45bc-b303-f75c2e292a2d","jobId":"62377128-8afb-495a-b133-03320879c116"},"template":"unknown","session":"62377128-8afb-495a-b133-03320879c116","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62377128-8afb-495a-b133-03320879c116","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:24990:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.712Z","level":"info","message":"http_request_completed","requestId":"a0c5e296-f290-45bc-b303-f75c2e292a2d","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"271","template":"unknown","session":"a0c5e296-f290-45bc-b303-f75c2e292a2d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a0c5e296-f290-45bc-b303-f75c2e292a2d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.717Z","level":"info","message":"http_request_received","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","method":"POST","path":"/api/process-cv","template":"unknown","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.718Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.720Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.721Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.723Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.725Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/incoming/original.pdf","chunks":1,"timestamp":1764855365727}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.729Z","level":"info","message":"process_cv_started","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","manualJobDescriptionProvided":true,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.730Z","level":"info","message":"template_selection","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.730Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.736Z","level":"info","message":"initial_upload_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","bucket":"test-bucket","key":"cv/candidate/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/incoming/original.pdf","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.737Z","level":"info","message":"resume_text_extracted","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","characters":57,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.737Z","level":"info","message":"resume_classified","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.737Z","level":"info","message":"raw_upload_relocated","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","bucket":"test-bucket","fromKey":"cv/candidate/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/incoming/original.pdf","toKey":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/original.pdf","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.738Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","bucket":"test-bucket","key":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/original.pdf","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.738Z","level":"info","message":"dynamo_initial_record_written","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","bucket":"test-bucket","key":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/original.pdf","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.738Z","level":"info","message":"upload_metadata_written","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","bucket":"test-bucket","key":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/logs/log.json","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.738Z","level":"info","message":"job_description_supplied_manually","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","characters":31,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.739Z","level":"info","message":"job_description_analyzed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","jobTitle":"","jobSkills":5,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.739Z","level":"info","message":"resume_skills_analyzed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.740Z","level":"info","message":"llm_call_metrics","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.741Z","level":"info","message":"process_cv_scoring_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.743Z","level":"info","message":"llm_call_metrics","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.744Z","level":"info","message":"generation_section_rewrite_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.744Z","level":"info","message":"llm_call_metrics","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.746Z","level":"info","message":"generation_resume_verified","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.749Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.755Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.762Z","level":"info","message":"generation_cover_letters_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","variants":2,"fallbackApplied":true,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.763Z","level":"info","message":"pdf_generation_attempt","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/enhanced_modern.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.763Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.764Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/enhanced_modern.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.764Z","level":"info","message":"pdf_generation_attempt","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/enhanced_professional.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.764Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.765Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/enhanced_professional.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.765Z","level":"info","message":"pdf_generation_attempt","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/cover_letter_cover_modern.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.766Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/cover_letter_cover_modern.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.766Z","level":"info","message":"pdf_generation_attempt","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/cover_letter_cover_professional.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.767Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.767Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/92f8cbf5-a0fb-4d11-b535-a00da88bcb6e/cover_letter_cover_professional.pdf","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.769Z","level":"info","message":"llm_call_metrics","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.772Z","level":"info","message":"generation_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","generationRunId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","enhancedScore":80,"outputs":5,"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.773Z","level":"info","message":"placeholder_record_deleted","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","jobId":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","placeholderIdentifier":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"58b8cc03-7748-40aa-b7e8-e8b13b0cdd60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.774Z","level":"info","message":"http_request_completed","requestId":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"53718","template":"unknown","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"92f8cbf5-a0fb-4d11-b535-a00da88bcb6e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.778Z","level":"info","message":"http_request_received","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","method":"POST","path":"/api/process-cv","template":"unknown","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.779Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.780Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.781Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.782Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.784Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c8d09138-f991-43c0-bbd0-d86583199268/incoming/original.pdf","chunks":1,"timestamp":1764855365786}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c8d09138-f991-43c0-bbd0-d86583199268/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c8d09138-f991-43c0-bbd0-d86583199268/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.788Z","level":"info","message":"process_cv_started","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","manualJobDescriptionProvided":true,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.788Z","level":"info","message":"template_selection","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.789Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.794Z","level":"info","message":"initial_upload_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","bucket":"test-bucket","key":"cv/candidate/c8d09138-f991-43c0-bbd0-d86583199268/incoming/original.pdf","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.795Z","level":"info","message":"resume_text_extracted","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","characters":57,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.795Z","level":"info","message":"resume_classified","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.796Z","level":"info","message":"raw_upload_relocated","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","bucket":"test-bucket","fromKey":"cv/candidate/c8d09138-f991-43c0-bbd0-d86583199268/incoming/original.pdf","toKey":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/original.pdf","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.796Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","bucket":"test-bucket","key":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/original.pdf","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.796Z","level":"info","message":"dynamo_initial_record_written","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","bucket":"test-bucket","key":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/original.pdf","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.797Z","level":"info","message":"upload_metadata_written","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","bucket":"test-bucket","key":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/logs/log.json","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.797Z","level":"info","message":"job_description_supplied_manually","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","characters":174,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.797Z","level":"info","message":"job_description_analyzed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","jobTitle":"","jobSkills":5,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.798Z","level":"info","message":"resume_skills_analyzed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.798Z","level":"info","message":"llm_call_metrics","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.799Z","level":"info","message":"process_cv_scoring_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.801Z","level":"info","message":"llm_call_metrics","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.802Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.802Z","level":"info","message":"llm_call_metrics","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.805Z","level":"info","message":"generation_resume_verified","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.808Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.814Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.820Z","level":"info","message":"generation_cover_letters_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","variants":2,"fallbackApplied":true,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.821Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/enhanced_modern.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.821Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.822Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/enhanced_modern.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.822Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/enhanced_professional.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.823Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.823Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/enhanced_professional.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.823Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/cover_letter_cover_modern.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.825Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.825Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/cover_letter_cover_modern.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.826Z","level":"info","message":"pdf_generation_attempt","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/cover_letter_cover_professional.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.826Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.827Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c8d09138-f991-43c0-bbd0-d86583199268/cover_letter_cover_professional.pdf","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.829Z","level":"info","message":"llm_call_metrics","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.830Z","level":"info","message":"generation_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","generationRunId":"c8d09138-f991-43c0-bbd0-d86583199268","enhancedScore":80,"outputs":5,"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.831Z","level":"info","message":"placeholder_record_deleted","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","jobId":"e10bc9bd-54d4-4868-8303-9f668d5cef38","placeholderIdentifier":"c8d09138-f991-43c0-bbd0-d86583199268","template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e10bc9bd-54d4-4868-8303-9f668d5cef38","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.832Z","level":"info","message":"http_request_completed","requestId":"c8d09138-f991-43c0-bbd0-d86583199268","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"58133","template":"unknown","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8d09138-f991-43c0-bbd0-d86583199268","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.835Z","level":"info","message":"http_request_received","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","method":"POST","path":"/api/process-cv","template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.836Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.837Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.838Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.840Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.841Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ea09d642-6420-42bc-90fd-e600c0bc665f/incoming/original.pdf","chunks":1,"timestamp":1764855365843}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ea09d642-6420-42bc-90fd-e600c0bc665f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ea09d642-6420-42bc-90fd-e600c0bc665f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.845Z","level":"info","message":"process_cv_started","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","manualJobDescriptionProvided":true,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.846Z","level":"info","message":"template_selection","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.847Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.853Z","level":"info","message":"initial_upload_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","bucket":"test-bucket","key":"cv/candidate/ea09d642-6420-42bc-90fd-e600c0bc665f/incoming/original.pdf","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.853Z","level":"info","message":"resume_text_extracted","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","characters":57,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.853Z","level":"info","message":"resume_classified","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.854Z","level":"info","message":"raw_upload_relocated","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","bucket":"test-bucket","fromKey":"cv/candidate/ea09d642-6420-42bc-90fd-e600c0bc665f/incoming/original.pdf","toKey":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/original.pdf","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.854Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","bucket":"test-bucket","key":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/original.pdf","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.855Z","level":"info","message":"dynamo_initial_record_written","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","bucket":"test-bucket","key":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/original.pdf","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.855Z","level":"info","message":"upload_metadata_written","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","bucket":"test-bucket","key":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/logs/log.json","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.855Z","level":"info","message":"job_description_supplied_manually","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","characters":174,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.855Z","level":"info","message":"job_description_analyzed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","jobTitle":"","jobSkills":5,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.856Z","level":"info","message":"resume_skills_analyzed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.856Z","level":"info","message":"llm_call_metrics","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.857Z","level":"info","message":"process_cv_scoring_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:05.859Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","sample":"not json","template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.873Z","level":"info","message":"llm_call_metrics","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.873Z","level":"info","message":"llm_call_metrics","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.874Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.874Z","level":"info","message":"llm_call_metrics","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.877Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.883Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.889Z","level":"info","message":"generation_cover_letters_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","variants":2,"fallbackApplied":true,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.889Z","level":"info","message":"pdf_generation_attempt","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/enhanced_modern.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.890Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.890Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/enhanced_modern.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.891Z","level":"info","message":"pdf_generation_attempt","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/enhanced_professional.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.891Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.891Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/enhanced_professional.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.892Z","level":"info","message":"pdf_generation_attempt","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/cover_letter_cover_modern.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.892Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.893Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/cover_letter_cover_modern.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.893Z","level":"info","message":"pdf_generation_attempt","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/cover_letter_cover_professional.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.894Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.894Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ea09d642-6420-42bc-90fd-e600c0bc665f/cover_letter_cover_professional.pdf","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.896Z","level":"info","message":"llm_call_metrics","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.897Z","level":"info","message":"generation_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","generationRunId":"ea09d642-6420-42bc-90fd-e600c0bc665f","enhancedScore":80,"outputs":5,"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.899Z","level":"info","message":"placeholder_record_deleted","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","jobId":"b44e7e8e-b227-409d-8962-feab2328b663","placeholderIdentifier":"ea09d642-6420-42bc-90fd-e600c0bc665f","template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b44e7e8e-b227-409d-8962-feab2328b663","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.900Z","level":"info","message":"http_request_completed","requestId":"ea09d642-6420-42bc-90fd-e600c0bc665f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"58091","template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ea09d642-6420-42bc-90fd-e600c0bc665f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.904Z","level":"info","message":"http_request_received","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","method":"POST","path":"/api/process-cv","template":"unknown","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.905Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.906Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.907Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.909Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.910Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/aa501c6a-35cc-495f-bc74-12f839d8649c/incoming/original.pdf","chunks":1,"timestamp":1764855365913}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/aa501c6a-35cc-495f-bc74-12f839d8649c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/aa501c6a-35cc-495f-bc74-12f839d8649c/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.914Z","level":"info","message":"process_cv_started","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","manualJobDescriptionProvided":true,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.915Z","level":"info","message":"template_selection","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.915Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.921Z","level":"info","message":"initial_upload_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","bucket":"test-bucket","key":"cv/candidate/aa501c6a-35cc-495f-bc74-12f839d8649c/incoming/original.pdf","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.921Z","level":"info","message":"resume_text_extracted","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","characters":57,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.921Z","level":"info","message":"resume_classified","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.922Z","level":"info","message":"raw_upload_relocated","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","bucket":"test-bucket","fromKey":"cv/candidate/aa501c6a-35cc-495f-bc74-12f839d8649c/incoming/original.pdf","toKey":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/original.pdf","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.922Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","bucket":"test-bucket","key":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/original.pdf","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.922Z","level":"info","message":"dynamo_initial_record_written","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","bucket":"test-bucket","key":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/original.pdf","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.923Z","level":"info","message":"upload_metadata_written","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","bucket":"test-bucket","key":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/logs/log.json","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.923Z","level":"info","message":"job_description_supplied_manually","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","characters":174,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.923Z","level":"info","message":"job_description_analyzed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","jobTitle":"","jobSkills":5,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.923Z","level":"info","message":"resume_skills_analyzed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.924Z","level":"info","message":"llm_call_metrics","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.924Z","level":"info","message":"process_cv_scoring_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.927Z","level":"info","message":"llm_call_metrics","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.927Z","level":"info","message":"generation_section_rewrite_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.928Z","level":"info","message":"llm_call_metrics","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.928Z","level":"info","message":"llm_call_metrics","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.929Z","level":"info","message":"generation_resume_verified","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:05.932Z","level":"error","message":"ai_response_missing_json","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.938Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","attempt":1,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:05.944Z","level":"error","message":"ai_response_missing_json","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.950Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","attempt":2,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:05.956Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:05.962Z","level":"info","message":"generation_cover_letters_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","variants":2,"fallbackApplied":true,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.963Z","level":"info","message":"pdf_generation_attempt","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/enhanced_modern.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.963Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.964Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/enhanced_modern.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.964Z","level":"info","message":"pdf_generation_attempt","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/enhanced_professional.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.964Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.965Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/enhanced_professional.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.965Z","level":"info","message":"pdf_generation_attempt","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/cover_letter_cover_modern.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.966Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.966Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/cover_letter_cover_modern.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.967Z","level":"info","message":"pdf_generation_attempt","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/cover_letter_cover_professional.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.967Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.967Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/aa501c6a-35cc-495f-bc74-12f839d8649c/cover_letter_cover_professional.pdf","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.970Z","level":"info","message":"llm_call_metrics","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.970Z","level":"info","message":"generation_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","generationRunId":"aa501c6a-35cc-495f-bc74-12f839d8649c","enhancedScore":80,"outputs":5,"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.971Z","level":"info","message":"placeholder_record_deleted","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","jobId":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","placeholderIdentifier":"aa501c6a-35cc-495f-bc74-12f839d8649c","template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8f02bad-45e4-44d5-8cd6-af6bce62bade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.973Z","level":"info","message":"http_request_completed","requestId":"aa501c6a-35cc-495f-bc74-12f839d8649c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"59498","template":"unknown","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"aa501c6a-35cc-495f-bc74-12f839d8649c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.975Z","level":"info","message":"http_request_received","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","method":"POST","path":"/api/process-cv","template":"unknown","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.976Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.978Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.979Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.980Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.982Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0c55d88c-2a99-4724-92dc-c1893af1be57/incoming/original.pdf","chunks":1,"timestamp":1764855365984}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0c55d88c-2a99-4724-92dc-c1893af1be57/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0c55d88c-2a99-4724-92dc-c1893af1be57/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:05.986Z","level":"info","message":"process_cv_started","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","manualJobDescriptionProvided":true,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.986Z","level":"info","message":"template_selection","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:05.988Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:05.993Z","level":"info","message":"initial_upload_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","bucket":"test-bucket","key":"cv/candidate/0c55d88c-2a99-4724-92dc-c1893af1be57/incoming/original.pdf","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.994Z","level":"info","message":"resume_text_extracted","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","characters":57,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.994Z","level":"info","message":"resume_classified","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.994Z","level":"info","message":"raw_upload_relocated","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","bucket":"test-bucket","fromKey":"cv/candidate/0c55d88c-2a99-4724-92dc-c1893af1be57/incoming/original.pdf","toKey":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/original.pdf","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.995Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","bucket":"test-bucket","key":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/original.pdf","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.995Z","level":"info","message":"dynamo_initial_record_written","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","bucket":"test-bucket","key":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/original.pdf","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.995Z","level":"info","message":"upload_metadata_written","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","bucket":"test-bucket","key":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/logs/log.json","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.996Z","level":"info","message":"job_description_supplied_manually","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","characters":174,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.996Z","level":"info","message":"job_description_analyzed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","jobTitle":"","jobSkills":5,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.996Z","level":"info","message":"resume_skills_analyzed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.997Z","level":"info","message":"llm_call_metrics","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.997Z","level":"info","message":"process_cv_scoring_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:05.999Z","level":"info","message":"llm_call_metrics","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.000Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.000Z","level":"info","message":"llm_call_metrics","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.000Z","level":"info","message":"llm_call_metrics","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.002Z","level":"info","message":"generation_resume_verified","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.006Z","level":"error","message":"ai_response_missing_json","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.012Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","attempt":1,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.017Z","level":"error","message":"ai_response_missing_json","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.023Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","attempt":2,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.029Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.034Z","level":"info","message":"generation_cover_letters_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","variants":2,"fallbackApplied":true,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.035Z","level":"info","message":"pdf_generation_attempt","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/enhanced_modern.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.035Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.038Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/enhanced_modern.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.038Z","level":"info","message":"pdf_generation_attempt","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/enhanced_professional.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.039Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.039Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/enhanced_professional.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.039Z","level":"info","message":"pdf_generation_attempt","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/cover_letter_cover_modern.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.040Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.040Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/cover_letter_cover_modern.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.041Z","level":"info","message":"pdf_generation_attempt","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/cover_letter_cover_professional.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.041Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.042Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0c55d88c-2a99-4724-92dc-c1893af1be57/cover_letter_cover_professional.pdf","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.044Z","level":"info","message":"llm_call_metrics","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.045Z","level":"info","message":"generation_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","generationRunId":"0c55d88c-2a99-4724-92dc-c1893af1be57","enhancedScore":80,"outputs":5,"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.046Z","level":"info","message":"placeholder_record_deleted","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","jobId":"60ed2398-a6c0-4a56-bf8f-79831d84683c","placeholderIdentifier":"0c55d88c-2a99-4724-92dc-c1893af1be57","template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"60ed2398-a6c0-4a56-bf8f-79831d84683c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.047Z","level":"info","message":"http_request_completed","requestId":"0c55d88c-2a99-4724-92dc-c1893af1be57","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":72,"contentLength":"59498","template":"unknown","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0c55d88c-2a99-4724-92dc-c1893af1be57","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.050Z","level":"info","message":"http_request_received","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","method":"POST","path":"/api/process-cv","template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.051Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.052Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.053Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.054Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.056Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/incoming/original.pdf","chunks":1,"timestamp":1764855366058}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.059Z","level":"info","message":"process_cv_started","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","manualJobDescriptionProvided":true,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.060Z","level":"info","message":"template_selection","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.060Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.066Z","level":"info","message":"initial_upload_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","bucket":"test-bucket","key":"cv/candidate/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/incoming/original.pdf","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.066Z","level":"info","message":"resume_text_extracted","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","characters":57,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.067Z","level":"info","message":"resume_classified","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.067Z","level":"info","message":"raw_upload_relocated","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","bucket":"test-bucket","fromKey":"cv/candidate/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/incoming/original.pdf","toKey":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/original.pdf","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.067Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","bucket":"test-bucket","key":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/original.pdf","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.067Z","level":"info","message":"dynamo_initial_record_written","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","bucket":"test-bucket","key":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/original.pdf","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.068Z","level":"info","message":"upload_metadata_written","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","bucket":"test-bucket","key":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/logs/log.json","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.068Z","level":"info","message":"job_description_supplied_manually","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","characters":174,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.068Z","level":"info","message":"job_description_analyzed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","jobTitle":"","jobSkills":5,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.069Z","level":"info","message":"resume_skills_analyzed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.069Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.070Z","level":"info","message":"process_cv_scoring_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.071Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.077Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.078Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.078Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.079Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.079Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.083Z","level":"error","message":"ai_response_missing_json","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.088Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","attempt":1,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.094Z","level":"error","message":"ai_response_missing_json","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.099Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","attempt":2,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.107Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.112Z","level":"info","message":"generation_cover_letters_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","variants":2,"fallbackApplied":true,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.113Z","level":"info","message":"pdf_generation_attempt","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/enhanced_modern.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.113Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.114Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/enhanced_modern.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.114Z","level":"info","message":"pdf_generation_attempt","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/enhanced_professional.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.114Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.115Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/enhanced_professional.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.115Z","level":"info","message":"pdf_generation_attempt","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/cover_letter_cover_modern.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.116Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.116Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/cover_letter_cover_modern.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.117Z","level":"info","message":"pdf_generation_attempt","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/cover_letter_cover_professional.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.117Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.117Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a/cover_letter_cover_professional.pdf","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.119Z","level":"info","message":"llm_call_metrics","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.120Z","level":"info","message":"generation_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","generationRunId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","enhancedScore":80,"outputs":5,"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.121Z","level":"info","message":"placeholder_record_deleted","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","jobId":"0eb2bb5c-34c0-4965-bf77-56276a018d99","placeholderIdentifier":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0eb2bb5c-34c0-4965-bf77-56276a018d99","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.122Z","level":"info","message":"http_request_completed","requestId":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":72,"contentLength":"58301","template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f0fa6cfa-9d02-4b5b-8b69-bcaadf3d992a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.130Z","level":"info","message":"http_request_received","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","method":"POST","path":"/api/process-cv","template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.131Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.132Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.133Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.135Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.137Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/6d0278d8-7701-45b8-9ed2-1678552065f4/incoming/original.pdf","chunks":1,"timestamp":1764855366139}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/6d0278d8-7701-45b8-9ed2-1678552065f4/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/6d0278d8-7701-45b8-9ed2-1678552065f4/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.141Z","level":"info","message":"process_cv_started","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","manualJobDescriptionProvided":true,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.141Z","level":"info","message":"template_selection","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.142Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.148Z","level":"info","message":"initial_upload_completed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","bucket":"test-bucket","key":"cv/candidate/6d0278d8-7701-45b8-9ed2-1678552065f4/incoming/original.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.148Z","level":"info","message":"resume_text_extracted","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","characters":57,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.149Z","level":"info","message":"resume_classified","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.149Z","level":"info","message":"raw_upload_relocated","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","bucket":"test-bucket","fromKey":"cv/candidate/6d0278d8-7701-45b8-9ed2-1678552065f4/incoming/original.pdf","toKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/original.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.149Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","bucket":"test-bucket","key":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/original.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.151Z","level":"info","message":"dynamo_initial_record_written","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","bucket":"test-bucket","key":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/original.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.151Z","level":"info","message":"upload_metadata_written","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","bucket":"test-bucket","key":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/logs/log.json","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.151Z","level":"info","message":"job_description_supplied_manually","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","characters":174,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.152Z","level":"info","message":"job_description_analyzed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","jobTitle":"","jobSkills":5,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.152Z","level":"info","message":"resume_skills_analyzed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.152Z","level":"info","message":"llm_call_metrics","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.153Z","level":"info","message":"process_cv_scoring_completed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.155Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.163Z","level":"info","message":"llm_call_metrics","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.163Z","level":"info","message":"llm_call_metrics","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.164Z","level":"info","message":"generation_section_rewrite_completed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.165Z","level":"info","message":"llm_call_metrics","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.166Z","level":"info","message":"llm_call_metrics","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.169Z","level":"error","message":"ai_response_missing_json","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.175Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","attempt":1,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.181Z","level":"error","message":"ai_response_missing_json","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.186Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","attempt":2,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.192Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.197Z","level":"info","message":"generation_cover_letters_completed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","variants":2,"fallbackApplied":true,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.198Z","level":"info","message":"pdf_generation_attempt","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/enhanced_modern.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.198Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.199Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/enhanced_modern.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.199Z","level":"info","message":"pdf_generation_attempt","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/enhanced_professional.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.200Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.200Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/enhanced_professional.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.201Z","level":"info","message":"pdf_generation_attempt","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_letter_cover_modern.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.201Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.202Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_letter_cover_modern.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.202Z","level":"info","message":"pdf_generation_attempt","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_letter_cover_professional.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.203Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.204Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_letter_cover_professional.pdf","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.206Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","artifactType":"original_upload","storageKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/original.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"original_upload"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.211Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","artifactType":"version1","storageKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/modern/version1.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"version1"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.217Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","artifactType":"version2","storageKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/professional/version2.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"version2"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.222Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","artifactType":"cover_letter1","storageKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_modern/cover_letter1.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"cover_letter1"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.227Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","artifactType":"cover_letter2","storageKey":"cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_professional/cover_letter2.pdf","template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"cover_letter2"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21861:9)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.233Z","level":"error","message":"generation_urls_missing","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","requestedUrlCount":0,"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:21962:7)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.238Z","level":"error","message":"api_error_response","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-36-06-238z-6d0278d8-7701-45b8-9ed2-1678552065f4.json","status":"pending"}}},"requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b"},"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at generateEnhancedDocumentsResponse (server.js:21966:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.246Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","jobId":"291130b9-320c-481d-a227-07625749306b","generationRunId":"6d0278d8-7701-45b8-9ed2-1678552065f4","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/modern/version1.pdf","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/professional/version2.pdf","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_modern/cover_letter1.pdf","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/cover_professional/cover_letter2.pdf","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/original.json","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/version1.json","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/version2.json","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/cover-letter1.json","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/cover-letter2.json","cv/professional_summary/6d0278d8-7701-45b8-9ed2-1678552065f4/artifacts/changelog.json"],"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"291130b9-320c-481d-a227-07625749306b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:19889:9
      at generateEnhancedDocumentsResponse (server.js:22494:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.252Z","level":"info","message":"http_request_completed","requestId":"6d0278d8-7701-45b8-9ed2-1678552065f4","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":122,"contentLength":"396","template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6d0278d8-7701-45b8-9ed2-1678552065f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.254Z","level":"info","message":"http_request_received","requestId":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.256Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.257Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.258Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.269Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.271Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.273Z","level":"info","message":"http_request_completed","requestId":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":19,"contentLength":"232","template":"unknown","session":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a34c4894-ec9c-43a0-b4f1-6c3e041e69ec","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.275Z","level":"info","message":"http_request_received","requestId":"e604e616-a81e-4a8d-84ad-6607333fb70d","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"e604e616-a81e-4a8d-84ad-6607333fb70d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e604e616-a81e-4a8d-84ad-6607333fb70d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.276Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.277Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.279Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.280Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.281Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.282Z","level":"warn","message":"api_error_response","requestId":"e604e616-a81e-4a8d-84ad-6607333fb70d","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"e604e616-a81e-4a8d-84ad-6607333fb70d","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:24599:12

  console.log
    {"timestamp":"2025-12-04T13:36:06.288Z","level":"info","message":"http_request_completed","requestId":"e604e616-a81e-4a8d-84ad-6607333fb70d","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":13,"contentLength":"201","template":"unknown","session":"e604e616-a81e-4a8d-84ad-6607333fb70d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e604e616-a81e-4a8d-84ad-6607333fb70d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.291Z","level":"info","message":"http_request_received","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","method":"POST","path":"/api/process-cv","template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.292Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.293Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.295Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.296Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.298Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f3788e4c-a719-4e35-b57e-23fa5a20f3be/incoming/original.pdf","chunks":1,"timestamp":1764855366300}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f3788e4c-a719-4e35-b57e-23fa5a20f3be/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f3788e4c-a719-4e35-b57e-23fa5a20f3be/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.301Z","level":"info","message":"process_cv_started","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","manualJobDescriptionProvided":true,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.302Z","level":"info","message":"template_selection","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.302Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.308Z","level":"info","message":"initial_upload_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","bucket":"test-bucket","key":"cv/candidate/f3788e4c-a719-4e35-b57e-23fa5a20f3be/incoming/original.pdf","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.309Z","level":"info","message":"resume_text_extracted","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","characters":57,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.309Z","level":"info","message":"resume_classified","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.309Z","level":"info","message":"raw_upload_relocated","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","bucket":"test-bucket","fromKey":"cv/candidate/f3788e4c-a719-4e35-b57e-23fa5a20f3be/incoming/original.pdf","toKey":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/original.pdf","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.310Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","bucket":"test-bucket","key":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/original.pdf","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.310Z","level":"info","message":"dynamo_initial_record_written","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","bucket":"test-bucket","key":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/original.pdf","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.310Z","level":"info","message":"upload_metadata_written","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","bucket":"test-bucket","key":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/logs/log.json","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.310Z","level":"info","message":"job_description_supplied_manually","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","characters":174,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.311Z","level":"info","message":"job_description_analyzed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","jobTitle":"","jobSkills":5,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.311Z","level":"info","message":"resume_skills_analyzed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.311Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.312Z","level":"info","message":"process_cv_scoring_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.314Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.319Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.320Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.320Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.320Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.321Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.324Z","level":"error","message":"ai_response_missing_json","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.329Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","attempt":1,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.error
    {"timestamp":"2025-12-04T13:36:06.335Z","level":"error","message":"ai_response_missing_json","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20455:26)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.341Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","attempt":2,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20460:11)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.346Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.351Z","level":"info","message":"generation_cover_letters_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","variants":2,"fallbackApplied":true,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.352Z","level":"info","message":"pdf_generation_attempt","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/enhanced_modern.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.352Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.353Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/enhanced_modern.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.353Z","level":"info","message":"pdf_generation_attempt","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/enhanced_professional.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.354Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.354Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/enhanced_professional.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.354Z","level":"info","message":"pdf_generation_attempt","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/cover_letter_cover_modern.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.355Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/cover_letter_cover_modern.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.356Z","level":"info","message":"pdf_generation_attempt","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/cover_letter_cover_professional.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.357Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f3788e4c-a719-4e35-b57e-23fa5a20f3be/cover_letter_cover_professional.pdf","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.358Z","level":"info","message":"llm_call_metrics","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.359Z","level":"info","message":"generation_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","generationRunId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","enhancedScore":80,"outputs":5,"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.360Z","level":"info","message":"placeholder_record_deleted","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","jobId":"872adff4-309d-49f5-b4dd-3b3877324278","placeholderIdentifier":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"872adff4-309d-49f5-b4dd-3b3877324278","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.361Z","level":"info","message":"http_request_completed","requestId":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"58301","template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3788e4c-a719-4e35-b57e-23fa5a20f3be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.364Z","level":"info","message":"http_request_received","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","method":"POST","path":"/api/process-cv","template":"unknown","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.365Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.366Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.367Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.368Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.370Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/0dcfea20-086b-4957-9f17-83b578c443d5/incoming/original.pdf","chunks":1,"timestamp":1764855366372}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/0dcfea20-086b-4957-9f17-83b578c443d5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/0dcfea20-086b-4957-9f17-83b578c443d5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.373Z","level":"info","message":"process_cv_started","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","manualJobDescriptionProvided":true,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.374Z","level":"info","message":"template_selection","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.374Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.380Z","level":"info","message":"initial_upload_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","bucket":"test-bucket","key":"cv/candidate/0dcfea20-086b-4957-9f17-83b578c443d5/incoming/original.pdf","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.381Z","level":"info","message":"resume_text_extracted","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","characters":57,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.381Z","level":"info","message":"resume_classified","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.381Z","level":"info","message":"raw_upload_relocated","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","bucket":"test-bucket","fromKey":"cv/candidate/0dcfea20-086b-4957-9f17-83b578c443d5/incoming/original.pdf","toKey":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/original.pdf","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.382Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","bucket":"test-bucket","key":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/original.pdf","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.382Z","level":"info","message":"dynamo_initial_record_written","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","bucket":"test-bucket","key":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/original.pdf","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.382Z","level":"info","message":"upload_metadata_written","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","bucket":"test-bucket","key":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/logs/log.json","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.382Z","level":"info","message":"job_description_supplied_manually","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","characters":174,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.383Z","level":"info","message":"job_description_analyzed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","jobTitle":"","jobSkills":5,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.383Z","level":"info","message":"resume_skills_analyzed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.383Z","level":"info","message":"llm_call_metrics","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.384Z","level":"info","message":"process_cv_scoring_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.386Z","level":"info","message":"llm_call_metrics","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.386Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.387Z","level":"info","message":"llm_call_metrics","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.389Z","level":"info","message":"generation_resume_verified","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.392Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.399Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.404Z","level":"info","message":"generation_cover_letters_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","variants":2,"fallbackApplied":true,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.405Z","level":"info","message":"pdf_generation_attempt","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/enhanced_modern.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.405Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.406Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/enhanced_modern.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.406Z","level":"info","message":"pdf_generation_attempt","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/enhanced_professional.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.407Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.407Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/enhanced_professional.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.407Z","level":"info","message":"pdf_generation_attempt","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/cover_letter_cover_modern.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.408Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.408Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/cover_letter_cover_modern.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.409Z","level":"info","message":"pdf_generation_attempt","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/cover_letter_cover_professional.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.409Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.410Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/0dcfea20-086b-4957-9f17-83b578c443d5/cover_letter_cover_professional.pdf","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.412Z","level":"info","message":"llm_call_metrics","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.412Z","level":"info","message":"generation_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","generationRunId":"0dcfea20-086b-4957-9f17-83b578c443d5","enhancedScore":80,"outputs":5,"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.413Z","level":"info","message":"placeholder_record_deleted","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","jobId":"11ad80d3-5770-449e-b2b5-dadda9c6c671","placeholderIdentifier":"0dcfea20-086b-4957-9f17-83b578c443d5","template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"11ad80d3-5770-449e-b2b5-dadda9c6c671","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.414Z","level":"info","message":"http_request_completed","requestId":"0dcfea20-086b-4957-9f17-83b578c443d5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":50,"contentLength":"58133","template":"unknown","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0dcfea20-086b-4957-9f17-83b578c443d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.418Z","level":"info","message":"http_request_received","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","method":"POST","path":"/api/process-cv","template":"unknown","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.419Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.420Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.421Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.423Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.424Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/incoming/original.pdf","chunks":1,"timestamp":1764855366427}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.428Z","level":"info","message":"process_cv_started","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","manualJobDescriptionProvided":true,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.429Z","level":"info","message":"template_selection","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.429Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.435Z","level":"info","message":"initial_upload_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","bucket":"test-bucket","key":"cv/candidate/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/incoming/original.pdf","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.435Z","level":"info","message":"resume_text_extracted","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","characters":57,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.436Z","level":"info","message":"resume_classified","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.436Z","level":"info","message":"raw_upload_relocated","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","bucket":"test-bucket","fromKey":"cv/candidate/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/incoming/original.pdf","toKey":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/original.pdf","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.436Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","bucket":"test-bucket","key":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/original.pdf","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.438Z","level":"info","message":"dynamo_initial_record_written","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","bucket":"test-bucket","key":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/original.pdf","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.439Z","level":"info","message":"upload_metadata_written","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","bucket":"test-bucket","key":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/logs/log.json","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.439Z","level":"info","message":"job_description_supplied_manually","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","characters":174,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.440Z","level":"info","message":"job_description_analyzed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","jobTitle":"","jobSkills":5,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.440Z","level":"info","message":"resume_skills_analyzed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.441Z","level":"info","message":"llm_call_metrics","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.441Z","level":"info","message":"process_cv_scoring_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.443Z","level":"info","message":"llm_call_metrics","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.444Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.444Z","level":"info","message":"llm_call_metrics","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.446Z","level":"info","message":"generation_resume_verified","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.449Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.454Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.461Z","level":"info","message":"generation_cover_letters_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","variants":2,"fallbackApplied":true,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.462Z","level":"info","message":"pdf_generation_attempt","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/enhanced_classic.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.462Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.462Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/enhanced_classic.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.463Z","level":"info","message":"pdf_generation_attempt","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/enhanced_ats.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.463Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.464Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/enhanced_ats.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.464Z","level":"info","message":"pdf_generation_attempt","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/cover_letter_cover_classic.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.465Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.465Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/cover_letter_cover_classic.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.466Z","level":"info","message":"pdf_generation_attempt","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/cover_letter_cover_ats.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.466Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.467Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542/cover_letter_cover_ats.pdf","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.469Z","level":"info","message":"llm_call_metrics","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.469Z","level":"info","message":"generation_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","generationRunId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","enhancedScore":80,"outputs":5,"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.470Z","level":"info","message":"placeholder_record_deleted","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","jobId":"0abe09a4-159f-4fbc-a108-23a38c897a9c","placeholderIdentifier":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0abe09a4-159f-4fbc-a108-23a38c897a9c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.471Z","level":"info","message":"http_request_completed","requestId":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"57992","template":"unknown","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac8d020f-8e2a-4c12-8f61-3b1f7d4b3542","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.474Z","level":"info","message":"http_request_received","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","method":"POST","path":"/api/process-cv","template":"unknown","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.475Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.476Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.477Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.479Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.480Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/incoming/original.pdf","chunks":1,"timestamp":1764855366482}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.483Z","level":"info","message":"process_cv_started","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","manualJobDescriptionProvided":true,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.484Z","level":"info","message":"template_selection","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.484Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.490Z","level":"info","message":"initial_upload_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","bucket":"test-bucket","key":"cv/candidate/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/incoming/original.pdf","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.490Z","level":"info","message":"resume_text_extracted","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","characters":57,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.491Z","level":"info","message":"resume_classified","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.491Z","level":"info","message":"raw_upload_relocated","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","bucket":"test-bucket","fromKey":"cv/candidate/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/incoming/original.pdf","toKey":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/original.pdf","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.491Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","bucket":"test-bucket","key":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/original.pdf","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.491Z","level":"info","message":"dynamo_initial_record_written","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","bucket":"test-bucket","key":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/original.pdf","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.492Z","level":"info","message":"upload_metadata_written","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","bucket":"test-bucket","key":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/logs/log.json","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.493Z","level":"info","message":"job_description_supplied_manually","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","characters":174,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.493Z","level":"info","message":"job_description_analyzed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","jobTitle":"","jobSkills":5,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.494Z","level":"info","message":"resume_skills_analyzed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.494Z","level":"info","message":"llm_call_metrics","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.495Z","level":"info","message":"process_cv_scoring_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.498Z","level":"info","message":"llm_call_metrics","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.498Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.499Z","level":"info","message":"llm_call_metrics","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.502Z","level":"info","message":"generation_resume_verified","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.506Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.511Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.517Z","level":"info","message":"generation_cover_letters_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","variants":2,"fallbackApplied":true,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.517Z","level":"info","message":"pdf_generation_attempt","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/enhanced_modern.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.518Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.518Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/enhanced_modern.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.519Z","level":"info","message":"pdf_generation_attempt","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/enhanced_professional.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.519Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.520Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/enhanced_professional.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.520Z","level":"info","message":"pdf_generation_attempt","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/cover_letter_cover_modern.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.520Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.521Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/cover_letter_cover_modern.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.521Z","level":"info","message":"pdf_generation_attempt","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/cover_letter_cover_professional.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.522Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.522Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/ad7d68cf-ac13-46c7-bf9c-14a844f21df1/cover_letter_cover_professional.pdf","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.524Z","level":"info","message":"llm_call_metrics","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.525Z","level":"info","message":"generation_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","generationRunId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","enhancedScore":80,"outputs":5,"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.526Z","level":"info","message":"placeholder_record_deleted","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","jobId":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","placeholderIdentifier":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3bb91b39-4d90-4f81-9bf4-0e21480b2f82","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.527Z","level":"info","message":"http_request_completed","requestId":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59354","template":"unknown","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ad7d68cf-ac13-46c7-bf9c-14a844f21df1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.530Z","level":"info","message":"http_request_received","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","method":"POST","path":"/api/process-cv","template":"unknown","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.531Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.533Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.534Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.536Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.537Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b78d0368-41a3-4750-adf1-2e87a20a0330/incoming/original.pdf","chunks":1,"timestamp":1764855366539}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b78d0368-41a3-4750-adf1-2e87a20a0330/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b78d0368-41a3-4750-adf1-2e87a20a0330/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.541Z","level":"info","message":"process_cv_started","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","manualJobDescriptionProvided":true,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.543Z","level":"info","message":"template_selection","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.543Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.549Z","level":"info","message":"initial_upload_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","bucket":"test-bucket","key":"cv/candidate/b78d0368-41a3-4750-adf1-2e87a20a0330/incoming/original.pdf","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.549Z","level":"info","message":"resume_text_extracted","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","characters":57,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.549Z","level":"info","message":"resume_classified","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.550Z","level":"info","message":"raw_upload_relocated","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","bucket":"test-bucket","fromKey":"cv/candidate/b78d0368-41a3-4750-adf1-2e87a20a0330/incoming/original.pdf","toKey":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/original.pdf","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.550Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","bucket":"test-bucket","key":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/original.pdf","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.550Z","level":"info","message":"dynamo_initial_record_written","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","bucket":"test-bucket","key":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/original.pdf","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.551Z","level":"info","message":"upload_metadata_written","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","bucket":"test-bucket","key":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/logs/log.json","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.551Z","level":"info","message":"job_description_supplied_manually","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","characters":174,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.551Z","level":"info","message":"job_description_analyzed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","jobTitle":"","jobSkills":5,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.552Z","level":"info","message":"resume_skills_analyzed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.552Z","level":"info","message":"llm_call_metrics","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.553Z","level":"info","message":"process_cv_scoring_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.555Z","level":"info","message":"llm_call_metrics","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.555Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.556Z","level":"info","message":"llm_call_metrics","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.558Z","level":"info","message":"generation_resume_verified","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.560Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.566Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.573Z","level":"info","message":"generation_cover_letters_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","variants":2,"fallbackApplied":true,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.574Z","level":"info","message":"pdf_generation_attempt","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/enhanced_modern.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.574Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.575Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/enhanced_modern.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.576Z","level":"info","message":"pdf_generation_attempt","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/enhanced_professional.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.576Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.577Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/enhanced_professional.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.577Z","level":"info","message":"pdf_generation_attempt","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/cover_letter_cover_modern.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.578Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.578Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/cover_letter_cover_modern.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.579Z","level":"info","message":"pdf_generation_attempt","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/cover_letter_cover_professional.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.579Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.580Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b78d0368-41a3-4750-adf1-2e87a20a0330/cover_letter_cover_professional.pdf","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.582Z","level":"info","message":"llm_call_metrics","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.583Z","level":"info","message":"generation_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","generationRunId":"b78d0368-41a3-4750-adf1-2e87a20a0330","enhancedScore":80,"outputs":5,"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.584Z","level":"info","message":"placeholder_record_deleted","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","jobId":"ac32809f-03a0-4542-a065-877265429d67","placeholderIdentifier":"b78d0368-41a3-4750-adf1-2e87a20a0330","template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ac32809f-03a0-4542-a065-877265429d67","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.585Z","level":"info","message":"http_request_completed","requestId":"b78d0368-41a3-4750-adf1-2e87a20a0330","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":55,"contentLength":"57968","template":"unknown","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b78d0368-41a3-4750-adf1-2e87a20a0330","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.590Z","level":"info","message":"http_request_received","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","method":"POST","path":"/api/process-cv","template":"unknown","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.591Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.592Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.594Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.595Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.597Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/incoming/original.pdf","chunks":1,"timestamp":1764855366599}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.601Z","level":"info","message":"process_cv_started","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","manualJobDescriptionProvided":true,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.601Z","level":"info","message":"template_selection","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.602Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.607Z","level":"info","message":"initial_upload_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","bucket":"test-bucket","key":"cv/candidate/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/incoming/original.pdf","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.608Z","level":"info","message":"resume_text_extracted","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","characters":57,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.608Z","level":"info","message":"resume_classified","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.609Z","level":"info","message":"raw_upload_relocated","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","bucket":"test-bucket","fromKey":"cv/candidate/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/incoming/original.pdf","toKey":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/original.pdf","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.609Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","bucket":"test-bucket","key":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/original.pdf","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.609Z","level":"info","message":"dynamo_initial_record_written","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","bucket":"test-bucket","key":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/original.pdf","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.610Z","level":"info","message":"upload_metadata_written","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","bucket":"test-bucket","key":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/logs/log.json","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.610Z","level":"info","message":"job_description_supplied_manually","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","characters":174,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.610Z","level":"info","message":"job_description_analyzed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","jobTitle":"","jobSkills":5,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.611Z","level":"info","message":"resume_skills_analyzed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.611Z","level":"info","message":"llm_call_metrics","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.612Z","level":"info","message":"process_cv_scoring_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.614Z","level":"info","message":"llm_call_metrics","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.615Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.615Z","level":"info","message":"llm_call_metrics","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.618Z","level":"info","message":"generation_resume_verified","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.620Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.626Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.632Z","level":"info","message":"generation_cover_letters_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","variants":2,"fallbackApplied":true,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.633Z","level":"info","message":"pdf_generation_attempt","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/enhanced_modern.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.633Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.634Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/enhanced_modern.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.634Z","level":"info","message":"pdf_generation_attempt","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/enhanced_professional.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.635Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.635Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/enhanced_professional.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.636Z","level":"info","message":"pdf_generation_attempt","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/cover_letter_cover_modern.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.636Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.636Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/cover_letter_cover_modern.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.637Z","level":"info","message":"pdf_generation_attempt","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/cover_letter_cover_professional.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.637Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.638Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f7a23a38-ed52-4acc-92d9-b9dcb4f38625/cover_letter_cover_professional.pdf","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.640Z","level":"info","message":"llm_call_metrics","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.640Z","level":"info","message":"generation_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","generationRunId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","enhancedScore":80,"outputs":5,"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.642Z","level":"info","message":"placeholder_record_deleted","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","jobId":"fd583bbf-c9e7-4043-941c-33fffc5e523f","placeholderIdentifier":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd583bbf-c9e7-4043-941c-33fffc5e523f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.643Z","level":"info","message":"http_request_completed","requestId":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"59302","template":"unknown","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f7a23a38-ed52-4acc-92d9-b9dcb4f38625","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.646Z","level":"info","message":"http_request_received","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","method":"POST","path":"/api/process-cv","template":"unknown","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.647Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.648Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.649Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.650Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.652Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/121dfb61-cd04-4d0b-9612-a55cac399da6/incoming/original.pdf","chunks":1,"timestamp":1764855366654}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/121dfb61-cd04-4d0b-9612-a55cac399da6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/121dfb61-cd04-4d0b-9612-a55cac399da6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.655Z","level":"info","message":"process_cv_started","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","manualJobDescriptionProvided":true,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.656Z","level":"info","message":"template_selection","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.656Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.662Z","level":"info","message":"initial_upload_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","bucket":"test-bucket","key":"cv/candidate/121dfb61-cd04-4d0b-9612-a55cac399da6/incoming/original.pdf","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.662Z","level":"info","message":"resume_text_extracted","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","characters":57,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.663Z","level":"info","message":"resume_classified","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.663Z","level":"info","message":"raw_upload_relocated","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","bucket":"test-bucket","fromKey":"cv/candidate/121dfb61-cd04-4d0b-9612-a55cac399da6/incoming/original.pdf","toKey":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/original.pdf","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.663Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","bucket":"test-bucket","key":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/original.pdf","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.663Z","level":"info","message":"dynamo_initial_record_written","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","bucket":"test-bucket","key":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/original.pdf","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.664Z","level":"info","message":"upload_metadata_written","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","bucket":"test-bucket","key":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/logs/log.json","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.664Z","level":"info","message":"job_description_supplied_manually","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","characters":174,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.664Z","level":"info","message":"job_description_analyzed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","jobTitle":"","jobSkills":5,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.665Z","level":"info","message":"resume_skills_analyzed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.665Z","level":"info","message":"llm_call_metrics","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.666Z","level":"info","message":"process_cv_scoring_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.668Z","level":"info","message":"llm_call_metrics","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.669Z","level":"info","message":"generation_section_rewrite_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.669Z","level":"info","message":"llm_call_metrics","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.672Z","level":"info","message":"generation_resume_verified","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.677Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.686Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.692Z","level":"info","message":"generation_cover_letters_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","variants":2,"fallbackApplied":true,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.692Z","level":"info","message":"pdf_generation_attempt","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/enhanced_modern.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.693Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.693Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/enhanced_modern.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.694Z","level":"info","message":"pdf_generation_attempt","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/enhanced_professional.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.694Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.695Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/enhanced_professional.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.695Z","level":"info","message":"pdf_generation_attempt","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/cover_letter_cover_modern.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.696Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/cover_letter_cover_modern.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.696Z","level":"info","message":"pdf_generation_attempt","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/cover_letter_cover_professional.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.697Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/121dfb61-cd04-4d0b-9612-a55cac399da6/cover_letter_cover_professional.pdf","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.700Z","level":"info","message":"llm_call_metrics","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.700Z","level":"info","message":"generation_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","generationRunId":"121dfb61-cd04-4d0b-9612-a55cac399da6","enhancedScore":80,"outputs":5,"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.701Z","level":"info","message":"placeholder_record_deleted","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","jobId":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","placeholderIdentifier":"121dfb61-cd04-4d0b-9612-a55cac399da6","template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b5a5b04-5551-47a0-97f2-3b4e6ba832f6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.702Z","level":"info","message":"http_request_completed","requestId":"121dfb61-cd04-4d0b-9612-a55cac399da6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"59835","template":"unknown","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"121dfb61-cd04-4d0b-9612-a55cac399da6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.706Z","level":"info","message":"http_request_received","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","method":"POST","path":"/api/process-cv","template":"unknown","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.707Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.708Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.709Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.711Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.712Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/incoming/original.pdf","chunks":1,"timestamp":1764855366715}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.716Z","level":"info","message":"process_cv_started","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","manualJobDescriptionProvided":true,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.717Z","level":"info","message":"template_selection","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.717Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.724Z","level":"info","message":"initial_upload_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","bucket":"test-bucket","key":"cv/candidate/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/incoming/original.pdf","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.724Z","level":"info","message":"resume_text_extracted","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","characters":57,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.725Z","level":"info","message":"resume_classified","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.725Z","level":"info","message":"raw_upload_relocated","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","bucket":"test-bucket","fromKey":"cv/candidate/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/incoming/original.pdf","toKey":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/original.pdf","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.725Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","bucket":"test-bucket","key":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/original.pdf","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.726Z","level":"info","message":"dynamo_initial_record_written","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","bucket":"test-bucket","key":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/original.pdf","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.726Z","level":"info","message":"upload_metadata_written","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","bucket":"test-bucket","key":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/logs/log.json","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.726Z","level":"info","message":"job_description_supplied_manually","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","characters":174,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.727Z","level":"info","message":"job_description_analyzed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","jobTitle":"","jobSkills":5,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.727Z","level":"info","message":"resume_skills_analyzed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.728Z","level":"info","message":"llm_call_metrics","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.728Z","level":"info","message":"process_cv_scoring_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.731Z","level":"info","message":"llm_call_metrics","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.731Z","level":"info","message":"generation_section_rewrite_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.731Z","level":"info","message":"llm_call_metrics","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.734Z","level":"info","message":"generation_resume_verified","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.737Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.743Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.748Z","level":"info","message":"generation_cover_letters_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","variants":2,"fallbackApplied":true,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.749Z","level":"info","message":"pdf_generation_attempt","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/enhanced_modern.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.749Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.750Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/enhanced_modern.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.750Z","level":"info","message":"pdf_generation_attempt","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/enhanced_professional.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.751Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.752Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/enhanced_professional.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.752Z","level":"info","message":"pdf_generation_attempt","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/cover_letter_cover_modern.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.753Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.754Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/cover_letter_cover_modern.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.754Z","level":"info","message":"pdf_generation_attempt","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/cover_letter_cover_professional.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.755Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.755Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/954fb263-e0fe-4f8d-ae0d-13896d0de1d0/cover_letter_cover_professional.pdf","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.757Z","level":"info","message":"llm_call_metrics","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.758Z","level":"info","message":"generation_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","generationRunId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","enhancedScore":80,"outputs":5,"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.759Z","level":"info","message":"placeholder_record_deleted","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","jobId":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","placeholderIdentifier":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b72a45d-1ac9-4a78-80c6-57b58cb9521a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.760Z","level":"info","message":"http_request_completed","requestId":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":54,"contentLength":"58133","template":"unknown","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"954fb263-e0fe-4f8d-ae0d-13896d0de1d0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.764Z","level":"info","message":"http_request_received","requestId":"65d06db8-686b-4861-a530-80108825a75c","method":"POST","path":"/api/process-cv","template":"unknown","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.765Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.767Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.768Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.770Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.772Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/65d06db8-686b-4861-a530-80108825a75c/incoming/original.pdf","chunks":1,"timestamp":1764855366774}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/65d06db8-686b-4861-a530-80108825a75c/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/65d06db8-686b-4861-a530-80108825a75c/incoming/original.pdf","uploadDurationMs":1,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.776Z","level":"info","message":"process_cv_started","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","manualJobDescriptionProvided":true,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.776Z","level":"info","message":"template_selection","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.777Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.784Z","level":"info","message":"initial_upload_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","bucket":"test-bucket","key":"cv/candidate/65d06db8-686b-4861-a530-80108825a75c/incoming/original.pdf","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.784Z","level":"info","message":"resume_text_extracted","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","characters":57,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.784Z","level":"info","message":"resume_classified","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.785Z","level":"info","message":"raw_upload_relocated","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","bucket":"test-bucket","fromKey":"cv/candidate/65d06db8-686b-4861-a530-80108825a75c/incoming/original.pdf","toKey":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/original.pdf","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.785Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","bucket":"test-bucket","key":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/original.pdf","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.785Z","level":"info","message":"dynamo_initial_record_written","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","bucket":"test-bucket","key":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/original.pdf","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.786Z","level":"info","message":"upload_metadata_written","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","bucket":"test-bucket","key":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/logs/log.json","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.786Z","level":"info","message":"job_description_supplied_manually","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","characters":174,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.787Z","level":"info","message":"job_description_analyzed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","jobTitle":"","jobSkills":5,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.787Z","level":"info","message":"resume_skills_analyzed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.788Z","level":"info","message":"llm_call_metrics","requestId":"65d06db8-686b-4861-a530-80108825a75c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.789Z","level":"info","message":"process_cv_scoring_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.792Z","level":"info","message":"llm_call_metrics","requestId":"65d06db8-686b-4861-a530-80108825a75c","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.792Z","level":"info","message":"generation_section_rewrite_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.795Z","level":"info","message":"generation_resume_verified","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.798Z","level":"info","message":"generation_cover_letters_normalized","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.799Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.805Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","variants":["cover_letter1"],"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.806Z","level":"info","message":"generation_cover_letters_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","variants":2,"fallbackApplied":true,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.806Z","level":"info","message":"pdf_generation_attempt","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/enhanced_modern.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.807Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.807Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/enhanced_modern.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.808Z","level":"info","message":"pdf_generation_attempt","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/enhanced_professional.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.808Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.809Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/enhanced_professional.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.809Z","level":"info","message":"pdf_generation_attempt","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/cover_letter_cover_modern.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.809Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.810Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/cover_letter_cover_modern.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.811Z","level":"info","message":"pdf_generation_attempt","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/cover_letter_cover_professional.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.812Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.812Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/65d06db8-686b-4861-a530-80108825a75c/cover_letter_cover_professional.pdf","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.814Z","level":"info","message":"llm_call_metrics","requestId":"65d06db8-686b-4861-a530-80108825a75c","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.815Z","level":"info","message":"generation_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","generationRunId":"65d06db8-686b-4861-a530-80108825a75c","enhancedScore":80,"outputs":5,"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.815Z","level":"info","message":"placeholder_record_deleted","requestId":"65d06db8-686b-4861-a530-80108825a75c","jobId":"cf202698-868d-40a9-a9f4-8af94a0c137a","placeholderIdentifier":"65d06db8-686b-4861-a530-80108825a75c","template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cf202698-868d-40a9-a9f4-8af94a0c137a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.816Z","level":"info","message":"http_request_completed","requestId":"65d06db8-686b-4861-a530-80108825a75c","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":52,"contentLength":"46262","template":"unknown","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65d06db8-686b-4861-a530-80108825a75c","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.820Z","level":"info","message":"http_request_received","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","method":"POST","path":"/api/process-cv","template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.821Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.822Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.823Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.824Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.826Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cdfad72a-60a8-4965-8e5c-0893415f51b7/incoming/original.pdf","chunks":1,"timestamp":1764855366828}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cdfad72a-60a8-4965-8e5c-0893415f51b7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cdfad72a-60a8-4965-8e5c-0893415f51b7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.829Z","level":"info","message":"process_cv_started","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","manualJobDescriptionProvided":true,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.830Z","level":"info","message":"template_selection","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.830Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.836Z","level":"info","message":"initial_upload_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","bucket":"test-bucket","key":"cv/candidate/cdfad72a-60a8-4965-8e5c-0893415f51b7/incoming/original.pdf","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.836Z","level":"info","message":"resume_text_extracted","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","characters":57,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.836Z","level":"info","message":"resume_classified","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.837Z","level":"info","message":"raw_upload_relocated","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","bucket":"test-bucket","fromKey":"cv/candidate/cdfad72a-60a8-4965-8e5c-0893415f51b7/incoming/original.pdf","toKey":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/original.pdf","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.837Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","bucket":"test-bucket","key":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/original.pdf","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.838Z","level":"info","message":"dynamo_initial_record_written","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","bucket":"test-bucket","key":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/original.pdf","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.839Z","level":"info","message":"upload_metadata_written","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","bucket":"test-bucket","key":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/logs/log.json","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.839Z","level":"info","message":"job_description_supplied_manually","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","characters":174,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.840Z","level":"info","message":"job_description_analyzed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","jobTitle":"","jobSkills":5,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.840Z","level":"info","message":"resume_skills_analyzed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.841Z","level":"info","message":"llm_call_metrics","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.841Z","level":"info","message":"process_cv_scoring_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.843Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at Object.error (server.js:3476:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8532:20)
      at generateEnhancedDocumentsResponse (server.js:20173:26)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.849Z","level":"info","message":"llm_call_metrics","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.849Z","level":"info","message":"llm_call_metrics","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.850Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.850Z","level":"info","message":"llm_call_metrics","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.854Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.860Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.866Z","level":"info","message":"generation_cover_letters_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","variants":2,"fallbackApplied":true,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.866Z","level":"info","message":"pdf_generation_attempt","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/enhanced_modern.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.867Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.867Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/enhanced_modern.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.868Z","level":"info","message":"pdf_generation_attempt","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/enhanced_professional.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.868Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.868Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/enhanced_professional.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.869Z","level":"info","message":"pdf_generation_attempt","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/cover_letter_cover_modern.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.869Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.870Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/cover_letter_cover_modern.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.870Z","level":"info","message":"pdf_generation_attempt","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/cover_letter_cover_professional.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.871Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.871Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdfad72a-60a8-4965-8e5c-0893415f51b7/cover_letter_cover_professional.pdf","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.873Z","level":"info","message":"llm_call_metrics","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.874Z","level":"info","message":"generation_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","generationRunId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","enhancedScore":80,"outputs":5,"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.875Z","level":"info","message":"placeholder_record_deleted","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","jobId":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","placeholderIdentifier":"cdfad72a-60a8-4965-8e5c-0893415f51b7","template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1ae3f0fa-7c15-4fcc-a987-2084687c734e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.876Z","level":"info","message":"http_request_completed","requestId":"cdfad72a-60a8-4965-8e5c-0893415f51b7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":56,"contentLength":"57871","template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdfad72a-60a8-4965-8e5c-0893415f51b7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.879Z","level":"info","message":"http_request_received","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","method":"POST","path":"/api/process-cv","template":"unknown","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.880Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.882Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.883Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.884Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.886Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f29421be-4c89-442f-8c15-b1c808e3a150/incoming/original.pdf","chunks":1,"timestamp":1764855366888}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f29421be-4c89-442f-8c15-b1c808e3a150/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f29421be-4c89-442f-8c15-b1c808e3a150/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:06.889Z","level":"info","message":"process_cv_started","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","manualJobDescriptionProvided":true,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.890Z","level":"info","message":"template_selection","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.891Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:06.899Z","level":"info","message":"initial_upload_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","bucket":"test-bucket","key":"cv/candidate/f29421be-4c89-442f-8c15-b1c808e3a150/incoming/original.pdf","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.899Z","level":"info","message":"resume_text_extracted","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","characters":57,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.899Z","level":"info","message":"resume_classified","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.900Z","level":"info","message":"raw_upload_relocated","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","bucket":"test-bucket","fromKey":"cv/candidate/f29421be-4c89-442f-8c15-b1c808e3a150/incoming/original.pdf","toKey":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/original.pdf","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.900Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","bucket":"test-bucket","key":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/original.pdf","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.900Z","level":"info","message":"dynamo_initial_record_written","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","bucket":"test-bucket","key":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/original.pdf","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.901Z","level":"info","message":"upload_metadata_written","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","bucket":"test-bucket","key":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/logs/log.json","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.901Z","level":"info","message":"job_description_supplied_manually","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","characters":174,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.901Z","level":"info","message":"job_description_analyzed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","jobTitle":"","jobSkills":5,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.902Z","level":"info","message":"resume_skills_analyzed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.903Z","level":"info","message":"llm_call_metrics","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.903Z","level":"info","message":"process_cv_scoring_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.905Z","level":"info","message":"llm_call_metrics","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.906Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.907Z","level":"info","message":"llm_call_metrics","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.909Z","level":"info","message":"generation_resume_verified","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:06.912Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.918Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.923Z","level":"info","message":"generation_cover_letters_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","variants":2,"fallbackApplied":true,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.923Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_modern.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.924Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.926Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.933Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_professional.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.934Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.935Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.946Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_classic.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.947Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.954Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.955Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.955Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.960Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.961Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.961Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:06.967Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.973Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.974Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.975Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_professional.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.975Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.975Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.981Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_modern.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.981Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.981Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.987Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.987Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.988Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:06.993Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_classic.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:06.993Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:06.994Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.001Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.001Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.002Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.007Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.013Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.013Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.014Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_modern.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.014Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.015Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.020Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_professional.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.020Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.021Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.026Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_classic.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.026Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.027Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.036Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.036Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.037Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.045Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.045Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.046Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.052Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.058Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.059Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.060Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_professional.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.060Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.061Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.066Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_modern.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.066Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.067Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.072Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.073Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.073Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.078Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_classic.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.079Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.079Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.084Z","level":"info","message":"pdf_generation_attempt","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.085Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.error
    {"timestamp":"2025-12-04T13:36:07.085Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.092Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
      at generateEnhancedDocumentsResponse (server.js:21302:17)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.098Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2154:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.098Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/f29421be-4c89-442f-8c15-b1c808e3a150/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.100Z","level":"info","message":"llm_call_metrics","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.101Z","level":"info","message":"generation_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","generationRunId":"f29421be-4c89-442f-8c15-b1c808e3a150","enhancedScore":80,"outputs":5,"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.102Z","level":"info","message":"placeholder_record_deleted","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","jobId":"87396334-12f2-496e-9d17-13bed4ed9dc5","placeholderIdentifier":"f29421be-4c89-442f-8c15-b1c808e3a150","template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87396334-12f2-496e-9d17-13bed4ed9dc5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.103Z","level":"info","message":"http_request_completed","requestId":"f29421be-4c89-442f-8c15-b1c808e3a150","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":224,"contentLength":"60620","template":"unknown","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f29421be-4c89-442f-8c15-b1c808e3a150","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.106Z","level":"info","message":"http_request_received","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","method":"POST","path":"/api/process-cv","template":"unknown","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.107Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.109Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.110Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.111Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.113Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/incoming/original.pdf","chunks":1,"timestamp":1764855367115}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:07.116Z","level":"info","message":"process_cv_started","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","manualJobDescriptionProvided":true,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.116Z","level":"info","message":"template_selection","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.117Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.122Z","level":"info","message":"initial_upload_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","bucket":"test-bucket","key":"cv/candidate/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/incoming/original.pdf","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.123Z","level":"info","message":"resume_text_extracted","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","characters":57,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.123Z","level":"info","message":"resume_classified","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.123Z","level":"info","message":"raw_upload_relocated","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","bucket":"test-bucket","fromKey":"cv/candidate/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/incoming/original.pdf","toKey":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/original.pdf","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.124Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","bucket":"test-bucket","key":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/original.pdf","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.124Z","level":"info","message":"dynamo_initial_record_written","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","bucket":"test-bucket","key":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/original.pdf","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.124Z","level":"info","message":"upload_metadata_written","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","bucket":"test-bucket","key":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/logs/log.json","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.125Z","level":"info","message":"job_description_supplied_manually","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","characters":174,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.125Z","level":"info","message":"job_description_analyzed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","jobTitle":"","jobSkills":5,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.125Z","level":"info","message":"resume_skills_analyzed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.126Z","level":"info","message":"llm_call_metrics","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.126Z","level":"info","message":"process_cv_scoring_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.129Z","level":"info","message":"llm_call_metrics","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.130Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.132Z","level":"info","message":"generation_resume_verified","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.135Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.141Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.146Z","level":"info","message":"generation_cover_letters_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","variants":2,"fallbackApplied":true,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.146Z","level":"info","message":"pdf_generation_attempt","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/enhanced_modern.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.147Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.147Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/enhanced_modern.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.148Z","level":"info","message":"pdf_generation_attempt","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/enhanced_professional.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.148Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/enhanced_professional.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.149Z","level":"info","message":"pdf_generation_attempt","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/cover_letter_cover_modern.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.149Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.150Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/cover_letter_cover_modern.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.150Z","level":"info","message":"pdf_generation_attempt","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/cover_letter_cover_professional.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.151Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/5bdacd9a-7dba-45a1-977f-31e53dbebeb6/cover_letter_cover_professional.pdf","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.153Z","level":"info","message":"llm_call_metrics","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.153Z","level":"info","message":"generation_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","generationRunId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","enhancedScore":80,"outputs":5,"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.154Z","level":"info","message":"placeholder_record_deleted","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","jobId":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","placeholderIdentifier":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"687e7dc2-c8c0-4bf6-aade-c593143b71f1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.155Z","level":"info","message":"http_request_completed","requestId":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"59251","template":"unknown","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5bdacd9a-7dba-45a1-977f-31e53dbebeb6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.159Z","level":"info","message":"http_request_received","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","method":"POST","path":"/api/process-cv","template":"unknown","session":"5fc087e2-c559-4743-8bd4-2fa1f2658604","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fc087e2-c559-4743-8bd4-2fa1f2658604","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.160Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.161Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.162Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.164Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.165Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.167Z","level":"info","message":"process_cv_started","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","jobId":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","manualJobDescriptionProvided":true,"template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.168Z","level":"info","message":"template_selection","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","jobId":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.169Z","level":"warn","message":"resume_missing","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","jobId":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25086:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.175Z","level":"warn","message":"api_error_response","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","jobId":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","jobId":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b"},"template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"21aeb519-e2d1-44bc-a8b0-d5d10b87df8b","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25087:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.181Z","level":"info","message":"http_request_completed","requestId":"5fc087e2-c559-4743-8bd4-2fa1f2658604","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"217","template":"unknown","session":"5fc087e2-c559-4743-8bd4-2fa1f2658604","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5fc087e2-c559-4743-8bd4-2fa1f2658604","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.183Z","level":"info","message":"http_request_received","requestId":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","method":"POST","path":"/api/process-cv","template":"unknown","session":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.183Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.185Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.186Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.187Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.189Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.193Z","level":"warn","message":"resume_upload_failed","requestId":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","jobId":"87170219-10f5-4ea2-8040-45e6e86b58cf","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4986:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"87170219-10f5-4ea2-8040-45e6e86b58cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87170219-10f5-4ea2-8040-45e6e86b58cf","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4985:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.201Z","level":"warn","message":"api_error_response","requestId":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","jobId":"87170219-10f5-4ea2-8040-45e6e86b58cf","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","jobId":"87170219-10f5-4ea2-8040-45e6e86b58cf"},"template":"unknown","session":"87170219-10f5-4ea2-8040-45e6e86b58cf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"87170219-10f5-4ea2-8040-45e6e86b58cf","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4985:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:36:07.207Z","level":"info","message":"http_request_completed","requestId":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":24,"contentLength":"267","template":"unknown","session":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"619f6eae-85f4-4e6c-86c5-ed6c2c08991b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.211Z","level":"info","message":"http_request_received","requestId":"a721543c-1852-48fa-bdff-36313774f29e","method":"POST","path":"/api/process-cv","template":"unknown","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.212Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.213Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.214Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.215Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.217Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/a721543c-1852-48fa-bdff-36313774f29e/incoming/original.pdf","chunks":1,"timestamp":1764855367219}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/a721543c-1852-48fa-bdff-36313774f29e/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/a721543c-1852-48fa-bdff-36313774f29e/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:07.220Z","level":"info","message":"process_cv_started","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","manualJobDescriptionProvided":true,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.221Z","level":"info","message":"template_selection","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.221Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.227Z","level":"info","message":"initial_upload_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","bucket":"test-bucket","key":"cv/candidate/a721543c-1852-48fa-bdff-36313774f29e/incoming/original.pdf","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.227Z","level":"info","message":"resume_text_extracted","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","characters":57,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.227Z","level":"info","message":"resume_classified","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.228Z","level":"info","message":"raw_upload_relocated","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","bucket":"test-bucket","fromKey":"cv/candidate/a721543c-1852-48fa-bdff-36313774f29e/incoming/original.pdf","toKey":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/original.pdf","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.228Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","bucket":"test-bucket","key":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/original.pdf","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.228Z","level":"info","message":"dynamo_initial_record_written","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","bucket":"test-bucket","key":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/original.pdf","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.228Z","level":"info","message":"upload_metadata_written","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","bucket":"test-bucket","key":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/logs/log.json","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.229Z","level":"info","message":"job_description_supplied_manually","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","characters":174,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.229Z","level":"info","message":"job_description_analyzed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","jobTitle":"","jobSkills":5,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.230Z","level":"info","message":"resume_skills_analyzed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.230Z","level":"info","message":"llm_call_metrics","requestId":"a721543c-1852-48fa-bdff-36313774f29e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.231Z","level":"info","message":"process_cv_scoring_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.233Z","level":"info","message":"llm_call_metrics","requestId":"a721543c-1852-48fa-bdff-36313774f29e","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.233Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.234Z","level":"info","message":"llm_call_metrics","requestId":"a721543c-1852-48fa-bdff-36313774f29e","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.236Z","level":"info","message":"generation_resume_verified","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.238Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.244Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.250Z","level":"info","message":"generation_cover_letters_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","variants":2,"fallbackApplied":true,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.250Z","level":"info","message":"pdf_generation_attempt","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/enhanced_modern.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.251Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.251Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/enhanced_modern.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.252Z","level":"info","message":"pdf_generation_attempt","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/enhanced_professional.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.252Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.252Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/enhanced_professional.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.253Z","level":"info","message":"pdf_generation_attempt","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/cover_letter_cover_modern.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.253Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.254Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/cover_letter_cover_modern.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.254Z","level":"info","message":"pdf_generation_attempt","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/cover_letter_cover_professional.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.255Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.255Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/a721543c-1852-48fa-bdff-36313774f29e/cover_letter_cover_professional.pdf","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.257Z","level":"info","message":"llm_call_metrics","requestId":"a721543c-1852-48fa-bdff-36313774f29e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.257Z","level":"info","message":"generation_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","generationRunId":"a721543c-1852-48fa-bdff-36313774f29e","enhancedScore":80,"outputs":5,"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.258Z","level":"info","message":"placeholder_record_deleted","requestId":"a721543c-1852-48fa-bdff-36313774f29e","jobId":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","placeholderIdentifier":"a721543c-1852-48fa-bdff-36313774f29e","template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"42ec49ba-e8be-4896-9a1a-d33c39962cbe","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.259Z","level":"info","message":"http_request_completed","requestId":"a721543c-1852-48fa-bdff-36313774f29e","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":48,"contentLength":"58133","template":"unknown","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a721543c-1852-48fa-bdff-36313774f29e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.262Z","level":"info","message":"http_request_received","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","method":"POST","path":"/api/process-cv","template":"unknown","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.263Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.264Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.265Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.267Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.268Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/incoming/original.pdf","chunks":5,"timestamp":1764855367271}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:07.278Z","level":"info","message":"process_cv_started","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","manualJobDescriptionProvided":true,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.278Z","level":"info","message":"template_selection","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.279Z","level":"info","message":"initial_upload_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","bucket":"test-bucket","key":"cv/candidate/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/incoming/original.pdf","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.279Z","level":"info","message":"resume_text_extracted","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","characters":9,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.281Z","level":"info","message":"document_classification_ai_metrics","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.295Z","level":"info","message":"resume_classified","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.295Z","level":"info","message":"raw_upload_relocated","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","bucket":"test-bucket","fromKey":"cv/candidate/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/incoming/original.pdf","toKey":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original.docx","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.295Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","bucket":"test-bucket","key":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original.docx","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.296Z","level":"info","message":"dynamo_initial_record_written","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","bucket":"test-bucket","key":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original.docx","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.296Z","level":"info","message":"upload_metadata_written","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","bucket":"test-bucket","key":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/logs/log.json","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.296Z","level":"info","message":"job_description_supplied_manually","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","characters":174,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.297Z","level":"info","message":"job_description_analyzed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","jobTitle":"","jobSkills":5,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.297Z","level":"info","message":"resume_skills_analyzed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.298Z","level":"info","message":"llm_call_metrics","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.298Z","level":"info","message":"process_cv_scoring_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.300Z","level":"info","message":"llm_call_metrics","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.300Z","level":"info","message":"generation_section_rewrite_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.301Z","level":"info","message":"llm_call_metrics","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.303Z","level":"info","message":"generation_resume_verified","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.306Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.312Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.317Z","level":"info","message":"generation_cover_letters_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","variants":2,"fallbackApplied":true,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.318Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","originalUploadKey":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.318Z","level":"info","message":"original_upload_pdf_generated","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","storageKey":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original/original_upload.pdf","originalUploadKey":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/original.docx","originalUploadExtension":".docx","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.319Z","level":"info","message":"pdf_generation_attempt","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/enhanced_modern.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.319Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.320Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/enhanced_modern.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.320Z","level":"info","message":"pdf_generation_attempt","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/enhanced_professional.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.320Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.321Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/enhanced_professional.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.321Z","level":"info","message":"pdf_generation_attempt","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/cover_letter_cover_modern.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.321Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.322Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/cover_letter_cover_modern.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.322Z","level":"info","message":"pdf_generation_attempt","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/cover_letter_cover_professional.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.323Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.323Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/54a1ed82-3a17-4559-83b6-a10e4d0a5c8a/cover_letter_cover_professional.pdf","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.325Z","level":"info","message":"llm_call_metrics","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.326Z","level":"info","message":"generation_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","generationRunId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","enhancedScore":80,"outputs":6,"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.327Z","level":"info","message":"placeholder_record_deleted","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","jobId":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","placeholderIdentifier":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d9f1fc59-ccf6-40be-8134-e8b3835e29dc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.328Z","level":"info","message":"http_request_completed","requestId":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":66,"contentLength":"58696","template":"unknown","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54a1ed82-3a17-4559-83b6-a10e4d0a5c8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.330Z","level":"info","message":"http_request_received","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","method":"POST","path":"/api/process-cv","template":"unknown","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.331Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.333Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.334Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.335Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.337Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/incoming/original.pdf","chunks":33,"timestamp":1764855367345}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:36:07.347Z","level":"info","message":"process_cv_started","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","manualJobDescriptionProvided":true,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.348Z","level":"info","message":"template_selection","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.348Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.354Z","level":"info","message":"initial_upload_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","bucket":"test-bucket","key":"cv/candidate/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/incoming/original.pdf","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.355Z","level":"info","message":"resume_text_extracted","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","characters":57,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.355Z","level":"info","message":"resume_classified","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.355Z","level":"info","message":"raw_upload_relocated","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","bucket":"test-bucket","fromKey":"cv/candidate/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/incoming/original.pdf","toKey":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/original.pdf","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.356Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","bucket":"test-bucket","key":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/original.pdf","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.356Z","level":"info","message":"dynamo_initial_record_written","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","bucket":"test-bucket","key":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/original.pdf","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.356Z","level":"info","message":"upload_metadata_written","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","bucket":"test-bucket","key":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/logs/log.json","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.356Z","level":"info","message":"job_description_supplied_manually","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","characters":174,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.357Z","level":"info","message":"job_description_analyzed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","jobTitle":"","jobSkills":5,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.357Z","level":"info","message":"resume_skills_analyzed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.358Z","level":"info","message":"llm_call_metrics","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.358Z","level":"info","message":"process_cv_scoring_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.361Z","level":"info","message":"llm_call_metrics","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.361Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.361Z","level":"info","message":"llm_call_metrics","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.363Z","level":"info","message":"generation_resume_verified","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.366Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.372Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.377Z","level":"info","message":"generation_cover_letters_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","variants":2,"fallbackApplied":true,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.378Z","level":"info","message":"pdf_generation_attempt","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/enhanced_modern.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.378Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.379Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/enhanced_modern.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.379Z","level":"info","message":"pdf_generation_attempt","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/enhanced_professional.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.379Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.380Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/enhanced_professional.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.381Z","level":"info","message":"pdf_generation_attempt","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/cover_letter_cover_modern.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.381Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.382Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/cover_letter_cover_modern.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.383Z","level":"info","message":"pdf_generation_attempt","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/cover_letter_cover_professional.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.383Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.384Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/8de6e6a6-7d73-414c-9619-5a624b0a9e8d/cover_letter_cover_professional.pdf","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.386Z","level":"info","message":"llm_call_metrics","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.386Z","level":"info","message":"generation_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","generationRunId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","enhancedScore":80,"outputs":5,"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.387Z","level":"info","message":"placeholder_record_deleted","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","jobId":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","placeholderIdentifier":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8b7776a0-bde0-4c5f-9f4a-f8f47abee875","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.388Z","level":"info","message":"http_request_completed","requestId":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":58,"contentLength":"58133","template":"unknown","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8de6e6a6-7d73-414c-9619-5a624b0a9e8d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.393Z","level":"info","message":"http_request_received","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","method":"POST","path":"/api/process-cv","template":"unknown","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.394Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.396Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.397Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.398Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.400Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9d6d8694-e3f0-4eee-a853-70f62c67a810/incoming/original.pdf","chunks":83,"timestamp":1764855367407}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":54}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9d6d8694-e3f0-4eee-a853-70f62c67a810/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9d6d8694-e3f0-4eee-a853-70f62c67a810/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":57}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.465Z","level":"info","message":"process_cv_started","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","manualJobDescriptionProvided":true,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.465Z","level":"info","message":"template_selection","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.466Z","level":"info","message":"initial_upload_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","bucket":"test-bucket","key":"cv/candidate/9d6d8694-e3f0-4eee-a853-70f62c67a810/incoming/original.pdf","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.466Z","level":"info","message":"resume_text_extracted","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","characters":9,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.467Z","level":"info","message":"document_classification_ai_metrics","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.467Z","level":"info","message":"resume_classified","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.468Z","level":"info","message":"raw_upload_relocated","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","bucket":"test-bucket","fromKey":"cv/candidate/9d6d8694-e3f0-4eee-a853-70f62c67a810/incoming/original.pdf","toKey":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original.docx","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.468Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","bucket":"test-bucket","key":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original.docx","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.469Z","level":"info","message":"dynamo_initial_record_written","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","bucket":"test-bucket","key":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original.docx","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.469Z","level":"info","message":"upload_metadata_written","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","bucket":"test-bucket","key":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/logs/log.json","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.469Z","level":"info","message":"job_description_supplied_manually","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","characters":174,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.470Z","level":"info","message":"job_description_analyzed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","jobTitle":"","jobSkills":5,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.470Z","level":"info","message":"resume_skills_analyzed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.471Z","level":"info","message":"llm_call_metrics","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.472Z","level":"info","message":"process_cv_scoring_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.474Z","level":"info","message":"llm_call_metrics","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.474Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.475Z","level":"info","message":"llm_call_metrics","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.477Z","level":"info","message":"generation_resume_verified","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.482Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.488Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.494Z","level":"info","message":"generation_cover_letters_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","variants":2,"fallbackApplied":true,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.495Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","originalUploadKey":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.495Z","level":"info","message":"original_upload_pdf_generated","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","storageKey":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original/original_upload.pdf","originalUploadKey":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/original.docx","originalUploadExtension":".docx","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.496Z","level":"info","message":"pdf_generation_attempt","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/enhanced_modern.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.496Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.497Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/enhanced_modern.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.497Z","level":"info","message":"pdf_generation_attempt","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/enhanced_professional.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.498Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.499Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/enhanced_professional.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.500Z","level":"info","message":"pdf_generation_attempt","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/cover_letter_cover_modern.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.501Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.501Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/cover_letter_cover_modern.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.502Z","level":"info","message":"pdf_generation_attempt","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/cover_letter_cover_professional.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.502Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.503Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/9d6d8694-e3f0-4eee-a853-70f62c67a810/cover_letter_cover_professional.pdf","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.505Z","level":"info","message":"llm_call_metrics","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.506Z","level":"info","message":"generation_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","generationRunId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","enhancedScore":80,"outputs":6,"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.507Z","level":"info","message":"placeholder_record_deleted","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","jobId":"65290246-786b-4d6a-82cd-9d18a84b355d","placeholderIdentifier":"9d6d8694-e3f0-4eee-a853-70f62c67a810","template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"65290246-786b-4d6a-82cd-9d18a84b355d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.508Z","level":"info","message":"http_request_completed","requestId":"9d6d8694-e3f0-4eee-a853-70f62c67a810","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":115,"contentLength":"58696","template":"unknown","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9d6d8694-e3f0-4eee-a853-70f62c67a810","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.512Z","level":"info","message":"http_request_received","requestId":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","method":"POST","path":"/api/process-cv","template":"unknown","session":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.513Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.514Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.515Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.517Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.519Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d99dd0a8-f55a-49de-8d9e-1a58ad552f6f/incoming/original.pdf","chunks":82,"timestamp":1764855367529}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d99dd0a8-f55a-49de-8d9e-1a58ad552f6f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d99dd0a8-f55a-49de-8d9e-1a58ad552f6f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.532Z","level":"warn","message":"resume_upload_failed","requestId":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","jobId":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:24780:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.538Z","level":"warn","message":"api_error_response","requestId":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","jobId":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","jobId":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47"},"template":"unknown","session":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ffdb397b-40bd-4f29-8813-a2bf3ae31b47","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at respond (server.js:24788:9)
      at server.js:24792:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.545Z","level":"info","message":"http_request_completed","requestId":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":33,"contentLength":"215","template":"unknown","session":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d99dd0a8-f55a-49de-8d9e-1a58ad552f6f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.550Z","level":"info","message":"http_request_received","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","method":"POST","path":"/api/process-cv","template":"unknown","session":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.551Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.552Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.554Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.555Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.557Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/incoming/original.pdf","chunks":1,"timestamp":1764855367559}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.561Z","level":"info","message":"process_cv_started","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","manualJobDescriptionProvided":true,"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.561Z","level":"info","message":"template_selection","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.562Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.568Z","level":"info","message":"initial_upload_completed","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","bucket":"test-bucket","key":"cv/candidate/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/incoming/original.pdf","template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.568Z","level":"info","message":"resume_text_extracted","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","characters":70,"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.569Z","level":"info","message":"document_classification_ai_metrics","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.569Z","level":"info","message":"resume_classified","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.570Z","level":"warn","message":"resume_validation_failed","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/an-invoice-0a0cb238-a7c8-4336-bf49-a3330672eecb.pdf","classification":"an invoice","template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.575Z","level":"warn","message":"api_error_response","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/an-invoice-0a0cb238-a7c8-4336-bf49-a3330672eecb.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117/an-invoice-0a0cb238-a7c8-4336-bf49-a3330672eecb.pdf"},"requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","jobId":"14e35178-aa76-44b7-9c73-2c8a0b84abb9"},"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14e35178-aa76-44b7-9c73-2c8a0b84abb9","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.581Z","level":"info","message":"http_request_completed","requestId":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":31,"contentLength":"871","template":"unknown","session":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"093eb8b2-f5eb-4230-ad1b-fcaf6b4eb117","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.586Z","level":"info","message":"http_request_received","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","method":"POST","path":"/api/process-cv","template":"unknown","session":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.587Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.589Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.590Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.592Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.594Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/incoming/original.pdf","chunks":1,"timestamp":1764855367596}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.600Z","level":"info","message":"process_cv_started","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","manualJobDescriptionProvided":true,"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.600Z","level":"info","message":"template_selection","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.601Z","level":"info","message":"initial_upload_completed","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","bucket":"test-bucket","key":"cv/candidate/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/incoming/original.pdf","template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.601Z","level":"info","message":"resume_text_extracted","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","characters":52,"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.602Z","level":"info","message":"document_classification_ai_metrics","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.603Z","level":"info","message":"resume_classified","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.603Z","level":"warn","message":"resume_validation_failed","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/a-short-memo-ee3a4a21-56c7-4ac2-99e4-943634c81aeb.docx","classification":"a short memo","template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25667:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.609Z","level":"warn","message":"api_error_response","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/a-short-memo-ee3a4a21-56c7-4ac2-99e4-943634c81aeb.docx","invalidStorageKey":"invalid/candidate/2025-12-04/5c482dbd-784e-46e8-91ed-c5edb5aa83d1/a-short-memo-ee3a4a21-56c7-4ac2-99e4-943634c81aeb.docx"},"requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","jobId":"49d90126-8fe0-4d48-bead-ce42baac89d3"},"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"49d90126-8fe0-4d48-bead-ce42baac89d3","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25742:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.615Z","level":"info","message":"http_request_completed","requestId":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"748","template":"unknown","session":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5c482dbd-784e-46e8-91ed-c5edb5aa83d1","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.617Z","level":"info","message":"http_request_received","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","method":"POST","path":"/api/process-cv","template":"unknown","session":"d6d8cbff-14de-426f-ac17-96abd997a151","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6d8cbff-14de-426f-ac17-96abd997a151","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.618Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.620Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.621Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.623Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.626Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d6d8cbff-14de-426f-ac17-96abd997a151/incoming/original.pdf","chunks":1,"timestamp":1764855367631}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d6d8cbff-14de-426f-ac17-96abd997a151/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d6d8cbff-14de-426f-ac17-96abd997a151/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.633Z","level":"info","message":"process_cv_started","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","jobId":"14deea6d-776f-46da-bfc3-53defe6d66d6","manualJobDescriptionProvided":false,"template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.634Z","level":"info","message":"template_selection","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","jobId":"14deea6d-776f-46da-bfc3-53defe6d66d6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.634Z","level":"warn","message":"job_description_missing","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","jobId":"14deea6d-776f-46da-bfc3-53defe6d66d6","template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25096:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.640Z","level":"warn","message":"api_error_response","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","jobId":"14deea6d-776f-46da-bfc3-53defe6d66d6","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","jobId":"14deea6d-776f-46da-bfc3-53defe6d66d6"},"template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"14deea6d-776f-46da-bfc3-53defe6d66d6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:25097:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.647Z","level":"info","message":"http_request_completed","requestId":"d6d8cbff-14de-426f-ac17-96abd997a151","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":30,"contentLength":"244","template":"unknown","session":"d6d8cbff-14de-426f-ac17-96abd997a151","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6d8cbff-14de-426f-ac17-96abd997a151","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.650Z","level":"info","message":"http_request_received","requestId":"6993e499-1572-46bc-912e-21e960345d07","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"6993e499-1572-46bc-912e-21e960345d07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6993e499-1572-46bc-912e-21e960345d07","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.651Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.653Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.654Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.656Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.657Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.660Z","level":"warn","message":"api_error_response","requestId":"6993e499-1572-46bc-912e-21e960345d07","jobId":"202dca50-28d0-4090-8e3d-d5bf67ab0a33","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"6993e499-1572-46bc-912e-21e960345d07","jobId":"202dca50-28d0-4090-8e3d-d5bf67ab0a33"},"template":"unknown","session":"202dca50-28d0-4090-8e3d-d5bf67ab0a33","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"202dca50-28d0-4090-8e3d-d5bf67ab0a33","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at sendError (server.js:3964:3)
      at server.js:22506:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16417:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4952:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1186:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1521:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4934:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4928:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:36:07.672Z","level":"info","message":"http_request_completed","requestId":"6993e499-1572-46bc-912e-21e960345d07","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":22,"contentLength":"225","template":"unknown","session":"6993e499-1572-46bc-912e-21e960345d07","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6993e499-1572-46bc-912e-21e960345d07","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.675Z","level":"info","message":"http_request_received","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.676Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.677Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.678Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.680Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.681Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.682Z","level":"warn","message":"generation_job_context_missing","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.691Z","level":"info","message":"llm_call_metrics","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.691Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.694Z","level":"info","message":"generation_resume_verified","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.697Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.703Z","level":"info","message":"generation_cover_letters_completed","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","variants":2,"fallbackApplied":true,"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.704Z","level":"info","message":"pdf_generation_attempt","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/enhanced_modern.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.704Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.705Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/enhanced_modern.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.705Z","level":"info","message":"pdf_generation_attempt","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/enhanced_professional.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.706Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.706Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/enhanced_professional.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.706Z","level":"info","message":"pdf_generation_attempt","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/cover_letter_cover_modern.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.707Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.707Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/cover_letter_cover_modern.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.708Z","level":"info","message":"pdf_generation_attempt","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/cover_letter_cover_professional.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.708Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.709Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/d32e8ccb-2cf3-48ef-a72e-341e4b36447e/cover_letter_cover_professional.pdf","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.711Z","level":"info","message":"llm_call_metrics","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.711Z","level":"info","message":"generation_completed","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","enhancedScore":0,"outputs":4,"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.713Z","level":"info","message":"http_request_completed","requestId":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":38,"contentLength":"55422","template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d32e8ccb-2cf3-48ef-a72e-341e4b36447e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.718Z","level":"info","message":"http_request_received","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.719Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.721Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.722Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.723Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.724Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.725Z","level":"warn","message":"generation_job_context_missing","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.736Z","level":"info","message":"llm_call_metrics","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.736Z","level":"info","message":"generation_section_rewrite_completed","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.740Z","level":"info","message":"generation_resume_verified","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.750Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.756Z","level":"info","message":"generation_cover_letters_completed","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","variants":2,"fallbackApplied":true,"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.757Z","level":"info","message":"pdf_generation_attempt","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/enhanced_modern.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.759Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/enhanced_modern.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.759Z","level":"info","message":"pdf_generation_attempt","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/enhanced_professional.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.760Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.760Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/enhanced_professional.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.761Z","level":"info","message":"pdf_generation_attempt","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/cover_letter_cover_modern.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.761Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.761Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/cover_letter_cover_modern.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.762Z","level":"info","message":"pdf_generation_attempt","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/cover_letter_cover_professional.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.762Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.763Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/547fc2d0-5842-474f-afa8-f4e58c3cb601/cover_letter_cover_professional.pdf","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.767Z","level":"info","message":"llm_call_metrics","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.769Z","level":"info","message":"generation_completed","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","enhancedScore":0,"outputs":4,"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.771Z","level":"info","message":"http_request_completed","requestId":"547fc2d0-5842-474f-afa8-f4e58c3cb601","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":53,"contentLength":"60025","template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"547fc2d0-5842-474f-afa8-f4e58c3cb601","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.776Z","level":"info","message":"http_request_received","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.777Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.778Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.780Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.781Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.782Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.784Z","level":"warn","message":"generation_job_context_missing","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.792Z","level":"info","message":"llm_call_metrics","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.792Z","level":"info","message":"generation_section_rewrite_completed","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.795Z","level":"info","message":"generation_resume_verified","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.800Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.806Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","missing":["cover_letter1"],"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.811Z","level":"info","message":"generation_cover_letters_completed","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","variants":2,"fallbackApplied":true,"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.812Z","level":"info","message":"pdf_generation_attempt","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/enhanced_modern.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.812Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.813Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/enhanced_modern.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.813Z","level":"info","message":"pdf_generation_attempt","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/enhanced_professional.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.814Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.814Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/enhanced_professional.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.815Z","level":"info","message":"pdf_generation_attempt","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/cover_letter_cover_modern.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.815Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.817Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/cover_letter_cover_modern.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.817Z","level":"info","message":"pdf_generation_attempt","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/cover_letter_cover_professional.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.818Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.818Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/8a247bad-a39e-4f8c-a3fd-c5099eba0a55/cover_letter_cover_professional.pdf","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.821Z","level":"info","message":"llm_call_metrics","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.822Z","level":"info","message":"generation_completed","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","enhancedScore":0,"outputs":4,"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.824Z","level":"info","message":"http_request_completed","requestId":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":48,"contentLength":"52626","template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8a247bad-a39e-4f8c-a3fd-c5099eba0a55","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.827Z","level":"info","message":"http_request_received","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.828Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.829Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.830Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.832Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.833Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.834Z","level":"warn","message":"generation_job_context_missing","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.842Z","level":"info","message":"llm_call_metrics","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.842Z","level":"info","message":"generation_section_rewrite_completed","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.845Z","level":"info","message":"generation_resume_verified","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.848Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.854Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","variants":["cover_letter1"],"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.856Z","level":"info","message":"generation_cover_letters_completed","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","variants":2,"fallbackApplied":true,"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.856Z","level":"info","message":"pdf_generation_attempt","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/enhanced_modern.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.857Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.857Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/enhanced_modern.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.858Z","level":"info","message":"pdf_generation_attempt","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/enhanced_professional.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.858Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.858Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/enhanced_professional.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.859Z","level":"info","message":"pdf_generation_attempt","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/cover_letter_cover_modern.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.859Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.861Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/cover_letter_cover_modern.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.861Z","level":"info","message":"pdf_generation_attempt","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/cover_letter_cover_professional.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.862Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.862Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/64d4483f-410f-4894-b5ba-9823e671eed4/cover_letter_cover_professional.pdf","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.865Z","level":"info","message":"llm_call_metrics","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.866Z","level":"info","message":"generation_completed","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"64d4483f-410f-4894-b5ba-9823e671eed4","enhancedScore":0,"outputs":4,"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.868Z","level":"info","message":"http_request_completed","requestId":"64d4483f-410f-4894-b5ba-9823e671eed4","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"48347","template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"64d4483f-410f-4894-b5ba-9823e671eed4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.871Z","level":"info","message":"http_request_received","requestId":"ca50c221-183a-463e-800b-45b62605f047","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.872Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.873Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.874Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.876Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.876Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.877Z","level":"warn","message":"generation_job_context_missing","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.885Z","level":"info","message":"llm_call_metrics","requestId":"ca50c221-183a-463e-800b-45b62605f047","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.886Z","level":"info","message":"generation_section_rewrite_completed","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.889Z","level":"info","message":"generation_resume_verified","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.904Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:36:07.910Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.916Z","level":"info","message":"generation_cover_letters_completed","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","variants":2,"fallbackApplied":true,"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.917Z","level":"info","message":"pdf_generation_attempt","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/enhanced_modern.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.917Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.918Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/enhanced_modern.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.918Z","level":"info","message":"pdf_generation_attempt","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/enhanced_professional.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.919Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.919Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/enhanced_professional.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.920Z","level":"info","message":"pdf_generation_attempt","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/cover_letter_cover_modern.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.920Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.920Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/cover_letter_cover_modern.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.921Z","level":"info","message":"pdf_generation_attempt","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/cover_letter_cover_professional.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.921Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.922Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/ca50c221-183a-463e-800b-45b62605f047/cover_letter_cover_professional.pdf","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.928Z","level":"info","message":"llm_call_metrics","requestId":"ca50c221-183a-463e-800b-45b62605f047","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.929Z","level":"info","message":"generation_completed","requestId":"ca50c221-183a-463e-800b-45b62605f047","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"ca50c221-183a-463e-800b-45b62605f047","enhancedScore":0,"outputs":4,"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.931Z","level":"info","message":"http_request_completed","requestId":"ca50c221-183a-463e-800b-45b62605f047","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":60,"contentLength":"60025","template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ca50c221-183a-463e-800b-45b62605f047","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.933Z","level":"info","message":"http_request_received","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.934Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.936Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.937Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.938Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:07.939Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.940Z","level":"warn","message":"generation_job_context_missing","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22698:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.947Z","level":"info","message":"llm_call_metrics","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.947Z","level":"info","message":"generation_section_rewrite_completed","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.949Z","level":"info","message":"generation_resume_verified","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:07.951Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20741:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:07.958Z","level":"info","message":"generation_cover_letters_completed","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","variants":0,"fallbackApplied":false,"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.959Z","level":"info","message":"pdf_generation_attempt","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/enhanced_modern.pdf","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.960Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.960Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/enhanced_modern.pdf","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.960Z","level":"info","message":"pdf_generation_attempt","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/enhanced_professional.pdf","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.961Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.961Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/90d6d833-75f4-4b54-bfb7-20f66c5976b0/enhanced_professional.pdf","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.963Z","level":"info","message":"llm_call_metrics","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.963Z","level":"info","message":"generation_completed","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","enhancedScore":0,"outputs":2,"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:07.965Z","level":"info","message":"http_request_completed","requestId":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":32,"contentLength":"32129","template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"90d6d833-75f4-4b54-bfb7-20f66c5976b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.043Z","level":"info","message":"http_request_received","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.044Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.046Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.047Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.051Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.052Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:08.058Z","level":"warn","message":"generation_change_log_load_failed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22764:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:22766:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.066Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.071Z","level":"info","message":"llm_call_metrics","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.076Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.077Z","level":"info","message":"llm_call_metrics","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.079Z","level":"info","message":"generation_resume_verified","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:08.085Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20535:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.warn
    {"timestamp":"2025-12-04T13:36:08.094Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:23001:28

  console.log
    {"timestamp":"2025-12-04T13:36:08.102Z","level":"info","message":"generation_cover_letters_completed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","variants":2,"fallbackApplied":true,"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.103Z","level":"info","message":"pdf_generation_attempt","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.104Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.104Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.105Z","level":"info","message":"pdf_generation_attempt","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.105Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.106Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.106Z","level":"info","message":"pdf_generation_attempt","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.107Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.108Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.109Z","level":"info","message":"pdf_generation_attempt","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.109Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.110Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.112Z","level":"info","message":"llm_call_metrics","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.112Z","level":"info","message":"generation_completed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"c7186ca8-f050-455f-975b-e34c59837e70","enhancedScore":0,"outputs":5,"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.114Z","level":"info","message":"http_request_completed","requestId":"c7186ca8-f050-455f-975b-e34c59837e70","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":71,"contentLength":"50998","template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c7186ca8-f050-455f-975b-e34c59837e70","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.119Z","level":"info","message":"http_request_received","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","method":"POST","path":"/api/process-cv","template":"unknown","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.120Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.121Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.123Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.124Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.126Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/024e2049-7952-4fc5-92d2-a9270421b0da/incoming/original.pdf","chunks":1,"timestamp":1764855368129}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/024e2049-7952-4fc5-92d2-a9270421b0da/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/024e2049-7952-4fc5-92d2-a9270421b0da/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.130Z","level":"info","message":"process_cv_started","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","manualJobDescriptionProvided":true,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.131Z","level":"info","message":"template_selection","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:08.132Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at server.js:25132:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24772:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:36:08.138Z","level":"info","message":"initial_upload_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","bucket":"test-bucket","key":"cv/candidate/024e2049-7952-4fc5-92d2-a9270421b0da/incoming/original.pdf","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.138Z","level":"info","message":"resume_text_extracted","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","characters":57,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.139Z","level":"info","message":"resume_classified","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.139Z","level":"info","message":"raw_upload_relocated","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","bucket":"test-bucket","fromKey":"cv/candidate/024e2049-7952-4fc5-92d2-a9270421b0da/incoming/original.pdf","toKey":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/original.pdf","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.140Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","bucket":"test-bucket","key":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/original.pdf","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.140Z","level":"info","message":"dynamo_initial_record_written","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","bucket":"test-bucket","key":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/original.pdf","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.140Z","level":"info","message":"upload_metadata_written","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","bucket":"test-bucket","key":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/logs/log.json","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.141Z","level":"info","message":"job_description_supplied_manually","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","characters":174,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.141Z","level":"info","message":"job_description_analyzed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","jobTitle":"","jobSkills":5,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.142Z","level":"info","message":"resume_skills_analyzed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.142Z","level":"info","message":"llm_call_metrics","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.143Z","level":"info","message":"process_cv_scoring_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.145Z","level":"info","message":"llm_call_metrics","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.146Z","level":"info","message":"generation_section_rewrite_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.151Z","level":"info","message":"generation_resume_verified","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:36:08.156Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generateEnhancedDocumentsResponse (server.js:20724:7)
          at runMicrotasks (<anonymous>)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:08.163Z","level":"info","message":"generation_cover_letters_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","variants":2,"fallbackApplied":true,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.164Z","level":"info","message":"pdf_generation_attempt","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_modern.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.164Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:36:08.166Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3360:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21302:11)
      at server.js:26731:28

  console.log
    {"timestamp":"2025-12-04T13:36:08.172Z","level":"info","message":"pdf_generation_attempt","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.173Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.174Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.174Z","level":"info","message":"pdf_generation_attempt","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.175Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.175Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/enhanced_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.176Z","level":"info","message":"pdf_generation_attempt","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/cover_letter_cover_modern.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.176Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.177Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/cover_letter_cover_modern.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.177Z","level":"info","message":"pdf_generation_attempt","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/cover_letter_cover_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.178Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.178Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/024e2049-7952-4fc5-92d2-a9270421b0da/cover_letter_cover_professional.pdf","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.180Z","level":"info","message":"llm_call_metrics","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.181Z","level":"info","message":"generation_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","generationRunId":"024e2049-7952-4fc5-92d2-a9270421b0da","enhancedScore":80,"outputs":5,"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.182Z","level":"info","message":"placeholder_record_deleted","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","jobId":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","placeholderIdentifier":"024e2049-7952-4fc5-92d2-a9270421b0da","template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"50c9774e-b72e-40c8-a1ea-ef8532f9dbf6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.183Z","level":"info","message":"http_request_completed","requestId":"024e2049-7952-4fc5-92d2-a9270421b0da","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"59519","template":"unknown","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"024e2049-7952-4fc5-92d2-a9270421b0da","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.185Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.186Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:36:08.187Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3465:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3479:20)

  console.log
    {"timestamp":"2025-12-04T13:36:08.192Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.193Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.193Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.193Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.194Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.195Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:36:08.195Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3504:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3508:20)

  console.log
    {"timestamp":"2025-12-04T13:36:08.202Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.203Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.203Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.204Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.204Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:36:08.205Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3526:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3539:20)

  console.log
    {"timestamp":"2025-12-04T13:36:08.210Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.211Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.211Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.212Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.212Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:36:08.214Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3557:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11008:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.warn
    {"timestamp":"2025-12-04T13:36:08.221Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11152:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:36:08.227Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9788:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11156:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11201:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:36:08.233Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11222:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3559:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9788:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11156:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11245:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.error
    {"timestamp":"2025-12-04T13:36:08.239Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3562:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11222:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3594:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3453 |     const safePayload = sanitizeLogPayload(payload);
      3454 |     const serialised = JSON.stringify(safePayload);
    > 3455 |     logFn(serialised);
           |     ^
      3456 |     if (level === 'error') {
      3457 |       scheduleErrorLog(safePayload);
      3458 |     }

      at logStructured (server.js:3455:5)
      at generatePdfWithFallback (server.js:11267:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3594:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.274Z","level":"info","message":"http_request_received","requestId":"0cfd840a-e208-4182-b307-45359ddf1f5a","method":"POST","path":"/api/change-log","template":"unknown","session":"0cfd840a-e208-4182-b307-45359ddf1f5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cfd840a-e208-4182-b307-45359ddf1f5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.276Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.277Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.278Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.280Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.281Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.284Z","level":"info","message":"change_log_updated","requestId":"0cfd840a-e208-4182-b307-45359ddf1f5a","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.285Z","level":"info","message":"http_request_completed","requestId":"0cfd840a-e208-4182-b307-45359ddf1f5a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":11,"contentLength":"48197","template":"unknown","session":"0cfd840a-e208-4182-b307-45359ddf1f5a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0cfd840a-e208-4182-b307-45359ddf1f5a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.288Z","level":"info","message":"http_request_received","requestId":"bb8c1415-eadc-4d72-a6af-e9f97c836499","method":"POST","path":"/api/change-log","template":"unknown","session":"bb8c1415-eadc-4d72-a6af-e9f97c836499","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bb8c1415-eadc-4d72-a6af-e9f97c836499","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.289Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.290Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.291Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.293Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.293Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.295Z","level":"info","message":"change_log_updated","requestId":"bb8c1415-eadc-4d72-a6af-e9f97c836499","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.296Z","level":"info","message":"http_request_completed","requestId":"bb8c1415-eadc-4d72-a6af-e9f97c836499","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1958","template":"unknown","session":"bb8c1415-eadc-4d72-a6af-e9f97c836499","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bb8c1415-eadc-4d72-a6af-e9f97c836499","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.299Z","level":"info","message":"http_request_received","requestId":"e89ca075-16f4-4664-a400-ebe57952f5e6","method":"POST","path":"/api/change-log","template":"unknown","session":"e89ca075-16f4-4664-a400-ebe57952f5e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e89ca075-16f4-4664-a400-ebe57952f5e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.300Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.302Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.303Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.304Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.305Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.308Z","level":"info","message":"change_log_updated","requestId":"e89ca075-16f4-4664-a400-ebe57952f5e6","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.308Z","level":"info","message":"http_request_completed","requestId":"e89ca075-16f4-4664-a400-ebe57952f5e6","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":9,"contentLength":"6061","template":"unknown","session":"e89ca075-16f4-4664-a400-ebe57952f5e6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e89ca075-16f4-4664-a400-ebe57952f5e6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.311Z","level":"info","message":"http_request_received","requestId":"18bd4b53-d5b3-451a-b25c-f311bca08390","method":"POST","path":"/api/change-log","template":"unknown","session":"18bd4b53-d5b3-451a-b25c-f311bca08390","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18bd4b53-d5b3-451a-b25c-f311bca08390","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.312Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.313Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.315Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.316Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.317Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.318Z","level":"info","message":"change_log_updated","requestId":"18bd4b53-d5b3-451a-b25c-f311bca08390","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.319Z","level":"info","message":"http_request_completed","requestId":"18bd4b53-d5b3-451a-b25c-f311bca08390","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1213","template":"unknown","session":"18bd4b53-d5b3-451a-b25c-f311bca08390","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18bd4b53-d5b3-451a-b25c-f311bca08390","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.320Z","level":"info","message":"http_request_received","requestId":"c22446a4-3412-435d-82d4-be63701ac18b","method":"POST","path":"/api/change-log","template":"unknown","session":"c22446a4-3412-435d-82d4-be63701ac18b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c22446a4-3412-435d-82d4-be63701ac18b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.321Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.322Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.323Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.325Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.326Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.327Z","level":"info","message":"change_log_updated","requestId":"c22446a4-3412-435d-82d4-be63701ac18b","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.327Z","level":"info","message":"http_request_completed","requestId":"c22446a4-3412-435d-82d4-be63701ac18b","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"789","template":"unknown","session":"c22446a4-3412-435d-82d4-be63701ac18b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c22446a4-3412-435d-82d4-be63701ac18b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.330Z","level":"info","message":"http_request_received","requestId":"7098fe80-1be9-44ac-b567-0e2764792730","method":"POST","path":"/api/change-log","template":"unknown","session":"7098fe80-1be9-44ac-b567-0e2764792730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7098fe80-1be9-44ac-b567-0e2764792730","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.331Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.332Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.334Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.335Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.336Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.337Z","level":"info","message":"change_log_updated","requestId":"7098fe80-1be9-44ac-b567-0e2764792730","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.337Z","level":"info","message":"http_request_completed","requestId":"7098fe80-1be9-44ac-b567-0e2764792730","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":7,"contentLength":"350","template":"unknown","session":"7098fe80-1be9-44ac-b567-0e2764792730","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7098fe80-1be9-44ac-b567-0e2764792730","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.339Z","level":"info","message":"http_request_received","requestId":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","method":"POST","path":"/api/change-log","template":"unknown","session":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.340Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.341Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.343Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.344Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.345Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.347Z","level":"info","message":"change_log_updated","requestId":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.347Z","level":"info","message":"http_request_completed","requestId":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"1151","template":"unknown","session":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d26e2247-c5c6-454c-b1f1-b6a93e18ada6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.349Z","level":"info","message":"http_request_received","requestId":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","method":"POST","path":"/api/change-log","template":"unknown","session":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.350Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.352Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.353Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.354Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.355Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.356Z","level":"info","message":"change_log_updated","requestId":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.357Z","level":"info","message":"http_request_completed","requestId":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"596","template":"unknown","session":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6a60184-a92a-40d2-8690-b3ae65c1a9c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.360Z","level":"info","message":"http_request_received","requestId":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","method":"POST","path":"/api/change-log","template":"unknown","session":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.361Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.362Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.363Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.364Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.365Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

  console.log
    {"timestamp":"2025-12-04T13:36:08.367Z","level":"info","message":"change_log_updated","requestId":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:36:08.368Z","level":"info","message":"http_request_completed","requestId":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":8,"contentLength":"2337","template":"unknown","session":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"54e3ab2b-74b4-4a15-906d-06fdbfb6f473","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3455:5)

FAIL tests/server.test.mjs (158.463 s)
  health check
     GET /healthz (254 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (44 ms)
     serves hashed index asset from S3 when local file is missing (147 ms)
     serves hashed index asset directly from the bundled client when available (183 ms)
     strips API Gateway stage prefixes before resolving static index aliases (134 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (89 ms)
     serves the latest index asset alias via S3 when local files are unavailable (30005 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (30006 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (30004 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (30004 ms)
  static asset proxy endpoint
     serves the index alias via the local build (11 ms)
     normalizes stray punctuation in proxy asset queries (5 ms)
     strips inline alias annotations from hashed proxy asset queries (7 ms)
     falls back to S3 when the hashed bundle is unavailable locally (30002 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (10 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (6 ms)
     rejects invalid asset paths (60 ms)
  static asset manifest endpoint
     returns manifest data when available (26 ms)
     allows forcing a manifest refresh via query parameter (57 ms)
     returns 503 when manifest is unavailable (35 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (275 ms)
     removes stale session change logs when starting a new upload session (106 ms)
     removes session change log data when the session prefix is reused (72 ms)
     requires manual job description input (96 ms)
     sanitizes manual job description input before analysis (89 ms)
     rejects manual job description input containing prohibited HTML tags (31 ms)
     stores sanitized job description as session input metadata (61 ms)
     accepts uploads without a LinkedIn profile URL (57 ms)
     malformed AI response (70 ms)
     handles code-fenced JSON with extra text (71 ms)
     handles JSON surrounded by text (74 ms)
     returns presigned PDF URLs with labeled asset types (80 ms)
     returns a structured error when download URLs cannot be generated (124 ms)
     cover letter urls include structured metadata (73 ms)
     uses provided templates in preferred order (55 ms)
     uses templates array (56 ms)
     filters AI guidance lines (56 ms)
     resume prompt asks for a project matching job skills (59 ms)
     inserts project into resume text (57 ms)
     adds project section when job description provided (59 ms)
     cover letters omit placeholder sections (58 ms)
     normalizes structured cover letter responses into text (55 ms)
     uses sanitized resume fallback when AI returns plain text for versions (59 ms)
     falls back to plain PDFs when template rendering fails (228 ms)
     final CV includes updated title, project, and skills (53 ms)
     missing file (23 ms)
     unsupported file type (27 ms)
     rejects non-resume content with descriptive feedback (37 ms)
     requires re-upload when classification does not identify a CV (31 ms)
     missing job description text (32 ms)
    download link refresh
       resigns an existing artifact key for the active job (21 ms)
       returns not found when the storage key does not match the job context (14 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (51 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (68 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (62 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (119 ms)
       rejects resumes larger than 5 MB (38 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (25 ms)
     queues message when fallback cover letters are used (43 ms)
     replaces whitespace cover letters with fallback copy (58 ms)
     audits cover letters for placeholders and applies fallback (51 ms)
     replaces weak closing cover letters with confident fallback copy (43 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (62 ms)
     surfaces message when cover letters remain unavailable (33 ms)
     refreshes session artifacts when job description changes for a new enhancement (75 ms)
     refreshes session artifacts automatically when job description changes (75 ms)
     persists template vs population errors in stage metadata (67 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (9 ms)
     announces next template when fallback occurs for non-2025 resume (10 ms)
     announces actual next template when 2025 fallback prefers contrast option (7 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (34 ms)
  classifyDocument
     identifies resumes by section structure (1 ms)
     detects cover letters
     rejects job descriptions that mimic resume sections (2 ms)
  extractText
     extracts text from pdf (1 ms)
     extracts text from docx
     guides user when pdf parsing fails (18 ms)
     guides user when docx parsing fails
     extracts text from doc (3 ms)
     rejects plain text files (1 ms)
  client download labels
     App displays correct labels for each file type (2 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (14 ms)
     persists category changelog details for ATS, skills, and related sections (11 ms)
     captures rescore summary and updates session score snapshot (11 ms)
     stores session change logs under a user session prefix when no prior key exists (9 ms)
  change log session visibility
     persists reverted entries when updating the change log (10 ms)
     stores rejected entries in the session change log dismissed list (8 ms)
     persists cover letter change log payloads to S3 (10 ms)
     removing a cover letter entry records dismissal state in S3 (10 ms)
     persists activity logs from nested payloads into the session change log (11 ms)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      307 |   });
      308 |
    > 309 |   test('serves the latest index asset alias via S3 when local files are unavailable', async () => {
          |   ^
      310 |     const cssAliasName = 'index-test-alias.css';
      311 |     const jsAliasName = 'index-test-alias.js';
      312 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"><script type="module" src="./assets/${jsAliasName}"></script></head><body></body></html>`;

      at tests/server.test.mjs:309:3
      at tests/server.test.mjs:234:1

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      377 |   });
      378 |
    > 379 |   test('serves the index asset alias via the S3 manifest when the local manifest is missing', async () => {
          |   ^
      380 |     const cssAliasName = 'index-manifest-only.css';
      381 |     const cssBody = '.manifest-only { color: #09f; }';
      382 |

      at tests/server.test.mjs:379:3
      at tests/server.test.mjs:234:1

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      445 |   });
      446 |
    > 447 |   test('serves the index asset alias when the manifest contains prefixed S3 keys', async () => {
          |   ^
      448 |     const cssAliasName = 'index-prefixed.css';
      449 |     const cssBody = '.prefixed { color: #0c0; }';
      450 |

      at tests/server.test.mjs:447:3
      at tests/server.test.mjs:234:1

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at serveIndexAssetAlias (server.js:1530:3)

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      515 |   });
      516 |
    > 517 |   test('serves the index asset alias via manifest fallback when the primary bundle is missing from S3', async () => {
          |   ^
      518 |     const cssAliasName = 'index-missing.css';
      519 |     const fallbackCssName = 'index-existing.css';
      520 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"></head><body></body></html>`;

      at tests/server.test.mjs:517:3
      at tests/server.test.mjs:234:1

   static asset proxy endpoint  serves the index alias via the local build

    RangeError: Maximum call stack size exceeded

      530 |           return manifestHtml;
      531 |         }
    > 532 |         return originalReadFile.call(fsPromises, target, ...args);
          |                                 ^
      533 |       });
      534 |
      535 |     const statSpy = jest

      at Object.<anonymous> (node_modules/jest-mock/build/index.js:336:51)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)

   static asset proxy endpoint  normalizes stray punctuation in proxy asset queries

    RangeError: Maximum call stack size exceeded

      530 |           return manifestHtml;
      531 |         }
    > 532 |         return originalReadFile.call(fsPromises, target, ...args);
          |                                 ^
      533 |       });
      534 |
      535 |     const statSpy = jest

      at Object.<anonymous> (node_modules/jest-mock/build/index.js:336:51)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)

   static asset proxy endpoint  strips inline alias annotations from hashed proxy asset queries

    RangeError: Maximum call stack size exceeded

      530 |           return manifestHtml;
      531 |         }
    > 532 |         return originalReadFile.call(fsPromises, target, ...args);
          |                                 ^
      533 |       });
      534 |
      535 |     const statSpy = jest

      at ModuleMocker._ensureMockState (node_modules/jest-mock/build/index.js:286:19)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)
      at Object.<anonymous> (tests/server.test.mjs:532:33)

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    ReferenceError: metadataConfig is not defined

      1419 |   if (await serveHashedIndexAssetFromS3({
      1420 |     assetPath: remoteHashedAssetPath,
    > 1421 |     bucket: metadataConfig.bucket,
           |             ^
      1422 |     prefix: metadataConfig.prefix,
      1423 |     res,
      1424 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1421:13)
      at server.js:19103:20

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      662 |   });
      663 |
    > 664 |   test('falls back to S3 when the hashed bundle is unavailable locally', async () => {
          |   ^
      665 |     const originalReadFile = fsPromises.readFile;
      666 |     const readFileSpy = jest
      667 |       .spyOn(fsPromises, 'readFile')

      at tests/server.test.mjs:664:3
      at tests/server.test.mjs:607:1

   static asset proxy endpoint  degrades hashed proxy requests to the index alias when upstream assets are missing

    RangeError: Maximum call stack size exceeded

      736 |         return '<html><head><link rel="stylesheet" href="/assets/index-123.css"></head><body></body></html>';
      737 |       }
    > 738 |       return originalReadFile.call(fsPromises, filePath, encoding);
          |                               ^
      739 |     });
      740 |
      741 |     const hashedCssName = await extractPrimaryCssAssetName();

      at Object.<anonymous> (node_modules/jest-mock/build/index.js:336:51)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)
      at Object.<anonymous> (tests/server.test.mjs:738:31)

   static asset proxy endpoint  degrades direct hashed asset requests to the index alias when upstream bundles are missing

    RangeError: Maximum call stack size exceeded

      783 |         return '<html><head><link rel="stylesheet" href="/assets/index-123.css"></head><body></body></html>';
      784 |       }
    > 785 |       return originalReadFile.call(fsPromises, filePath, encoding);
          |                               ^
      786 |     });
      787 |
      788 |     const hashedCssName = await extractPrimaryCssAssetName();

      at Object.<anonymous> (node_modules/jest-mock/build/index.js:336:51)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)
      at Object.<anonymous> (tests/server.test.mjs:785:31)

   /api/generate-enhanced-docs  refreshes session artifacts when job description changes for a new enhancement

    Parse Error: Expected HTTP/



Test Suites: 1 failed, 1 total
Tests:       11 failed, 79 passed, 90 total
Snapshots:   0 total
Time:        158.573 s
Ran all test suites matching /tests\/server.test.mjs/i.
Test Suites: 1 failed, 1 total
Tests:       11 failed, 79 passed, 90 total
Snapshots:   0 total
Time:        158.583 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
