
> resumeforge@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js tests/server.test.mjs

[baseline-browser-mapping] The data in this module is over two months old.  To ensure accurate Baseline data, please update: `npm i baseline-browser-mapping@latest -D`
(node:10985) ExperimentalWarning: VM Modules is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
  console.log
    {"timestamp":"2025-12-04T13:50:13.900Z","level":"info","message":"http_request_received","requestId":"a5dffc6c-94a4-449e-9f94-641b8216375d","method":"GET","path":"/healthz","template":"unknown","session":"a5dffc6c-94a4-449e-9f94-641b8216375d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5dffc6c-94a4-449e-9f94-641b8216375d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.926Z","level":"info","message":"path_restoration_debug","reqPath":"/healthz","reqUrl":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.929Z","level":"info","message":"request_received","path":"/healthz","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.933Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.935Z","level":"info","message":"client_app_routes_entered","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.939Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/healthz","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.945Z","level":"info","message":"http_request_completed","requestId":"a5dffc6c-94a4-449e-9f94-641b8216375d","method":"GET","path":"/healthz","statusCode":200,"durationMs":45,"contentLength":"15","template":"unknown","session":"a5dffc6c-94a4-449e-9f94-641b8216375d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5dffc6c-94a4-449e-9f94-641b8216375d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.956Z","level":"info","message":"http_request_received","requestId":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","method":"GET","path":"/favicon.ico","template":"unknown","session":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.958Z","level":"info","message":"path_restoration_debug","reqPath":"/favicon.ico","reqUrl":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.960Z","level":"info","message":"request_received","path":"/favicon.ico","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.962Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.964Z","level":"info","message":"client_app_routes_entered","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.967Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/favicon.ico","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.970Z","level":"info","message":"http_request_completed","requestId":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","method":"GET","path":"/favicon.ico","statusCode":204,"durationMs":14,"template":"unknown","session":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"425b18e5-dd88-4cc8-b8b4-82af2c00250a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.976Z","level":"info","message":"http_request_received","requestId":"6fdeb6eb-7532-4066-837e-14036a7c23cb","method":"GET","path":"/assets/index-missing.css","template":"unknown","session":"6fdeb6eb-7532-4066-837e-14036a7c23cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fdeb6eb-7532-4066-837e-14036a7c23cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.978Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-missing.css","reqUrl":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.980Z","level":"info","message":"request_received","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.981Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.983Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:13.985Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-missing.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-missing.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 S3 returned

      at serveHashedIndexAssetFromS3 (server.js:1160:13)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=undefined resolved=undefined metadata={"Body":{"_readableState":{"objectMode":true,"highWaterMark":1,"buffer":{"head":null,"tail":null,"length":0},"length":0,"pipes":[],"flowing":null,"ended":false,"endEmitted":false,"reading":false,"constructed":true,"sync":true,"needReadable":false,"emittedReadable":false,"readableListening":false,"resumeScheduled":false,"errorEmitted":false,"emitClose":true,"autoDestroy":true,"destroyed":false,"errored":null,"closed":false,"closeEmitted":false,"defaultEncoding":"utf8","awaitDrainWriters":null,"multiAwaitDrain":false,"readingMore":false,"dataEmitted":false,"decoder":null,"encoding":null},"_events":{},"_eventsCount":0},"ContentType":"text/css","CacheControl":"public, max-age=60","ETag":"\"etag-css\""}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming body

      at serveHashedIndexAssetFromS3 (server.js:1169:13)

  console.log
    DEBUG: streamS3BodyToResponse start

      at streamS3BodyToResponse (server.js:460:11)

  console.log
    DEBUG: streamS3BodyToResponse data chunk length=18

      at Readable.<anonymous> (server.js:506:17)

  console.log
    DEBUG: streamS3BodyToResponse end fullBody length=18

      at Readable.<anonymous> (server.js:514:19)

  console.log
    {"timestamp":"2025-12-04T13:50:14.001Z","level":"info","message":"http_request_completed","requestId":"6fdeb6eb-7532-4066-837e-14036a7c23cb","method":"GET","path":"/assets/index-missing.css","statusCode":200,"durationMs":25,"contentLength":"18","template":"unknown","session":"6fdeb6eb-7532-4066-837e-14036a7c23cb","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6fdeb6eb-7532-4066-837e-14036a7c23cb","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 streaming done

      at serveHashedIndexAssetFromS3 (server.js:1172:13)

  console.log
    {"timestamp":"2025-12-04T13:50:14.002Z","level":"info","message":"client_asset_s3_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-missing.css","path":"/assets/index-missing.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.014Z","level":"info","message":"http_request_received","requestId":"03303eb4-952e-4377-bb5b-dc157322826e","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"03303eb4-952e-4377-bb5b-dc157322826e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03303eb4-952e-4377-bb5b-dc157322826e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.015Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.017Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.019Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.021Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:50:14.038Z","level":"info","message":"http_request_completed","requestId":"03303eb4-952e-4377-bb5b-dc157322826e","method":"GET","path":"/assets/index-latest.css","statusCode":200,"durationMs":24,"contentLength":"106285","template":"unknown","session":"03303eb4-952e-4377-bb5b-dc157322826e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"03303eb4-952e-4377-bb5b-dc157322826e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.040Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.043Z","level":"info","message":"http_request_received","requestId":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","method":"GET","path":"/prod/assets/index-latest.css","template":"unknown","session":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.044Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.046Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.049Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.050Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:50:14.071Z","level":"info","message":"http_request_completed","requestId":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","method":"GET","path":"/prod/assets/index-latest.css","statusCode":200,"durationMs":28,"contentLength":"106285","template":"unknown","session":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e5d5ec0-91ed-498c-974d-04bc458cb4ea","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.073Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.075Z","level":"info","message":"http_request_received","requestId":"4889b68b-ee96-4289-8465-39b49175c60e","method":"HEAD","path":"/assets/index-meta.js","template":"unknown","session":"4889b68b-ee96-4289-8465-39b49175c60e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4889b68b-ee96-4289-8465-39b49175c60e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.076Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-meta.js","reqUrl":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.078Z","level":"info","message":"request_received","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.080Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.082Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.085Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-meta.js","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-meta.js'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: applyS3ResponseHeaders ContentLength=1234 resolved=1234 metadata={"ContentType":"application/javascript","ContentLength":1234,"CacheControl":"public, max-age=31536000, immutable","ETag":"\"etag-js\"","LastModified":"2024-05-01T00:00:00.000Z"}

      at applyS3ResponseHeaders (server.js:618:11)

  console.log
    {"timestamp":"2025-12-04T13:50:14.097Z","level":"info","message":"client_asset_s3_head_served","bucket":"test-bucket","key":"static/client/test/latest/assets/index-meta.js","path":"/assets/index-meta.js","method":"HEAD","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.102Z","level":"info","message":"http_request_completed","requestId":"4889b68b-ee96-4289-8465-39b49175c60e","method":"HEAD","path":"/assets/index-meta.js","statusCode":200,"durationMs":27,"contentLength":"1234","template":"unknown","session":"4889b68b-ee96-4289-8465-39b49175c60e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4889b68b-ee96-4289-8465-39b49175c60e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.113Z","level":"info","message":"http_request_received","requestId":"55469a3a-ab27-47d6-80f8-5d67995315bc","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"55469a3a-ab27-47d6-80f8-5d67995315bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"55469a3a-ab27-47d6-80f8-5d67995315bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.116Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.121Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.123Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:14.127Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-test-alias.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:50:44.136Z","level":"info","message":"http_request_received","requestId":"be983d66-edfe-4233-b3a9-d6c09b60e399","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"be983d66-edfe-4233-b3a9-d6c09b60e399","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"be983d66-edfe-4233-b3a9-d6c09b60e399","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:44.142Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:44.145Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:44.147Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:50:44.151Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-manifest-only.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:51:14.151Z","level":"info","message":"http_request_received","requestId":"656b0285-8388-47fa-ad58-f970e242d609","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"656b0285-8388-47fa-ad58-f970e242d609","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"656b0285-8388-47fa-ad58-f970e242d609","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:14.155Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:14.157Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:14.162Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:14.165Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-prefixed.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:51:44.153Z","level":"info","message":"http_request_received","requestId":"32dc731b-ae32-41ba-aeba-575f26561fc0","method":"GET","path":"/assets/index-latest.css","template":"unknown","session":"32dc731b-ae32-41ba-aeba-575f26561fc0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32dc731b-ae32-41ba-aeba-575f26561fc0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:44.156Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-latest.css","reqUrl":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:44.160Z","level":"info","message":"request_received","path":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:44.162Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:51:44.165Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-missing.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:14.172Z","level":"info","message":"http_request_received","requestId":"e471d0d9-eca4-4425-a4af-90c99db059a4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"e471d0d9-eca4-4425-a4af-90c99db059a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e471d0d9-eca4-4425-a4af-90c99db059a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.175Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.179Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.181Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.184Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.187Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:14.204Z","level":"info","message":"http_request_completed","requestId":"e471d0d9-eca4-4425-a4af-90c99db059a4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","statusCode":200,"durationMs":32,"contentLength":"106285","template":"unknown","session":"e471d0d9-eca4-4425-a4af-90c99db059a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e471d0d9-eca4-4425-a4af-90c99db059a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.205Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.210Z","level":"info","message":"http_request_received","requestId":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.212Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.213Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.215Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.217Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.219Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css,,' candidate='assets/index-latest.css,,'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:14.227Z","level":"info","message":"http_request_completed","requestId":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css%2C%2C","statusCode":200,"durationMs":17,"contentLength":"106285","template":"unknown","session":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e98c5ac-4919-4fd8-88a2-73c41ffcbade","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.229Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","proxy":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.238Z","level":"info","message":"http_request_received","requestId":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.240Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.244Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.246Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.250Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.254Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='/assets/index-latest.css' candidate='/assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}' candidate='assets/index-0da4b4af.css,, {"alias":"/assets/index-latest.css"}'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19143:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:14.267Z","level":"info","message":"http_request_completed","requestId":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css%2C%2C%20%7B%22alias%22%3A%22%2Fassets%2Findex-latest.css%22%7D","statusCode":200,"durationMs":29,"contentLength":"106285","template":"unknown","session":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e92dee3f-c0ea-4935-bb5d-fe79331dc6f4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.268Z","level":"info","message":"client_asset_alias_local_served","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","annotatedAlias":true,"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.272Z","level":"info","message":"http_request_received","requestId":"b5d04d57-459d-491a-b552-f623cc99445b","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"b5d04d57-459d-491a-b552-f623cc99445b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b5d04d57-459d-491a-b552-f623cc99445b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.273Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-latest.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.275Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.276Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.278Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:14.280Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-latest.css' candidate='assets/index-latest.css'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:44.280Z","level":"info","message":"http_request_received","requestId":"bca2465d-1c8b-46c2-a464-19057451bc87","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"bca2465d-1c8b-46c2-a464-19057451bc87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca2465d-1c8b-46c2-a464-19057451bc87","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.291Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.320Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.329Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.340Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.350Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='assets/index-0da4b4af.css' candidate='assets/index-0da4b4af.css'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.log
    DEBUG: proxy handler { normalizedAssetPath: '/assets/index-0da4b4af.css' }

      at server.js:19143:11

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.382Z","level":"warn","message":"client_asset_proxy_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:762:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19156:30\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at server.js:19156:30

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:44.400Z","level":"info","message":"http_request_completed","requestId":"bca2465d-1c8b-46c2-a464-19057451bc87","method":"GET","path":"/api/static-proxy?asset=assets%2Findex-0da4b4af.css","statusCode":200,"durationMs":120,"contentLength":"106285","template":"unknown","session":"bca2465d-1c8b-46c2-a464-19057451bc87","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bca2465d-1c8b-46c2-a464-19057451bc87","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.401Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","path":"/assets/index-0da4b4af.css","proxy":true,"degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.402Z","level":"warn","message":"client_asset_proxy_degraded_to_alias","path":"/assets/index-0da4b4af.css","method":"GET","proxy":true,"aliasPath":"/assets/index-latest.css","degradedFrom":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:19208:9

  console.log
    {"timestamp":"2025-12-04T13:52:44.435Z","level":"info","message":"http_request_received","requestId":"672a9517-ee13-4564-86ed-6c3b800c6324","method":"GET","path":"/assets/index-0da4b4af.css","template":"unknown","session":"672a9517-ee13-4564-86ed-6c3b800c6324","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"672a9517-ee13-4564-86ed-6c3b800c6324","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.439Z","level":"info","message":"path_restoration_debug","reqPath":"/assets/index-0da4b4af.css","reqUrl":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.444Z","level":"info","message":"request_received","path":"/assets/index-0da4b4af.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.448Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.452Z","level":"info","message":"client_app_routes_entered","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.456Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-0da4b4af.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    DEBUG: serveHashedIndexAssetFromS3 calling S3 {
      bucket: 'test-bucket',
      prefix: 'static/client/test/latest',
      assetPath: '/assets/index-0da4b4af.css'
    }

      at serveHashedIndexAssetFromS3 (server.js:1153:13)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.484Z","level":"warn","message":"client_asset_s3_fallback_failed","bucket":"test-bucket","key":"static/client/test/latest/assets/index-0da4b4af.css","path":"/assets/index-0da4b4af.css","method":"GET","error":{"name":"NoSuchKey","message":"NoSuchKey","stack":"NoSuchKey: NoSuchKey\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:808:21)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at serveHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1154:41)\n    at tryServeHashedIndexAssetFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:1218:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at serveHashedIndexAssetFromS3 (server.js:1177:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1218:24)

  console.log
    DEBUG: handleIndexAssetAliasRequest start { aliasPath: '/assets/index-latest.css' }

      at handleIndexAssetAliasRequest (server.js:1288:11)

  console.log
    DEBUG: resolveClientDistAssetPath input: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1014:11)

  console.log
    DEBUG: resolveClientDistAssetPath sanitized: '/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1026:11)

  console.log
    DEBUG: resolveClientDistAssetPath final: '/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/client/dist/assets/index-latest.css'

      at resolveClientDistAssetPath (server.js:1029:11)

  console.log
    {"timestamp":"2025-12-04T13:52:44.519Z","level":"info","message":"http_request_completed","requestId":"672a9517-ee13-4564-86ed-6c3b800c6324","method":"GET","path":"/assets/index-0da4b4af.css","statusCode":200,"durationMs":84,"contentLength":"106285","template":"unknown","session":"672a9517-ee13-4564-86ed-6c3b800c6324","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"672a9517-ee13-4564-86ed-6c3b800c6324","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.520Z","level":"info","message":"client_asset_alias_local_served","aliasPath":"/assets/index-latest.css","method":"GET","hashedPath":"/assets/index-0da4b4af.css","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.521Z","level":"warn","message":"hashed_index_asset_degraded_to_alias","hashedPath":"/assets/index-0da4b4af.css","aliasPath":"/assets/index-latest.css","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at tryServeHashedIndexAssetFromS3 (server.js:1270:7)

  console.log
    {"timestamp":"2025-12-04T13:52:44.533Z","level":"info","message":"http_request_received","requestId":"5db13491-b58f-4f74-b68b-5cab69ca3d36","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.536Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-proxy","reqUrl":"/api/static-proxy?asset=..%2Fsecrets.txt","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.540Z","level":"info","message":"request_received","path":"/api/static-proxy","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.542Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.544Z","level":"info","message":"client_app_routes_entered","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.547Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-proxy","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    DEBUG: normalizeStaticProxyAssetPath input='../secrets.txt' candidate='../secrets.txt'

      at normalizeStaticProxyAssetPath (server.js:1609:11)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.551Z","level":"warn","message":"api_error_response","requestId":"5db13491-b58f-4f74-b68b-5cab69ca3d36","status":400,"error":{"code":"INVALID_STATIC_ASSET_PATH","message":"Provide a valid static asset path to proxy.","details":{},"requestId":"5db13491-b58f-4f74-b68b-5cab69ca3d36"},"template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:19086:12
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at SendStream.error (node_modules/serve-static/index.js:121:7)
      at SendStream.error (node_modules/send/index.js:270:17)
      at SendStream.onStatError (node_modules/send/index.js:417:12)
      at next (node_modules/send/index.js:730:16)
      at onstat (node_modules/send/index.js:719:14)

  console.log
    {"timestamp":"2025-12-04T13:52:44.577Z","level":"info","message":"http_request_completed","requestId":"5db13491-b58f-4f74-b68b-5cab69ca3d36","method":"GET","path":"/api/static-proxy?asset=..%2Fsecrets.txt","statusCode":400,"durationMs":44,"contentLength":"182","template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5db13491-b58f-4f74-b68b-5cab69ca3d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.592Z","level":"info","message":"http_request_received","requestId":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.597Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.599Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.602Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.606Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.611Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.630Z","level":"info","message":"http_request_completed","requestId":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":38,"contentLength":"301","template":"unknown","session":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a838c7d9-af8c-4a89-affe-7b33cdf6860f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.640Z","level":"info","message":"http_request_received","requestId":"fd465f7a-fd64-4994-8627-7ff796c2e86f","method":"GET","path":"/api/static-manifest","template":"unknown","session":"fd465f7a-fd64-4994-8627-7ff796c2e86f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd465f7a-fd64-4994-8627-7ff796c2e86f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.648Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.650Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.655Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.658Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.663Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.671Z","level":"info","message":"http_request_completed","requestId":"fd465f7a-fd64-4994-8627-7ff796c2e86f","method":"GET","path":"/api/static-manifest","statusCode":200,"durationMs":31,"contentLength":"195","template":"unknown","session":"fd465f7a-fd64-4994-8627-7ff796c2e86f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fd465f7a-fd64-4994-8627-7ff796c2e86f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.674Z","level":"info","message":"http_request_received","requestId":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","method":"GET","path":"/api/static-manifest?refresh=1","template":"unknown","session":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.676Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest?refresh=1","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.679Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.682Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.687Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.691Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.700Z","level":"info","message":"http_request_completed","requestId":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","method":"GET","path":"/api/static-manifest?refresh=1","statusCode":200,"durationMs":26,"contentLength":"195","template":"unknown","session":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d35b2d89-96a4-4f7e-a553-8e740e9c178a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.731Z","level":"info","message":"http_request_received","requestId":"ce383715-b080-45ee-a28d-898d62fd50d9","method":"GET","path":"/api/static-manifest","template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.747Z","level":"info","message":"path_restoration_debug","reqPath":"/api/static-manifest","reqUrl":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.750Z","level":"info","message":"request_received","path":"/api/static-manifest","method":"GET","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.753Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.756Z","level":"info","message":"client_app_routes_entered","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.791Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/static-manifest","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.814Z","level":"warn","message":"client_asset_manifest_s3_failed","bucket":"test-bucket","key":"static/client/test/latest/manifest.json","error":{"name":"Error","message":"manifest not found","stack":"Error: manifest not found\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:906:22)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:397:39\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:404:13)\n    at Object.mockConstructor [as send] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-mock/build/index.js:148:19)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7814:21)\n    at operation (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/lib/retry.js:151:20)\n    at sendS3CommandWithRetry (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:7817:16)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:869:30\n    at loadStaticAssetManifestFromS3 (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:952:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:19228:28\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/express/lib/router/index.js:280:10)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/serve-static/index.js:121:7)\n    at SendStream.emit (node:events:513:28)\n    at SendStream.error (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:270:17)\n    at SendStream.onStatError (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:417:12)\n    at next (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:730:16)\n    at onstat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/send/index.js:719:14)\n    at FSReqCallback.oncomplete (node:fs:206:21)"},"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:944:7
      at loadStaticAssetManifestFromS3 (server.js:959:12)
      at server.js:19228:22

  console.error
    {"timestamp":"2025-12-04T13:52:44.825Z","level":"error","message":"api_error_response","requestId":"ce383715-b080-45ee-a28d-898d62fd50d9","status":503,"error":{"code":"STATIC_MANIFEST_UNAVAILABLE","message":"Static asset manifest is not currently available. Please try again shortly.","details":{},"requestId":"ce383715-b080-45ee-a28d-898d62fd50d9"},"template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:19233:14

  console.log
    {"timestamp":"2025-12-04T13:52:44.841Z","level":"info","message":"http_request_completed","requestId":"ce383715-b080-45ee-a28d-898d62fd50d9","method":"GET","path":"/api/static-manifest","statusCode":503,"durationMs":110,"contentLength":"216","template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ce383715-b080-45ee-a28d-898d62fd50d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.850Z","level":"info","message":"http_request_received","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","method":"POST","path":"/api/process-cv","template":"unknown","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.853Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.855Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.858Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.862Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.867Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/incoming/original.pdf","chunks":1,"timestamp":1764856364882}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":16}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:44.921Z","level":"info","message":"process_cv_started","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","manualJobDescriptionProvided":true,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.926Z","level":"info","message":"template_selection","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:44.929Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:44.946Z","level":"info","message":"initial_upload_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","bucket":"test-bucket","key":"cv/candidate/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/incoming/original.pdf","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.970Z","level":"info","message":"resume_text_extracted","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","characters":57,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.971Z","level":"info","message":"resume_classified","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.975Z","level":"info","message":"raw_upload_relocated","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","bucket":"test-bucket","fromKey":"cv/candidate/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/incoming/original.pdf","toKey":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/original.pdf","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.976Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","bucket":"test-bucket","key":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/original.pdf","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.976Z","level":"info","message":"dynamo_initial_record_written","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","bucket":"test-bucket","key":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/original.pdf","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.978Z","level":"info","message":"upload_metadata_written","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","bucket":"test-bucket","key":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/logs/log.json","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.979Z","level":"info","message":"job_description_supplied_manually","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","characters":174,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.981Z","level":"info","message":"job_description_analyzed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","jobTitle":"","jobSkills":5,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.992Z","level":"info","message":"resume_skills_analyzed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:44.999Z","level":"info","message":"llm_call_metrics","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.005Z","level":"info","message":"process_cv_scoring_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.061Z","level":"info","message":"llm_call_metrics","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.063Z","level":"info","message":"generation_section_rewrite_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.065Z","level":"info","message":"llm_call_metrics","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.076Z","level":"info","message":"generation_resume_verified","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.105Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:45.119Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:45.130Z","level":"info","message":"generation_cover_letters_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","variants":2,"fallbackApplied":true,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.132Z","level":"info","message":"pdf_generation_attempt","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/enhanced_modern.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.133Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.134Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/enhanced_modern.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.136Z","level":"info","message":"pdf_generation_attempt","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/enhanced_professional.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.137Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.137Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/enhanced_professional.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.139Z","level":"info","message":"pdf_generation_attempt","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/cover_letter_cover_modern.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.139Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.140Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/cover_letter_cover_modern.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.141Z","level":"info","message":"pdf_generation_attempt","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/cover_letter_cover_professional.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.142Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.143Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/62c55e5c-bc4d-43bf-8b64-5d74fe50ab18/cover_letter_cover_professional.pdf","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.152Z","level":"info","message":"llm_call_metrics","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.154Z","level":"info","message":"generation_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","generationRunId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","enhancedScore":80,"outputs":5,"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.158Z","level":"info","message":"placeholder_record_deleted","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","jobId":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","placeholderIdentifier":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d07ee1b8-6e74-4690-bff8-e0ffec61131a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.160Z","level":"info","message":"http_request_completed","requestId":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":310,"contentLength":"58133","template":"unknown","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"62c55e5c-bc4d-43bf-8b64-5d74fe50ab18","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.169Z","level":"info","message":"http_request_received","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","method":"POST","path":"/api/process-cv","template":"unknown","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.174Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.179Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.184Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.189Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.194Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/incoming/original.pdf","chunks":1,"timestamp":1764856365201}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.216Z","level":"info","message":"process_cv_started","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","manualJobDescriptionProvided":true,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.218Z","level":"info","message":"template_selection","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.219Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.235Z","level":"info","message":"initial_upload_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","bucket":"test-bucket","key":"cv/candidate/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/incoming/original.pdf","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.248Z","level":"info","message":"resume_text_extracted","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","characters":57,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.249Z","level":"info","message":"resume_classified","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.250Z","level":"info","message":"raw_upload_relocated","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","bucket":"test-bucket","fromKey":"cv/candidate/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/incoming/original.pdf","toKey":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/original.pdf","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.250Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","bucket":"test-bucket","key":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/original.pdf","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.251Z","level":"info","message":"dynamo_initial_record_written","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","bucket":"test-bucket","key":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/original.pdf","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.251Z","level":"info","message":"upload_metadata_written","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","bucket":"test-bucket","key":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/logs/log.json","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.252Z","level":"info","message":"job_description_supplied_manually","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","characters":174,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.253Z","level":"info","message":"job_description_analyzed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","jobTitle":"","jobSkills":5,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.256Z","level":"info","message":"resume_skills_analyzed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.258Z","level":"info","message":"llm_call_metrics","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.260Z","level":"info","message":"process_cv_scoring_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.268Z","level":"info","message":"llm_call_metrics","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.269Z","level":"info","message":"generation_section_rewrite_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.270Z","level":"info","message":"llm_call_metrics","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.274Z","level":"info","message":"generation_resume_verified","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.285Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:45.295Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:45.307Z","level":"info","message":"generation_cover_letters_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","variants":2,"fallbackApplied":true,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.309Z","level":"info","message":"pdf_generation_attempt","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/enhanced_modern.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.310Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.310Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/enhanced_modern.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.311Z","level":"info","message":"pdf_generation_attempt","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/enhanced_professional.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.312Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.313Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/enhanced_professional.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.313Z","level":"info","message":"pdf_generation_attempt","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/cover_letter_cover_modern.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.314Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.314Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/cover_letter_cover_modern.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.315Z","level":"info","message":"pdf_generation_attempt","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/cover_letter_cover_professional.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.316Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.317Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94e3e0ec-91dd-49b5-b7dd-1c1a79846b81/cover_letter_cover_professional.pdf","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.324Z","level":"info","message":"llm_call_metrics","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.326Z","level":"info","message":"generation_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","generationRunId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","enhancedScore":80,"outputs":5,"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.328Z","level":"info","message":"placeholder_record_deleted","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","jobId":"bbb68944-9f46-42ef-8b70-f906e46684c8","placeholderIdentifier":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bbb68944-9f46-42ef-8b70-f906e46684c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.330Z","level":"info","message":"http_request_completed","requestId":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":161,"contentLength":"58133","template":"unknown","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94e3e0ec-91dd-49b5-b7dd-1c1a79846b81","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.383Z","level":"info","message":"http_request_received","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","method":"POST","path":"/api/process-cv","template":"unknown","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.389Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.391Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.394Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.402Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.406Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9dba37b8-6911-4fb4-8997-d36b8aaac35f/incoming/original.pdf","chunks":1,"timestamp":1764856365414}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9dba37b8-6911-4fb4-8997-d36b8aaac35f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9dba37b8-6911-4fb4-8997-d36b8aaac35f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.421Z","level":"info","message":"process_cv_started","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","manualJobDescriptionProvided":true,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.423Z","level":"info","message":"template_selection","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.425Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.436Z","level":"info","message":"initial_upload_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","key":"cv/candidate/9dba37b8-6911-4fb4-8997-d36b8aaac35f/incoming/original.pdf","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.438Z","level":"info","message":"resume_text_extracted","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","characters":57,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.439Z","level":"info","message":"resume_classified","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.440Z","level":"info","message":"raw_upload_relocated","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","fromKey":"cv/candidate/9dba37b8-6911-4fb4-8997-d36b8aaac35f/incoming/original.pdf","toKey":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/original.pdf","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.444Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","key":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/original.pdf","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.445Z","level":"info","message":"dynamo_initial_record_written","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","key":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/original.pdf","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.451Z","level":"info","message":"upload_metadata_written","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","key":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/logs/log.json","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.452Z","level":"info","message":"session_transition_change_log_removed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","bucket":"test-bucket","removedKeys":["cv/candidate/session-old/logs/change-log.json","cv/candidate/session-old/artifacts/changelog.json"],"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.453Z","level":"info","message":"job_description_supplied_manually","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","characters":174,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.455Z","level":"info","message":"job_description_analyzed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","jobTitle":"","jobSkills":5,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.458Z","level":"info","message":"resume_skills_analyzed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.459Z","level":"info","message":"llm_call_metrics","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.461Z","level":"info","message":"process_cv_scoring_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.466Z","level":"info","message":"llm_call_metrics","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.467Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.469Z","level":"info","message":"llm_call_metrics","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.473Z","level":"info","message":"generation_resume_verified","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.480Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:45.496Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:45.517Z","level":"info","message":"generation_cover_letters_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","variants":2,"fallbackApplied":true,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.520Z","level":"info","message":"pdf_generation_attempt","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/enhanced_modern.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.524Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.540Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/enhanced_modern.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.566Z","level":"info","message":"pdf_generation_attempt","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/enhanced_professional.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.571Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.573Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/enhanced_professional.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.585Z","level":"info","message":"pdf_generation_attempt","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/cover_letter_cover_modern.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.594Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.601Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/cover_letter_cover_modern.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.609Z","level":"info","message":"pdf_generation_attempt","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/cover_letter_cover_professional.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.611Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.615Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9dba37b8-6911-4fb4-8997-d36b8aaac35f/cover_letter_cover_professional.pdf","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.620Z","level":"info","message":"llm_call_metrics","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.621Z","level":"info","message":"generation_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","generationRunId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","enhancedScore":80,"outputs":5,"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.625Z","level":"info","message":"placeholder_record_deleted","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","jobId":"732394cd-b75b-4c44-8815-cd683cfdb994","placeholderIdentifier":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"732394cd-b75b-4c44-8815-cd683cfdb994","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.631Z","level":"info","message":"http_request_completed","requestId":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":248,"contentLength":"58133","template":"unknown","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9dba37b8-6911-4fb4-8997-d36b8aaac35f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.642Z","level":"info","message":"http_request_received","requestId":"repeat","method":"POST","path":"/api/process-cv","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.648Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.650Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.653Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.673Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.681Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","chunks":1,"timestamp":1764856365687}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":9}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.697Z","level":"info","message":"process_cv_started","requestId":"repeat","jobId":"repeat","manualJobDescriptionProvided":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.698Z","level":"info","message":"template_selection","requestId":"repeat","jobId":"repeat","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.699Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"repeat","jobId":"repeat","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.709Z","level":"info","message":"initial_upload_completed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/candidate/repeat/incoming/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.711Z","level":"info","message":"resume_text_extracted","requestId":"repeat","jobId":"repeat","characters":57,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.711Z","level":"info","message":"resume_classified","requestId":"repeat","jobId":"repeat","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.712Z","level":"info","message":"raw_upload_relocated","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","fromKey":"cv/candidate/repeat/incoming/original.pdf","toKey":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.713Z","level":"info","message":"dynamo_initial_record_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/original.pdf","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.714Z","level":"info","message":"upload_metadata_written","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","key":"cv/professional_summary/repeat/logs/log.json","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.715Z","level":"info","message":"session_transition_change_log_removed","requestId":"repeat","jobId":"repeat","bucket":"test-bucket","removedKeys":["cv/candidate/repeat/logs/change-log.json","cv/candidate/repeat/artifacts/changelog.json"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.716Z","level":"info","message":"job_description_supplied_manually","requestId":"repeat","jobId":"repeat","characters":174,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.716Z","level":"info","message":"job_description_analyzed","requestId":"repeat","jobId":"repeat","jobTitle":"","jobSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.717Z","level":"info","message":"resume_skills_analyzed","requestId":"repeat","jobId":"repeat","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.718Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.720Z","level":"info","message":"process_cv_scoring_completed","requestId":"repeat","jobId":"repeat","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.725Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.726Z","level":"info","message":"generation_section_rewrite_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.726Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.731Z","level":"info","message":"generation_resume_verified","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.736Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:45.747Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:45.759Z","level":"info","message":"generation_cover_letters_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","variants":2,"fallbackApplied":true,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.760Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.761Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.762Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.763Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.764Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.764Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/repeat/enhanced_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.765Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.766Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.766Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_modern.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.768Z","level":"info","message":"pdf_generation_attempt","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.769Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.769Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/repeat/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/repeat/cover_letter_cover_professional.pdf","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.774Z","level":"info","message":"llm_call_metrics","requestId":"repeat","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.775Z","level":"info","message":"generation_completed","requestId":"repeat","jobId":"repeat","generationRunId":"repeat","enhancedScore":80,"outputs":5,"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.778Z","level":"info","message":"http_request_completed","requestId":"repeat","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":136,"contentLength":"57353","template":"unknown","session":"repeat","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"repeat","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.783Z","level":"info","message":"http_request_received","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","method":"POST","path":"/api/process-cv","template":"unknown","session":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.785Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.787Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.789Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.791Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.794Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/f3c738ef-28c4-479c-9471-fdb0508a6b2f/incoming/original.pdf","chunks":1,"timestamp":1764856365797}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/f3c738ef-28c4-479c-9471-fdb0508a6b2f/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/f3c738ef-28c4-479c-9471-fdb0508a6b2f/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.799Z","level":"info","message":"process_cv_started","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","jobId":"5f581c55-a6e8-48ce-a753-1174cd6e231a","manualJobDescriptionProvided":false,"template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.800Z","level":"info","message":"template_selection","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","jobId":"5f581c55-a6e8-48ce-a753-1174cd6e231a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.800Z","level":"warn","message":"job_description_missing","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","jobId":"5f581c55-a6e8-48ce-a753-1174cd6e231a","template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25102:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.808Z","level":"warn","message":"api_error_response","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","jobId":"5f581c55-a6e8-48ce-a753-1174cd6e231a","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","jobId":"5f581c55-a6e8-48ce-a753-1174cd6e231a"},"template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5f581c55-a6e8-48ce-a753-1174cd6e231a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:25103:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.817Z","level":"info","message":"http_request_completed","requestId":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":34,"contentLength":"244","template":"unknown","session":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f3c738ef-28c4-479c-9471-fdb0508a6b2f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.822Z","level":"info","message":"http_request_received","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","method":"POST","path":"/api/process-cv","template":"unknown","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.824Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.826Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.828Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.830Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.832Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9ce9167f-fa66-4127-b4dc-7555639ca7ff/incoming/original.pdf","chunks":1,"timestamp":1764856365835}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9ce9167f-fa66-4127-b4dc-7555639ca7ff/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9ce9167f-fa66-4127-b4dc-7555639ca7ff/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.841Z","level":"info","message":"process_cv_started","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","manualJobDescriptionProvided":true,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.843Z","level":"info","message":"template_selection","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.844Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.852Z","level":"info","message":"initial_upload_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","bucket":"test-bucket","key":"cv/candidate/9ce9167f-fa66-4127-b4dc-7555639ca7ff/incoming/original.pdf","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.856Z","level":"info","message":"resume_text_extracted","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","characters":57,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.857Z","level":"info","message":"resume_classified","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.858Z","level":"info","message":"raw_upload_relocated","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","bucket":"test-bucket","fromKey":"cv/candidate/9ce9167f-fa66-4127-b4dc-7555639ca7ff/incoming/original.pdf","toKey":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/original.pdf","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.858Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","bucket":"test-bucket","key":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/original.pdf","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.859Z","level":"info","message":"dynamo_initial_record_written","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","bucket":"test-bucket","key":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/original.pdf","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.860Z","level":"info","message":"upload_metadata_written","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","bucket":"test-bucket","key":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/logs/log.json","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.860Z","level":"info","message":"job_description_supplied_manually","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","characters":59,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.861Z","level":"info","message":"job_description_analyzed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","jobTitle":"","jobSkills":5,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.862Z","level":"info","message":"resume_skills_analyzed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.862Z","level":"info","message":"llm_call_metrics","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.863Z","level":"info","message":"process_cv_scoring_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.868Z","level":"info","message":"llm_call_metrics","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"ea2430c235b24028819e3e632af324e68724bbc1d27bee61065e3e4452249d1c","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.869Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.869Z","level":"info","message":"llm_call_metrics","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"5ccfe9db3e82fa26357ec9c5a8fa36d7c5cf260bf775e906492a22db0355a609","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.872Z","level":"info","message":"generation_resume_verified","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.878Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:45.888Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:45.897Z","level":"info","message":"generation_cover_letters_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","variants":2,"fallbackApplied":true,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.899Z","level":"info","message":"pdf_generation_attempt","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/enhanced_modern.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.900Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.901Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/enhanced_modern.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.903Z","level":"info","message":"pdf_generation_attempt","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/enhanced_professional.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.904Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.904Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/enhanced_professional.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.905Z","level":"info","message":"pdf_generation_attempt","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/cover_letter_cover_modern.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.905Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.906Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/cover_letter_cover_modern.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.907Z","level":"info","message":"pdf_generation_attempt","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/cover_letter_cover_professional.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.908Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.908Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9ce9167f-fa66-4127-b4dc-7555639ca7ff/cover_letter_cover_professional.pdf","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.912Z","level":"info","message":"llm_call_metrics","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.914Z","level":"info","message":"generation_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","generationRunId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","enhancedScore":80,"outputs":5,"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.915Z","level":"info","message":"placeholder_record_deleted","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","jobId":"47324e36-ca2e-4577-8822-8d83fd901902","placeholderIdentifier":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"47324e36-ca2e-4577-8822-8d83fd901902","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.916Z","level":"info","message":"http_request_completed","requestId":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":94,"contentLength":"55048","template":"unknown","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9ce9167f-fa66-4127-b4dc-7555639ca7ff","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.925Z","level":"info","message":"http_request_received","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","method":"POST","path":"/api/process-cv","template":"unknown","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.928Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.931Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.933Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.939Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.943Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3f0218f8-58c4-4b92-a299-ad837157315d/incoming/original.pdf","chunks":1,"timestamp":1764856365949}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3f0218f8-58c4-4b92-a299-ad837157315d/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3f0218f8-58c4-4b92-a299-ad837157315d/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:45.952Z","level":"info","message":"process_cv_started","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","manualJobDescriptionProvided":true,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.953Z","level":"info","message":"template_selection","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:45.955Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:45.966Z","level":"info","message":"initial_upload_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","bucket":"test-bucket","key":"cv/candidate/3f0218f8-58c4-4b92-a299-ad837157315d/incoming/original.pdf","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.970Z","level":"info","message":"resume_text_extracted","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","characters":57,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.970Z","level":"info","message":"resume_classified","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.971Z","level":"info","message":"raw_upload_relocated","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","bucket":"test-bucket","fromKey":"cv/candidate/3f0218f8-58c4-4b92-a299-ad837157315d/incoming/original.pdf","toKey":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/original.pdf","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.972Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","bucket":"test-bucket","key":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/original.pdf","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.973Z","level":"info","message":"dynamo_initial_record_written","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","bucket":"test-bucket","key":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/original.pdf","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.973Z","level":"info","message":"upload_metadata_written","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","bucket":"test-bucket","key":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/logs/log.json","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.974Z","level":"info","message":"job_description_supplied_manually","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","characters":32,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.975Z","level":"info","message":"job_description_analyzed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","jobTitle":"","jobSkills":5,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.976Z","level":"info","message":"resume_skills_analyzed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.977Z","level":"info","message":"llm_call_metrics","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.978Z","level":"info","message":"process_cv_scoring_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.983Z","level":"info","message":"llm_call_metrics","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"4ee429ea92424e8e19e4720211137d476a19f7274074e1702e9c42fe53b6fed7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.984Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.985Z","level":"info","message":"llm_call_metrics","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"b847d6e14d4cae3ee14cd5dbb7c4a4ca1658d965fe5c0b4564eb95e9b23995e3","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:45.996Z","level":"info","message":"generation_resume_verified","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.004Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.013Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.020Z","level":"info","message":"generation_cover_letters_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","variants":2,"fallbackApplied":true,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.021Z","level":"info","message":"pdf_generation_attempt","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/enhanced_modern.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.021Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.022Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/enhanced_modern.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.023Z","level":"info","message":"pdf_generation_attempt","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/enhanced_professional.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.023Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.023Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/enhanced_professional.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.024Z","level":"info","message":"pdf_generation_attempt","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/cover_letter_cover_modern.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.024Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.025Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/cover_letter_cover_modern.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.026Z","level":"info","message":"pdf_generation_attempt","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/cover_letter_cover_professional.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.026Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.027Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/3f0218f8-58c4-4b92-a299-ad837157315d/cover_letter_cover_professional.pdf","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.032Z","level":"info","message":"llm_call_metrics","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.033Z","level":"info","message":"generation_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","generationRunId":"3f0218f8-58c4-4b92-a299-ad837157315d","enhancedScore":80,"outputs":5,"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.035Z","level":"info","message":"placeholder_record_deleted","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","jobId":"98715e17-e27e-498a-8546-86b01d3584d2","placeholderIdentifier":"3f0218f8-58c4-4b92-a299-ad837157315d","template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98715e17-e27e-498a-8546-86b01d3584d2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.036Z","level":"info","message":"http_request_completed","requestId":"3f0218f8-58c4-4b92-a299-ad837157315d","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":111,"contentLength":"53771","template":"unknown","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3f0218f8-58c4-4b92-a299-ad837157315d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.040Z","level":"info","message":"http_request_received","requestId":"68c3cea5-10f9-422f-a0ac-971988ee862b","method":"POST","path":"/api/process-cv","template":"unknown","session":"68c3cea5-10f9-422f-a0ac-971988ee862b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68c3cea5-10f9-422f-a0ac-971988ee862b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.042Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.044Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.045Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.047Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.049Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/68c3cea5-10f9-422f-a0ac-971988ee862b/incoming/original.pdf","chunks":1,"timestamp":1764856366052}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/68c3cea5-10f9-422f-a0ac-971988ee862b/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/68c3cea5-10f9-422f-a0ac-971988ee862b/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.054Z","level":"warn","message":"job_description_prohibited_html_detected","requestId":"68c3cea5-10f9-422f-a0ac-971988ee862b","jobId":"85c66d92-5c91-4289-873d-c415ad6c59ff","template":"unknown","session":"85c66d92-5c91-4289-873d-c415ad6c59ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85c66d92-5c91-4289-873d-c415ad6c59ff","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:24995:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.064Z","level":"warn","message":"api_error_response","requestId":"68c3cea5-10f9-422f-a0ac-971988ee862b","jobId":"85c66d92-5c91-4289-873d-c415ad6c59ff","status":400,"error":{"code":"JOB_DESCRIPTION_PROHIBITED_TAGS","message":"Remove HTML tags like <script> before continuing.","details":{"field":"manualJobDescription"},"requestId":"68c3cea5-10f9-422f-a0ac-971988ee862b","jobId":"85c66d92-5c91-4289-873d-c415ad6c59ff"},"template":"unknown","session":"85c66d92-5c91-4289-873d-c415ad6c59ff","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85c66d92-5c91-4289-873d-c415ad6c59ff","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:24996:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.071Z","level":"info","message":"http_request_completed","requestId":"68c3cea5-10f9-422f-a0ac-971988ee862b","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":31,"contentLength":"271","template":"unknown","session":"68c3cea5-10f9-422f-a0ac-971988ee862b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"68c3cea5-10f9-422f-a0ac-971988ee862b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.075Z","level":"info","message":"http_request_received","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","method":"POST","path":"/api/process-cv","template":"unknown","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.076Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.078Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.080Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.082Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.084Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/incoming/original.pdf","chunks":1,"timestamp":1764856366086}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.088Z","level":"info","message":"process_cv_started","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","manualJobDescriptionProvided":true,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.089Z","level":"info","message":"template_selection","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.089Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.097Z","level":"info","message":"initial_upload_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","bucket":"test-bucket","key":"cv/candidate/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/incoming/original.pdf","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.097Z","level":"info","message":"resume_text_extracted","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","characters":57,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.098Z","level":"info","message":"resume_classified","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.098Z","level":"info","message":"raw_upload_relocated","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","bucket":"test-bucket","fromKey":"cv/candidate/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/incoming/original.pdf","toKey":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/original.pdf","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.099Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","bucket":"test-bucket","key":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/original.pdf","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.099Z","level":"info","message":"dynamo_initial_record_written","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","bucket":"test-bucket","key":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/original.pdf","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.100Z","level":"info","message":"upload_metadata_written","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","bucket":"test-bucket","key":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/logs/log.json","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.100Z","level":"info","message":"job_description_supplied_manually","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","characters":31,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.100Z","level":"info","message":"job_description_analyzed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","jobTitle":"","jobSkills":5,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.101Z","level":"info","message":"resume_skills_analyzed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.101Z","level":"info","message":"llm_call_metrics","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.103Z","level":"info","message":"process_cv_scoring_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.106Z","level":"info","message":"llm_call_metrics","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"3b6fa31427cfe80be95734691ddba88dda63de26496df29477f91bd398cefbfa","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.106Z","level":"info","message":"generation_section_rewrite_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.107Z","level":"info","message":"llm_call_metrics","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"eedd7612e0b87e24dbfb4e165754c9448ec3573f7db56a3242654c71c3ca223b","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.109Z","level":"info","message":"generation_resume_verified","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.115Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.122Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.129Z","level":"info","message":"generation_cover_letters_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","variants":2,"fallbackApplied":true,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.130Z","level":"info","message":"pdf_generation_attempt","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/enhanced_modern.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.130Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.131Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/enhanced_modern.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.131Z","level":"info","message":"pdf_generation_attempt","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/enhanced_professional.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.132Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.132Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/enhanced_professional.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.133Z","level":"info","message":"pdf_generation_attempt","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/cover_letter_cover_modern.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.133Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.133Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/cover_letter_cover_modern.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.134Z","level":"info","message":"pdf_generation_attempt","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/cover_letter_cover_professional.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.135Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.135Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/b0d432a2-685d-4b1a-a8e6-b28e772dfcb5/cover_letter_cover_professional.pdf","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.137Z","level":"info","message":"llm_call_metrics","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.141Z","level":"info","message":"generation_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","generationRunId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","enhancedScore":80,"outputs":5,"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.143Z","level":"info","message":"placeholder_record_deleted","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","jobId":"61ad963a-2b86-43fa-bfc3-dd806d98e653","placeholderIdentifier":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"61ad963a-2b86-43fa-bfc3-dd806d98e653","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.144Z","level":"info","message":"http_request_completed","requestId":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"53718","template":"unknown","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b0d432a2-685d-4b1a-a8e6-b28e772dfcb5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.149Z","level":"info","message":"http_request_received","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","method":"POST","path":"/api/process-cv","template":"unknown","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.150Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.151Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.153Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.155Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.157Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cdf4441f-1450-472d-913b-a9d58ee35ae3/incoming/original.pdf","chunks":1,"timestamp":1764856366160}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cdf4441f-1450-472d-913b-a9d58ee35ae3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cdf4441f-1450-472d-913b-a9d58ee35ae3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.162Z","level":"info","message":"process_cv_started","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","manualJobDescriptionProvided":true,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.163Z","level":"info","message":"template_selection","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.163Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.172Z","level":"info","message":"initial_upload_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","bucket":"test-bucket","key":"cv/candidate/cdf4441f-1450-472d-913b-a9d58ee35ae3/incoming/original.pdf","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.173Z","level":"info","message":"resume_text_extracted","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","characters":57,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.173Z","level":"info","message":"resume_classified","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.174Z","level":"info","message":"raw_upload_relocated","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","bucket":"test-bucket","fromKey":"cv/candidate/cdf4441f-1450-472d-913b-a9d58ee35ae3/incoming/original.pdf","toKey":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/original.pdf","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.174Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","bucket":"test-bucket","key":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/original.pdf","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.175Z","level":"info","message":"dynamo_initial_record_written","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","bucket":"test-bucket","key":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/original.pdf","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.175Z","level":"info","message":"upload_metadata_written","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","bucket":"test-bucket","key":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/logs/log.json","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.176Z","level":"info","message":"job_description_supplied_manually","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","characters":174,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.176Z","level":"info","message":"job_description_analyzed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","jobTitle":"","jobSkills":5,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.178Z","level":"info","message":"resume_skills_analyzed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.179Z","level":"info","message":"llm_call_metrics","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.179Z","level":"info","message":"process_cv_scoring_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.183Z","level":"info","message":"llm_call_metrics","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.184Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.184Z","level":"info","message":"llm_call_metrics","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.187Z","level":"info","message":"generation_resume_verified","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.191Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.199Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.205Z","level":"info","message":"generation_cover_letters_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","variants":2,"fallbackApplied":true,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.206Z","level":"info","message":"pdf_generation_attempt","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/enhanced_modern.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.207Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.208Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/enhanced_modern.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.208Z","level":"info","message":"pdf_generation_attempt","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/enhanced_professional.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.209Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.210Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/enhanced_professional.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.211Z","level":"info","message":"pdf_generation_attempt","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/cover_letter_cover_modern.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.211Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.212Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/cover_letter_cover_modern.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.213Z","level":"info","message":"pdf_generation_attempt","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/cover_letter_cover_professional.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.214Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.214Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cdf4441f-1450-472d-913b-a9d58ee35ae3/cover_letter_cover_professional.pdf","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.217Z","level":"info","message":"llm_call_metrics","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.218Z","level":"info","message":"generation_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","generationRunId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","enhancedScore":80,"outputs":5,"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.219Z","level":"info","message":"placeholder_record_deleted","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","jobId":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","placeholderIdentifier":"cdf4441f-1450-472d-913b-a9d58ee35ae3","template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8651fe31-9e7f-4f82-ab1c-fb1ecca7ee54","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.220Z","level":"info","message":"http_request_completed","requestId":"cdf4441f-1450-472d-913b-a9d58ee35ae3","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":71,"contentLength":"58133","template":"unknown","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cdf4441f-1450-472d-913b-a9d58ee35ae3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.225Z","level":"info","message":"http_request_received","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","method":"POST","path":"/api/process-cv","template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.227Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.228Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.230Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.232Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.234Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/717184bd-5464-41a0-a317-9d9c2b566fa9/incoming/original.pdf","chunks":1,"timestamp":1764856366237}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/717184bd-5464-41a0-a317-9d9c2b566fa9/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/717184bd-5464-41a0-a317-9d9c2b566fa9/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.238Z","level":"info","message":"process_cv_started","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","manualJobDescriptionProvided":true,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.239Z","level":"info","message":"template_selection","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.240Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.247Z","level":"info","message":"initial_upload_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","bucket":"test-bucket","key":"cv/candidate/717184bd-5464-41a0-a317-9d9c2b566fa9/incoming/original.pdf","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.248Z","level":"info","message":"resume_text_extracted","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","characters":57,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.248Z","level":"info","message":"resume_classified","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.249Z","level":"info","message":"raw_upload_relocated","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","bucket":"test-bucket","fromKey":"cv/candidate/717184bd-5464-41a0-a317-9d9c2b566fa9/incoming/original.pdf","toKey":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/original.pdf","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.249Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","bucket":"test-bucket","key":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/original.pdf","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.250Z","level":"info","message":"dynamo_initial_record_written","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","bucket":"test-bucket","key":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/original.pdf","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.250Z","level":"info","message":"upload_metadata_written","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","bucket":"test-bucket","key":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/logs/log.json","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.251Z","level":"info","message":"job_description_supplied_manually","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","characters":174,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.251Z","level":"info","message":"job_description_analyzed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","jobTitle":"","jobSkills":5,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.252Z","level":"info","message":"resume_skills_analyzed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.252Z","level":"info","message":"llm_call_metrics","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.253Z","level":"info","message":"process_cv_scoring_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.259Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","sample":"not json","template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8538:20)
      at generateEnhancedDocumentsResponse (server.js:20179:26)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.270Z","level":"info","message":"llm_call_metrics","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.271Z","level":"info","message":"llm_call_metrics","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.272Z","level":"info","message":"generation_section_rewrite_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.272Z","level":"info","message":"llm_call_metrics","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"89e63aad97eee35da336c4707bebe46001a38648f790cb26108fe67f8c6eef15","skillCount":5,"template":"project_summary","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.277Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.285Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.291Z","level":"info","message":"generation_cover_letters_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","variants":2,"fallbackApplied":true,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.291Z","level":"info","message":"pdf_generation_attempt","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/enhanced_modern.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.292Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.292Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/enhanced_modern.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.293Z","level":"info","message":"pdf_generation_attempt","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/enhanced_professional.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.294Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.295Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/enhanced_professional.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.296Z","level":"info","message":"pdf_generation_attempt","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/cover_letter_cover_modern.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.296Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.297Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/cover_letter_cover_modern.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.298Z","level":"info","message":"pdf_generation_attempt","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/cover_letter_cover_professional.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.298Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.299Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/717184bd-5464-41a0-a317-9d9c2b566fa9/cover_letter_cover_professional.pdf","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.301Z","level":"info","message":"llm_call_metrics","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.302Z","level":"info","message":"generation_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","generationRunId":"717184bd-5464-41a0-a317-9d9c2b566fa9","enhancedScore":80,"outputs":5,"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.305Z","level":"info","message":"placeholder_record_deleted","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","jobId":"6028c730-2183-4ced-ba17-fb804312f642","placeholderIdentifier":"717184bd-5464-41a0-a317-9d9c2b566fa9","template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6028c730-2183-4ced-ba17-fb804312f642","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.307Z","level":"info","message":"http_request_completed","requestId":"717184bd-5464-41a0-a317-9d9c2b566fa9","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":82,"contentLength":"58091","template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"717184bd-5464-41a0-a317-9d9c2b566fa9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.312Z","level":"info","message":"http_request_received","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","method":"POST","path":"/api/process-cv","template":"unknown","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.314Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.316Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.317Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.320Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.322Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/57f0e0b7-9e05-4379-879f-176b022605a8/incoming/original.pdf","chunks":1,"timestamp":1764856366325}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/57f0e0b7-9e05-4379-879f-176b022605a8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/57f0e0b7-9e05-4379-879f-176b022605a8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.328Z","level":"info","message":"process_cv_started","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","manualJobDescriptionProvided":true,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.329Z","level":"info","message":"template_selection","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.330Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.336Z","level":"info","message":"initial_upload_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","bucket":"test-bucket","key":"cv/candidate/57f0e0b7-9e05-4379-879f-176b022605a8/incoming/original.pdf","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.337Z","level":"info","message":"resume_text_extracted","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","characters":57,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.337Z","level":"info","message":"resume_classified","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.338Z","level":"info","message":"raw_upload_relocated","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","bucket":"test-bucket","fromKey":"cv/candidate/57f0e0b7-9e05-4379-879f-176b022605a8/incoming/original.pdf","toKey":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/original.pdf","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.338Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","bucket":"test-bucket","key":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/original.pdf","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.339Z","level":"info","message":"dynamo_initial_record_written","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","bucket":"test-bucket","key":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/original.pdf","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.339Z","level":"info","message":"upload_metadata_written","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","bucket":"test-bucket","key":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/logs/log.json","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.340Z","level":"info","message":"job_description_supplied_manually","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","characters":174,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.340Z","level":"info","message":"job_description_analyzed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","jobTitle":"","jobSkills":5,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.340Z","level":"info","message":"resume_skills_analyzed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.341Z","level":"info","message":"llm_call_metrics","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.342Z","level":"info","message":"process_cv_scoring_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.345Z","level":"info","message":"llm_call_metrics","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.345Z","level":"info","message":"generation_section_rewrite_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.346Z","level":"info","message":"llm_call_metrics","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.348Z","level":"info","message":"llm_call_metrics","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.350Z","level":"info","message":"generation_resume_verified","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.354Z","level":"error","message":"ai_response_missing_json","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.362Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","attempt":1,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.368Z","level":"error","message":"ai_response_missing_json","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.375Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","attempt":2,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.382Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.389Z","level":"info","message":"generation_cover_letters_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","variants":2,"fallbackApplied":true,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.390Z","level":"info","message":"pdf_generation_attempt","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/enhanced_modern.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.390Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.391Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/enhanced_modern.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.392Z","level":"info","message":"pdf_generation_attempt","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/enhanced_professional.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.392Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.393Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/enhanced_professional.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.394Z","level":"info","message":"pdf_generation_attempt","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/cover_letter_cover_modern.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.394Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.395Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/cover_letter_cover_modern.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.396Z","level":"info","message":"pdf_generation_attempt","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/cover_letter_cover_professional.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.397Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.397Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/57f0e0b7-9e05-4379-879f-176b022605a8/cover_letter_cover_professional.pdf","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.400Z","level":"info","message":"llm_call_metrics","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.400Z","level":"info","message":"generation_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","generationRunId":"57f0e0b7-9e05-4379-879f-176b022605a8","enhancedScore":80,"outputs":5,"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.402Z","level":"info","message":"placeholder_record_deleted","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","jobId":"e885249a-1d02-47aa-96a9-193a501ab415","placeholderIdentifier":"57f0e0b7-9e05-4379-879f-176b022605a8","template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e885249a-1d02-47aa-96a9-193a501ab415","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.403Z","level":"info","message":"http_request_completed","requestId":"57f0e0b7-9e05-4379-879f-176b022605a8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":91,"contentLength":"59498","template":"unknown","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"57f0e0b7-9e05-4379-879f-176b022605a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.407Z","level":"info","message":"http_request_received","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","method":"POST","path":"/api/process-cv","template":"unknown","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.408Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.410Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.412Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.413Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.415Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/incoming/original.pdf","chunks":1,"timestamp":1764856366418}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.419Z","level":"info","message":"process_cv_started","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","manualJobDescriptionProvided":true,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.420Z","level":"info","message":"template_selection","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.420Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.426Z","level":"info","message":"initial_upload_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","bucket":"test-bucket","key":"cv/candidate/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/incoming/original.pdf","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.426Z","level":"info","message":"resume_text_extracted","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","characters":57,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.427Z","level":"info","message":"resume_classified","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.427Z","level":"info","message":"raw_upload_relocated","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","bucket":"test-bucket","fromKey":"cv/candidate/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/incoming/original.pdf","toKey":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/original.pdf","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.428Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","bucket":"test-bucket","key":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/original.pdf","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.428Z","level":"info","message":"dynamo_initial_record_written","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","bucket":"test-bucket","key":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/original.pdf","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.429Z","level":"info","message":"upload_metadata_written","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","bucket":"test-bucket","key":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/logs/log.json","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.429Z","level":"info","message":"job_description_supplied_manually","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","characters":174,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.429Z","level":"info","message":"job_description_analyzed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","jobTitle":"","jobSkills":5,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.430Z","level":"info","message":"resume_skills_analyzed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.430Z","level":"info","message":"llm_call_metrics","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.431Z","level":"info","message":"process_cv_scoring_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.433Z","level":"info","message":"llm_call_metrics","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.433Z","level":"info","message":"generation_section_rewrite_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.434Z","level":"info","message":"llm_call_metrics","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.434Z","level":"info","message":"llm_call_metrics","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.436Z","level":"info","message":"generation_resume_verified","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.438Z","level":"error","message":"ai_response_missing_json","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.444Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","attempt":1,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.451Z","level":"error","message":"ai_response_missing_json","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.456Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","attempt":2,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.464Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.473Z","level":"info","message":"generation_cover_letters_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","variants":2,"fallbackApplied":true,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.488Z","level":"info","message":"pdf_generation_attempt","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/enhanced_modern.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.489Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.493Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/enhanced_modern.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.494Z","level":"info","message":"pdf_generation_attempt","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/enhanced_professional.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.494Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.495Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/enhanced_professional.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.495Z","level":"info","message":"pdf_generation_attempt","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/cover_letter_cover_modern.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.495Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.496Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/cover_letter_cover_modern.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.496Z","level":"info","message":"pdf_generation_attempt","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/cover_letter_cover_professional.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.497Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.498Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/63bdcb99-8d55-4dc5-8d35-f33c50d56cf7/cover_letter_cover_professional.pdf","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.500Z","level":"info","message":"llm_call_metrics","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.501Z","level":"info","message":"generation_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","generationRunId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","enhancedScore":80,"outputs":5,"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.502Z","level":"info","message":"placeholder_record_deleted","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","jobId":"0b9383e9-6e28-4115-b585-10bd8340c820","placeholderIdentifier":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0b9383e9-6e28-4115-b585-10bd8340c820","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.503Z","level":"info","message":"http_request_completed","requestId":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":96,"contentLength":"59498","template":"unknown","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"63bdcb99-8d55-4dc5-8d35-f33c50d56cf7","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.506Z","level":"info","message":"http_request_received","requestId":"94c14e12-745f-448c-b319-c05387b749af","method":"POST","path":"/api/process-cv","template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.507Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.508Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.509Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.510Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.512Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/94c14e12-745f-448c-b319-c05387b749af/incoming/original.pdf","chunks":1,"timestamp":1764856366515}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/94c14e12-745f-448c-b319-c05387b749af/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/94c14e12-745f-448c-b319-c05387b749af/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.516Z","level":"info","message":"process_cv_started","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","manualJobDescriptionProvided":true,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.517Z","level":"info","message":"template_selection","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.517Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.525Z","level":"info","message":"initial_upload_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","bucket":"test-bucket","key":"cv/candidate/94c14e12-745f-448c-b319-c05387b749af/incoming/original.pdf","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.525Z","level":"info","message":"resume_text_extracted","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","characters":57,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.526Z","level":"info","message":"resume_classified","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.526Z","level":"info","message":"raw_upload_relocated","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","bucket":"test-bucket","fromKey":"cv/candidate/94c14e12-745f-448c-b319-c05387b749af/incoming/original.pdf","toKey":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/original.pdf","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.526Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","bucket":"test-bucket","key":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/original.pdf","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.527Z","level":"info","message":"dynamo_initial_record_written","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","bucket":"test-bucket","key":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/original.pdf","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.527Z","level":"info","message":"upload_metadata_written","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","bucket":"test-bucket","key":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/logs/log.json","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.527Z","level":"info","message":"job_description_supplied_manually","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","characters":174,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.528Z","level":"info","message":"job_description_analyzed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","jobTitle":"","jobSkills":5,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.528Z","level":"info","message":"resume_skills_analyzed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.528Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.529Z","level":"info","message":"process_cv_scoring_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.530Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"94c14e12-745f-448c-b319-c05387b749af","template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8538:20)
      at generateEnhancedDocumentsResponse (server.js:20179:26)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.536Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.536Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.537Z","level":"info","message":"generation_section_rewrite_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.537Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.538Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.541Z","level":"error","message":"ai_response_missing_json","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.546Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","attempt":1,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.552Z","level":"error","message":"ai_response_missing_json","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.557Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","attempt":2,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.563Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.569Z","level":"info","message":"generation_cover_letters_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","variants":2,"fallbackApplied":true,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.569Z","level":"info","message":"pdf_generation_attempt","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/enhanced_modern.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.570Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.571Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/enhanced_modern.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.571Z","level":"info","message":"pdf_generation_attempt","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/enhanced_professional.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.572Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.572Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/enhanced_professional.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.572Z","level":"info","message":"pdf_generation_attempt","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/cover_letter_cover_modern.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.573Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.573Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/cover_letter_cover_modern.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.574Z","level":"info","message":"pdf_generation_attempt","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/cover_letter_cover_professional.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.574Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.575Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/94c14e12-745f-448c-b319-c05387b749af/cover_letter_cover_professional.pdf","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.577Z","level":"info","message":"llm_call_metrics","requestId":"94c14e12-745f-448c-b319-c05387b749af","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.578Z","level":"info","message":"generation_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","generationRunId":"94c14e12-745f-448c-b319-c05387b749af","enhancedScore":80,"outputs":5,"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.580Z","level":"info","message":"placeholder_record_deleted","requestId":"94c14e12-745f-448c-b319-c05387b749af","jobId":"d6203cb5-4482-4009-9f7d-54f4dd927003","placeholderIdentifier":"94c14e12-745f-448c-b319-c05387b749af","template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d6203cb5-4482-4009-9f7d-54f4dd927003","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.581Z","level":"info","message":"http_request_completed","requestId":"94c14e12-745f-448c-b319-c05387b749af","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"58301","template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"94c14e12-745f-448c-b319-c05387b749af","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.589Z","level":"info","message":"http_request_received","requestId":"9068c254-7038-4826-9356-9db7166045c3","method":"POST","path":"/api/process-cv","template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.591Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.592Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.594Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.596Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.598Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/9068c254-7038-4826-9356-9db7166045c3/incoming/original.pdf","chunks":1,"timestamp":1764856366600}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/9068c254-7038-4826-9356-9db7166045c3/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/9068c254-7038-4826-9356-9db7166045c3/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.601Z","level":"info","message":"process_cv_started","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","manualJobDescriptionProvided":true,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.602Z","level":"info","message":"template_selection","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.602Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.608Z","level":"info","message":"initial_upload_completed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","bucket":"test-bucket","key":"cv/candidate/9068c254-7038-4826-9356-9db7166045c3/incoming/original.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.609Z","level":"info","message":"resume_text_extracted","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","characters":57,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.609Z","level":"info","message":"resume_classified","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.610Z","level":"info","message":"raw_upload_relocated","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","bucket":"test-bucket","fromKey":"cv/candidate/9068c254-7038-4826-9356-9db7166045c3/incoming/original.pdf","toKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/original.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.610Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","bucket":"test-bucket","key":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/original.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.612Z","level":"info","message":"dynamo_initial_record_written","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","bucket":"test-bucket","key":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/original.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.612Z","level":"info","message":"upload_metadata_written","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","bucket":"test-bucket","key":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/logs/log.json","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.613Z","level":"info","message":"job_description_supplied_manually","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","characters":174,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.613Z","level":"info","message":"job_description_analyzed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","jobTitle":"","jobSkills":5,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.613Z","level":"info","message":"resume_skills_analyzed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.614Z","level":"info","message":"llm_call_metrics","requestId":"9068c254-7038-4826-9356-9db7166045c3","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.614Z","level":"info","message":"process_cv_scoring_completed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.616Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"9068c254-7038-4826-9356-9db7166045c3","template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8538:20)
      at generateEnhancedDocumentsResponse (server.js:20179:26)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.622Z","level":"info","message":"llm_call_metrics","requestId":"9068c254-7038-4826-9356-9db7166045c3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.622Z","level":"info","message":"llm_call_metrics","requestId":"9068c254-7038-4826-9356-9db7166045c3","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.622Z","level":"info","message":"generation_section_rewrite_completed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.623Z","level":"info","message":"llm_call_metrics","requestId":"9068c254-7038-4826-9356-9db7166045c3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.623Z","level":"info","message":"llm_call_metrics","requestId":"9068c254-7038-4826-9356-9db7166045c3","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.627Z","level":"error","message":"ai_response_missing_json","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.632Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","attempt":1,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.638Z","level":"error","message":"ai_response_missing_json","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.644Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","attempt":2,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.650Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.656Z","level":"info","message":"generation_cover_letters_completed","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","variants":2,"fallbackApplied":true,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.656Z","level":"info","message":"pdf_generation_attempt","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/enhanced_modern.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.657Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.657Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/enhanced_modern.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.658Z","level":"info","message":"pdf_generation_attempt","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/enhanced_professional.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.658Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.659Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/enhanced_professional.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.659Z","level":"info","message":"pdf_generation_attempt","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_letter_cover_modern.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.660Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.660Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_letter_cover_modern.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.661Z","level":"info","message":"pdf_generation_attempt","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_letter_cover_professional.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.661Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.662Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_letter_cover_professional.pdf","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.663Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","artifactType":"original_upload","storageKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/original.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"original_upload"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21867:9)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.669Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","artifactType":"version1","storageKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/modern/version1.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"version1"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21867:9)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.674Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","artifactType":"version2","storageKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/professional/version2.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"version2"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21867:9)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.683Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","artifactType":"cover_letter1","storageKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_modern/cover_letter1.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"cover_letter1"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21867:9)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.692Z","level":"warn","message":"download_artifact_signed_url_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","artifactType":"cover_letter2","storageKey":"cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_professional/cover_letter2.pdf","template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"cover_letter2"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21867:9)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.710Z","level":"error","message":"generation_urls_missing","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","requestedUrlCount":0,"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:21968:7)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.721Z","level":"error","message":"api_error_response","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","status":500,"error":{"code":"AI_RESPONSE_INVALID","message":"Unable to prepare download links for the generated documents.","details":{"logs":{"s3":{"bucket":"test-bucket","key":"logs/errors/2025-12-04/2025-12-04t13-52-46-721z-9068c254-7038-4826-9356-9db7166045c3.json","status":"pending"}}},"requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a"},"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at generateEnhancedDocumentsResponse (server.js:21972:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.740Z","level":"warn","message":"generation_artifacts_cleaned_up","requestId":"9068c254-7038-4826-9356-9db7166045c3","jobId":"36250252-d01d-4eb2-9682-9ca49dd9258a","generationRunId":"9068c254-7038-4826-9356-9db7166045c3","reason":"no_valid_urls","deletedKeys":["cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/modern/version1.pdf","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/professional/version2.pdf","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_modern/cover_letter1.pdf","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/cover_professional/cover_letter2.pdf","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/original.json","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/version1.json","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/version2.json","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/cover-letter1.json","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/cover-letter2.json","cv/professional_summary/9068c254-7038-4826-9356-9db7166045c3/artifacts/changelog.json"],"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"36250252-d01d-4eb2-9682-9ca49dd9258a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:19895:9
      at generateEnhancedDocumentsResponse (server.js:22500:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.748Z","level":"info","message":"http_request_completed","requestId":"9068c254-7038-4826-9356-9db7166045c3","method":"POST","path":"/api/process-cv","statusCode":500,"durationMs":159,"contentLength":"396","template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"9068c254-7038-4826-9356-9db7166045c3","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.753Z","level":"info","message":"http_request_received","requestId":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.755Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.756Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.758Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.771Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.773Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.775Z","level":"info","message":"http_request_completed","requestId":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","method":"POST","path":"/api/refresh-download-link","statusCode":200,"durationMs":22,"contentLength":"232","template":"unknown","session":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"32ff2c21-7e7a-45eb-a5c4-425dfb199293","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.779Z","level":"info","message":"http_request_received","requestId":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","method":"POST","path":"/api/refresh-download-link","template":"unknown","session":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.780Z","level":"info","message":"path_restoration_debug","reqPath":"/api/refresh-download-link","reqUrl":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.781Z","level":"info","message":"request_received","path":"/api/refresh-download-link","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.783Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.784Z","level":"info","message":"client_app_routes_entered","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.785Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/refresh-download-link","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.786Z","level":"warn","message":"api_error_response","requestId":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","jobId":"job-123","status":404,"error":{"code":"DOWNLOAD_NOT_FOUND","message":"The requested download link is no longer available.","details":{},"requestId":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","jobId":"job-123"},"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:24605:12

  console.log
    {"timestamp":"2025-12-04T13:52:46.792Z","level":"info","message":"http_request_completed","requestId":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","method":"POST","path":"/api/refresh-download-link","statusCode":404,"durationMs":13,"contentLength":"201","template":"unknown","session":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a994f5ca-90a2-4b51-81ab-ffbd4db67403","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.794Z","level":"info","message":"http_request_received","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","method":"POST","path":"/api/process-cv","template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.795Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.796Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.798Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.799Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.801Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cee3ad67-398d-417b-bc22-9053abb6fe76/incoming/original.pdf","chunks":1,"timestamp":1764856366803}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cee3ad67-398d-417b-bc22-9053abb6fe76/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cee3ad67-398d-417b-bc22-9053abb6fe76/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.804Z","level":"info","message":"process_cv_started","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","manualJobDescriptionProvided":true,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.805Z","level":"info","message":"template_selection","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.806Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.812Z","level":"info","message":"initial_upload_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","bucket":"test-bucket","key":"cv/candidate/cee3ad67-398d-417b-bc22-9053abb6fe76/incoming/original.pdf","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.813Z","level":"info","message":"resume_text_extracted","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","characters":57,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.813Z","level":"info","message":"resume_classified","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.813Z","level":"info","message":"raw_upload_relocated","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","bucket":"test-bucket","fromKey":"cv/candidate/cee3ad67-398d-417b-bc22-9053abb6fe76/incoming/original.pdf","toKey":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/original.pdf","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.814Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","bucket":"test-bucket","key":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/original.pdf","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.815Z","level":"info","message":"dynamo_initial_record_written","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","bucket":"test-bucket","key":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/original.pdf","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.815Z","level":"info","message":"upload_metadata_written","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","bucket":"test-bucket","key":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/logs/log.json","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.815Z","level":"info","message":"job_description_supplied_manually","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","characters":174,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.815Z","level":"info","message":"job_description_analyzed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","jobTitle":"","jobSkills":5,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.816Z","level":"info","message":"resume_skills_analyzed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.816Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.817Z","level":"info","message":"process_cv_scoring_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.821Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8538:20)
      at generateEnhancedDocumentsResponse (server.js:20179:26)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.831Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.831Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.832Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.832Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","skillCount":5,"outcome":"no_parse","template":"project_summary","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.833Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"564a2d5d7349d01698064836d5331e48e750555f0634e6408083bf20a4cbac8d","skillCount":5,"outcome":"fallback","template":"project_summary","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:46.837Z","level":"error","message":"ai_response_missing_json","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.844Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","attempt":1,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.error
    {"timestamp":"2025-12-04T13:52:46.850Z","level":"error","message":"ai_response_missing_json","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at generateEnhancedDocumentsResponse (server.js:20461:26)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.857Z","level":"warn","message":"generation_cover_letters_invalid","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","attempt":2,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20466:11)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.865Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.872Z","level":"info","message":"generation_cover_letters_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","variants":2,"fallbackApplied":true,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.873Z","level":"info","message":"pdf_generation_attempt","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/enhanced_modern.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.874Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.875Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/enhanced_modern.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.875Z","level":"info","message":"pdf_generation_attempt","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/enhanced_professional.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.876Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.877Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/enhanced_professional.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.878Z","level":"info","message":"pdf_generation_attempt","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/cover_letter_cover_modern.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.879Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.879Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/cover_letter_cover_modern.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.880Z","level":"info","message":"pdf_generation_attempt","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/cover_letter_cover_professional.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.881Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.882Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cee3ad67-398d-417b-bc22-9053abb6fe76/cover_letter_cover_professional.pdf","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.884Z","level":"info","message":"llm_call_metrics","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.885Z","level":"info","message":"generation_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","generationRunId":"cee3ad67-398d-417b-bc22-9053abb6fe76","enhancedScore":80,"outputs":5,"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.886Z","level":"info","message":"placeholder_record_deleted","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","jobId":"6658988e-743a-4d1e-bb05-c68fc119cb1f","placeholderIdentifier":"cee3ad67-398d-417b-bc22-9053abb6fe76","template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6658988e-743a-4d1e-bb05-c68fc119cb1f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.890Z","level":"info","message":"http_request_completed","requestId":"cee3ad67-398d-417b-bc22-9053abb6fe76","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":96,"contentLength":"58301","template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cee3ad67-398d-417b-bc22-9053abb6fe76","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.900Z","level":"info","message":"http_request_received","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","method":"POST","path":"/api/process-cv","template":"unknown","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.902Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.905Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.907Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.909Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.912Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/46e2b744-a778-4a3e-a7ef-9934f3f40acd/incoming/original.pdf","chunks":1,"timestamp":1764856366916}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/46e2b744-a778-4a3e-a7ef-9934f3f40acd/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/46e2b744-a778-4a3e-a7ef-9934f3f40acd/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.919Z","level":"info","message":"process_cv_started","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","manualJobDescriptionProvided":true,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.920Z","level":"info","message":"template_selection","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.921Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:46.928Z","level":"info","message":"initial_upload_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","bucket":"test-bucket","key":"cv/candidate/46e2b744-a778-4a3e-a7ef-9934f3f40acd/incoming/original.pdf","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.928Z","level":"info","message":"resume_text_extracted","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","characters":57,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.929Z","level":"info","message":"resume_classified","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.929Z","level":"info","message":"raw_upload_relocated","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","bucket":"test-bucket","fromKey":"cv/candidate/46e2b744-a778-4a3e-a7ef-9934f3f40acd/incoming/original.pdf","toKey":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/original.pdf","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.929Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","bucket":"test-bucket","key":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/original.pdf","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.930Z","level":"info","message":"dynamo_initial_record_written","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","bucket":"test-bucket","key":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/original.pdf","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.930Z","level":"info","message":"upload_metadata_written","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","bucket":"test-bucket","key":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/logs/log.json","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.930Z","level":"info","message":"job_description_supplied_manually","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","characters":174,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.931Z","level":"info","message":"job_description_analyzed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","jobTitle":"","jobSkills":5,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.931Z","level":"info","message":"resume_skills_analyzed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.932Z","level":"info","message":"llm_call_metrics","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.932Z","level":"info","message":"process_cv_scoring_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.935Z","level":"info","message":"llm_call_metrics","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.935Z","level":"info","message":"generation_section_rewrite_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.936Z","level":"info","message":"llm_call_metrics","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.939Z","level":"info","message":"generation_resume_verified","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.942Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:46.950Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:46.958Z","level":"info","message":"generation_cover_letters_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","variants":2,"fallbackApplied":true,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.959Z","level":"info","message":"pdf_generation_attempt","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/enhanced_modern.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.960Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.961Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/enhanced_modern.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.962Z","level":"info","message":"pdf_generation_attempt","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/enhanced_professional.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.963Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.965Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/enhanced_professional.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.965Z","level":"info","message":"pdf_generation_attempt","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/cover_letter_cover_modern.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.966Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.967Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/cover_letter_cover_modern.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.968Z","level":"info","message":"pdf_generation_attempt","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/cover_letter_cover_professional.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.968Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.969Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/46e2b744-a778-4a3e-a7ef-9934f3f40acd/cover_letter_cover_professional.pdf","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.972Z","level":"info","message":"llm_call_metrics","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.972Z","level":"info","message":"generation_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","generationRunId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","enhancedScore":80,"outputs":5,"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.974Z","level":"info","message":"placeholder_record_deleted","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","jobId":"b323bc57-70f0-46d3-873d-f87389293dce","placeholderIdentifier":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"b323bc57-70f0-46d3-873d-f87389293dce","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.975Z","level":"info","message":"http_request_completed","requestId":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":75,"contentLength":"58133","template":"unknown","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"46e2b744-a778-4a3e-a7ef-9934f3f40acd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.980Z","level":"info","message":"http_request_received","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","method":"POST","path":"/api/process-cv","template":"unknown","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.981Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.983Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.985Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.988Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.991Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/114a01fd-561f-4b38-ac6e-4f21de4e9235/incoming/original.pdf","chunks":1,"timestamp":1764856366994}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/114a01fd-561f-4b38-ac6e-4f21de4e9235/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/114a01fd-561f-4b38-ac6e-4f21de4e9235/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:46.997Z","level":"info","message":"process_cv_started","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","manualJobDescriptionProvided":true,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:46.997Z","level":"info","message":"template_selection","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","template1":"classic","template2":"ats","coverTemplate1":"cover_classic","coverTemplate2":"cover_ats","availableCvTemplates":["classic","ats","modern","professional","2025"],"availableCoverTemplates":["cover_classic","cover_ats","cover_modern","cover_professional","cover_2025"],"template":"classic","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:46.998Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.006Z","level":"info","message":"initial_upload_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","bucket":"test-bucket","key":"cv/candidate/114a01fd-561f-4b38-ac6e-4f21de4e9235/incoming/original.pdf","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.007Z","level":"info","message":"resume_text_extracted","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","characters":57,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.007Z","level":"info","message":"resume_classified","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.008Z","level":"info","message":"raw_upload_relocated","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","bucket":"test-bucket","fromKey":"cv/candidate/114a01fd-561f-4b38-ac6e-4f21de4e9235/incoming/original.pdf","toKey":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/original.pdf","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.008Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","bucket":"test-bucket","key":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/original.pdf","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.012Z","level":"info","message":"dynamo_initial_record_written","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","bucket":"test-bucket","key":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/original.pdf","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.012Z","level":"info","message":"upload_metadata_written","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","bucket":"test-bucket","key":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/logs/log.json","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.013Z","level":"info","message":"job_description_supplied_manually","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","characters":174,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.013Z","level":"info","message":"job_description_analyzed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","jobTitle":"","jobSkills":5,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.014Z","level":"info","message":"resume_skills_analyzed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.015Z","level":"info","message":"llm_call_metrics","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.017Z","level":"info","message":"process_cv_scoring_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.021Z","level":"info","message":"llm_call_metrics","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.022Z","level":"info","message":"generation_section_rewrite_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.023Z","level":"info","message":"llm_call_metrics","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.029Z","level":"info","message":"generation_resume_verified","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.034Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.044Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.053Z","level":"info","message":"generation_cover_letters_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","variants":2,"fallbackApplied":true,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.054Z","level":"info","message":"pdf_generation_attempt","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"classic","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/enhanced_classic.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.055Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.056Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"classic","attempt":1,"bytes":3,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/enhanced_classic.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.057Z","level":"info","message":"pdf_generation_attempt","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"ats","attempt":1,"totalAttempts":1,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/enhanced_ats.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.058Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":["mode","atsMode"],"session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.059Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"ats","attempt":1,"bytes":3,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/enhanced_ats.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.060Z","level":"info","message":"pdf_generation_attempt","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/cover_letter_cover_classic.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.061Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.061Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_classic","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/cover_letter_cover_classic.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.062Z","level":"info","message":"pdf_generation_attempt","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/cover_letter_cover_ats.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.063Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.064Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/","sessionId":"[REDACTED]","template":"cover_ats","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/114a01fd-561f-4b38-ac6e-4f21de4e9235/cover_letter_cover_ats.pdf","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.068Z","level":"info","message":"llm_call_metrics","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.069Z","level":"info","message":"generation_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","generationRunId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","enhancedScore":80,"outputs":5,"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.071Z","level":"info","message":"placeholder_record_deleted","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","jobId":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","placeholderIdentifier":"114a01fd-561f-4b38-ac6e-4f21de4e9235","template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3806fe7f-e0bf-430f-9f29-0a7b37ac7b1b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.073Z","level":"info","message":"http_request_completed","requestId":"114a01fd-561f-4b38-ac6e-4f21de4e9235","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":93,"contentLength":"57992","template":"unknown","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"114a01fd-561f-4b38-ac6e-4f21de4e9235","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.077Z","level":"info","message":"http_request_received","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","method":"POST","path":"/api/process-cv","template":"unknown","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.079Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.082Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.084Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.087Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.089Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4ac120db-e956-43e3-bf47-25f6ff41a570/incoming/original.pdf","chunks":1,"timestamp":1764856367092}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4ac120db-e956-43e3-bf47-25f6ff41a570/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4ac120db-e956-43e3-bf47-25f6ff41a570/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":3}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.095Z","level":"info","message":"process_cv_started","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","manualJobDescriptionProvided":true,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.096Z","level":"info","message":"template_selection","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.097Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.106Z","level":"info","message":"initial_upload_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","bucket":"test-bucket","key":"cv/candidate/4ac120db-e956-43e3-bf47-25f6ff41a570/incoming/original.pdf","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.107Z","level":"info","message":"resume_text_extracted","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","characters":57,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.107Z","level":"info","message":"resume_classified","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.108Z","level":"info","message":"raw_upload_relocated","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","bucket":"test-bucket","fromKey":"cv/candidate/4ac120db-e956-43e3-bf47-25f6ff41a570/incoming/original.pdf","toKey":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/original.pdf","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.108Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","bucket":"test-bucket","key":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/original.pdf","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.109Z","level":"info","message":"dynamo_initial_record_written","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","bucket":"test-bucket","key":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/original.pdf","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.109Z","level":"info","message":"upload_metadata_written","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","bucket":"test-bucket","key":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/logs/log.json","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.110Z","level":"info","message":"job_description_supplied_manually","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","characters":174,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.111Z","level":"info","message":"job_description_analyzed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","jobTitle":"","jobSkills":5,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.111Z","level":"info","message":"resume_skills_analyzed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.112Z","level":"info","message":"llm_call_metrics","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.113Z","level":"info","message":"process_cv_scoring_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.118Z","level":"info","message":"llm_call_metrics","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"02d97c4de2dc6045a8d84c10e35b0b09be1fff3da32b47fa5d4c293317deef58","addedSkillCount":0,"template":"resume_rewrite","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.119Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.119Z","level":"info","message":"llm_call_metrics","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"3cb5bda2be537250e5bef0d91034f772d9c2c805c99b7e04ba145ecb904d5893","skillCount":5,"template":"project_summary","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.122Z","level":"info","message":"generation_resume_verified","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.127Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.136Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.142Z","level":"info","message":"generation_cover_letters_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","variants":2,"fallbackApplied":true,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.143Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/enhanced_modern.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.144Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.144Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/enhanced_modern.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.145Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/enhanced_professional.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.145Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.146Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/enhanced_professional.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.147Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/cover_letter_cover_modern.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.148Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.149Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/cover_letter_cover_modern.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.150Z","level":"info","message":"pdf_generation_attempt","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/cover_letter_cover_professional.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.151Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.152Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4ac120db-e956-43e3-bf47-25f6ff41a570/cover_letter_cover_professional.pdf","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.156Z","level":"info","message":"llm_call_metrics","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.156Z","level":"info","message":"generation_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","generationRunId":"4ac120db-e956-43e3-bf47-25f6ff41a570","enhancedScore":80,"outputs":5,"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.158Z","level":"info","message":"placeholder_record_deleted","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","jobId":"ed33e135-674f-4618-b395-92a28355a61f","placeholderIdentifier":"4ac120db-e956-43e3-bf47-25f6ff41a570","template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ed33e135-674f-4618-b395-92a28355a61f","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.159Z","level":"info","message":"http_request_completed","requestId":"4ac120db-e956-43e3-bf47-25f6ff41a570","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":82,"contentLength":"59354","template":"unknown","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4ac120db-e956-43e3-bf47-25f6ff41a570","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.164Z","level":"info","message":"http_request_received","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","method":"POST","path":"/api/process-cv","template":"unknown","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.165Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.167Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.168Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.170Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.172Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/34c4cfc7-d0a4-4a61-a986-434e2f58f747/incoming/original.pdf","chunks":1,"timestamp":1764856367175}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/34c4cfc7-d0a4-4a61-a986-434e2f58f747/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/34c4cfc7-d0a4-4a61-a986-434e2f58f747/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.177Z","level":"info","message":"process_cv_started","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","manualJobDescriptionProvided":true,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.177Z","level":"info","message":"template_selection","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.178Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.185Z","level":"info","message":"initial_upload_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","bucket":"test-bucket","key":"cv/candidate/34c4cfc7-d0a4-4a61-a986-434e2f58f747/incoming/original.pdf","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.185Z","level":"info","message":"resume_text_extracted","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","characters":57,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.186Z","level":"info","message":"resume_classified","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.186Z","level":"info","message":"raw_upload_relocated","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","bucket":"test-bucket","fromKey":"cv/candidate/34c4cfc7-d0a4-4a61-a986-434e2f58f747/incoming/original.pdf","toKey":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/original.pdf","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.186Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","bucket":"test-bucket","key":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/original.pdf","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.187Z","level":"info","message":"dynamo_initial_record_written","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","bucket":"test-bucket","key":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/original.pdf","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.187Z","level":"info","message":"upload_metadata_written","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","bucket":"test-bucket","key":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/logs/log.json","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.188Z","level":"info","message":"job_description_supplied_manually","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","characters":174,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.188Z","level":"info","message":"job_description_analyzed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","jobTitle":"","jobSkills":5,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.189Z","level":"info","message":"resume_skills_analyzed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.189Z","level":"info","message":"llm_call_metrics","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.190Z","level":"info","message":"process_cv_scoring_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.193Z","level":"info","message":"llm_call_metrics","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.193Z","level":"info","message":"generation_section_rewrite_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.194Z","level":"info","message":"llm_call_metrics","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"9f21e6c3bcbaef44e0e62da79c13bb8790b57affdb114dc9f59fc273f882540c","skillCount":5,"template":"project_summary","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.196Z","level":"info","message":"generation_resume_verified","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.202Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.209Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.216Z","level":"info","message":"generation_cover_letters_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","variants":2,"fallbackApplied":true,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.217Z","level":"info","message":"pdf_generation_attempt","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/enhanced_modern.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.217Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.218Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/enhanced_modern.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.218Z","level":"info","message":"pdf_generation_attempt","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/enhanced_professional.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.219Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.219Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/enhanced_professional.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.220Z","level":"info","message":"pdf_generation_attempt","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/cover_letter_cover_modern.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.220Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.221Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/cover_letter_cover_modern.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.222Z","level":"info","message":"pdf_generation_attempt","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/cover_letter_cover_professional.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.222Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.223Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/34c4cfc7-d0a4-4a61-a986-434e2f58f747/cover_letter_cover_professional.pdf","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.225Z","level":"info","message":"llm_call_metrics","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.226Z","level":"info","message":"generation_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","generationRunId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","enhancedScore":80,"outputs":5,"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.227Z","level":"info","message":"placeholder_record_deleted","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","jobId":"15b6731a-9b34-4e34-b4fd-59097724d93b","placeholderIdentifier":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"15b6731a-9b34-4e34-b4fd-59097724d93b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.228Z","level":"info","message":"http_request_completed","requestId":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":64,"contentLength":"57968","template":"unknown","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"34c4cfc7-d0a4-4a61-a986-434e2f58f747","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.231Z","level":"info","message":"http_request_received","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","method":"POST","path":"/api/process-cv","template":"unknown","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.232Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.234Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.236Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.237Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.242Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/d26a687e-febc-4839-a8e5-cdf79d07d0d5/incoming/original.pdf","chunks":1,"timestamp":1764856367247}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/d26a687e-febc-4839-a8e5-cdf79d07d0d5/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/d26a687e-febc-4839-a8e5-cdf79d07d0d5/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.248Z","level":"info","message":"process_cv_started","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","manualJobDescriptionProvided":true,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.249Z","level":"info","message":"template_selection","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.250Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.256Z","level":"info","message":"initial_upload_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","bucket":"test-bucket","key":"cv/candidate/d26a687e-febc-4839-a8e5-cdf79d07d0d5/incoming/original.pdf","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.257Z","level":"info","message":"resume_text_extracted","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","characters":57,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.257Z","level":"info","message":"resume_classified","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.258Z","level":"info","message":"raw_upload_relocated","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","bucket":"test-bucket","fromKey":"cv/candidate/d26a687e-febc-4839-a8e5-cdf79d07d0d5/incoming/original.pdf","toKey":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/original.pdf","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.259Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","bucket":"test-bucket","key":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/original.pdf","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.259Z","level":"info","message":"dynamo_initial_record_written","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","bucket":"test-bucket","key":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/original.pdf","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.260Z","level":"info","message":"upload_metadata_written","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","bucket":"test-bucket","key":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/logs/log.json","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.260Z","level":"info","message":"job_description_supplied_manually","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","characters":174,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.261Z","level":"info","message":"job_description_analyzed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","jobTitle":"","jobSkills":5,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.261Z","level":"info","message":"resume_skills_analyzed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.262Z","level":"info","message":"llm_call_metrics","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.263Z","level":"info","message":"process_cv_scoring_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.266Z","level":"info","message":"llm_call_metrics","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.266Z","level":"info","message":"generation_section_rewrite_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.267Z","level":"info","message":"llm_call_metrics","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"78ddb280a2cb83c23c85b1035eed8b3d5fbcd26529ae4529d14b4e3768cf61d3","skillCount":5,"template":"project_summary","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.270Z","level":"info","message":"generation_resume_verified","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.274Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.280Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.287Z","level":"info","message":"generation_cover_letters_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","variants":2,"fallbackApplied":true,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.287Z","level":"info","message":"pdf_generation_attempt","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/enhanced_modern.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.288Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.289Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/enhanced_modern.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.289Z","level":"info","message":"pdf_generation_attempt","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/enhanced_professional.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.290Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.290Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/enhanced_professional.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.291Z","level":"info","message":"pdf_generation_attempt","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/cover_letter_cover_modern.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.291Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.292Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/cover_letter_cover_modern.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.293Z","level":"info","message":"pdf_generation_attempt","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/cover_letter_cover_professional.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.293Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.294Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/d26a687e-febc-4839-a8e5-cdf79d07d0d5/cover_letter_cover_professional.pdf","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.296Z","level":"info","message":"llm_call_metrics","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.297Z","level":"info","message":"generation_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","generationRunId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","enhancedScore":80,"outputs":5,"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.299Z","level":"info","message":"placeholder_record_deleted","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","jobId":"db84f0f4-11fe-4c16-be0a-223cd4be2694","placeholderIdentifier":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"db84f0f4-11fe-4c16-be0a-223cd4be2694","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.300Z","level":"info","message":"http_request_completed","requestId":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":69,"contentLength":"59302","template":"unknown","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"d26a687e-febc-4839-a8e5-cdf79d07d0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.304Z","level":"info","message":"http_request_received","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","method":"POST","path":"/api/process-cv","template":"unknown","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.305Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.306Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.308Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.309Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.312Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/cde6d402-c61f-4413-ad3a-34fd52168a58/incoming/original.pdf","chunks":1,"timestamp":1764856367314}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/cde6d402-c61f-4413-ad3a-34fd52168a58/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/cde6d402-c61f-4413-ad3a-34fd52168a58/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.316Z","level":"info","message":"process_cv_started","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","manualJobDescriptionProvided":true,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.316Z","level":"info","message":"template_selection","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.317Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.324Z","level":"info","message":"initial_upload_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","bucket":"test-bucket","key":"cv/candidate/cde6d402-c61f-4413-ad3a-34fd52168a58/incoming/original.pdf","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.325Z","level":"info","message":"resume_text_extracted","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","characters":57,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.325Z","level":"info","message":"resume_classified","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.325Z","level":"info","message":"raw_upload_relocated","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","bucket":"test-bucket","fromKey":"cv/candidate/cde6d402-c61f-4413-ad3a-34fd52168a58/incoming/original.pdf","toKey":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/original.pdf","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.326Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","bucket":"test-bucket","key":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/original.pdf","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.326Z","level":"info","message":"dynamo_initial_record_written","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","bucket":"test-bucket","key":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/original.pdf","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.327Z","level":"info","message":"upload_metadata_written","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","bucket":"test-bucket","key":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/logs/log.json","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.327Z","level":"info","message":"job_description_supplied_manually","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","characters":174,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.327Z","level":"info","message":"job_description_analyzed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","jobTitle":"","jobSkills":5,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.328Z","level":"info","message":"resume_skills_analyzed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.329Z","level":"info","message":"llm_call_metrics","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.329Z","level":"info","message":"process_cv_scoring_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.332Z","level":"info","message":"llm_call_metrics","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"c32b748981f4e178814e257598e9097dabf82d48f753e111da0149a2ea5fd9aa","addedSkillCount":0,"template":"resume_rewrite","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.332Z","level":"info","message":"generation_section_rewrite_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","modifiedTitle":"Name","addedSkills":0,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.333Z","level":"info","message":"llm_call_metrics","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"968eb1ed4b9ef5f26cd87ba7e60f108acaf8c335efc2ef153d4aaa0b022ea8c8","skillCount":5,"template":"project_summary","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.335Z","level":"info","message":"generation_resume_verified","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.338Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.345Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.351Z","level":"info","message":"generation_cover_letters_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","variants":2,"fallbackApplied":true,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.352Z","level":"info","message":"pdf_generation_attempt","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/enhanced_modern.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.353Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.353Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/enhanced_modern.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.354Z","level":"info","message":"pdf_generation_attempt","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/enhanced_professional.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.354Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.355Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/enhanced_professional.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.356Z","level":"info","message":"pdf_generation_attempt","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/cover_letter_cover_modern.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.356Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.357Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/cover_letter_cover_modern.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.358Z","level":"info","message":"pdf_generation_attempt","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/cover_letter_cover_professional.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.358Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.359Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/cde6d402-c61f-4413-ad3a-34fd52168a58/cover_letter_cover_professional.pdf","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.361Z","level":"info","message":"llm_call_metrics","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"f00232cc4d88fb824e148aeaa761067d77604cbc2577582275a91ed208cbe5af","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.362Z","level":"info","message":"generation_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","generationRunId":"cde6d402-c61f-4413-ad3a-34fd52168a58","enhancedScore":80,"outputs":5,"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.363Z","level":"info","message":"placeholder_record_deleted","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","jobId":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","placeholderIdentifier":"cde6d402-c61f-4413-ad3a-34fd52168a58","template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5e0585e8-cbbe-43fc-bc3e-f540534b61a4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.364Z","level":"info","message":"http_request_completed","requestId":"cde6d402-c61f-4413-ad3a-34fd52168a58","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":60,"contentLength":"59835","template":"unknown","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"cde6d402-c61f-4413-ad3a-34fd52168a58","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.369Z","level":"info","message":"http_request_received","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","method":"POST","path":"/api/process-cv","template":"unknown","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.370Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.371Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.373Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.374Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.376Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/10049fc6-2ced-4bce-91a8-490c63a78daa/incoming/original.pdf","chunks":1,"timestamp":1764856367379}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/10049fc6-2ced-4bce-91a8-490c63a78daa/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/10049fc6-2ced-4bce-91a8-490c63a78daa/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.380Z","level":"info","message":"process_cv_started","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","manualJobDescriptionProvided":true,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.381Z","level":"info","message":"template_selection","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.381Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.388Z","level":"info","message":"initial_upload_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","bucket":"test-bucket","key":"cv/candidate/10049fc6-2ced-4bce-91a8-490c63a78daa/incoming/original.pdf","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.388Z","level":"info","message":"resume_text_extracted","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","characters":57,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.388Z","level":"info","message":"resume_classified","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.389Z","level":"info","message":"raw_upload_relocated","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","bucket":"test-bucket","fromKey":"cv/candidate/10049fc6-2ced-4bce-91a8-490c63a78daa/incoming/original.pdf","toKey":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/original.pdf","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.389Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","bucket":"test-bucket","key":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/original.pdf","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.390Z","level":"info","message":"dynamo_initial_record_written","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","bucket":"test-bucket","key":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/original.pdf","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.390Z","level":"info","message":"upload_metadata_written","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","bucket":"test-bucket","key":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/logs/log.json","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.390Z","level":"info","message":"job_description_supplied_manually","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","characters":174,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.391Z","level":"info","message":"job_description_analyzed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","jobTitle":"","jobSkills":5,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.391Z","level":"info","message":"resume_skills_analyzed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.392Z","level":"info","message":"llm_call_metrics","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.393Z","level":"info","message":"process_cv_scoring_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.395Z","level":"info","message":"llm_call_metrics","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.396Z","level":"info","message":"generation_section_rewrite_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.396Z","level":"info","message":"llm_call_metrics","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.398Z","level":"info","message":"generation_resume_verified","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.401Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.408Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.415Z","level":"info","message":"generation_cover_letters_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","variants":2,"fallbackApplied":true,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.416Z","level":"info","message":"pdf_generation_attempt","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/enhanced_modern.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.416Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.417Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/enhanced_modern.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.418Z","level":"info","message":"pdf_generation_attempt","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/enhanced_professional.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.418Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/enhanced_professional.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.420Z","level":"info","message":"pdf_generation_attempt","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/cover_letter_cover_modern.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.422Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/cover_letter_cover_modern.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.423Z","level":"info","message":"pdf_generation_attempt","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/cover_letter_cover_professional.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.424Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/10049fc6-2ced-4bce-91a8-490c63a78daa/cover_letter_cover_professional.pdf","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.427Z","level":"info","message":"llm_call_metrics","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.428Z","level":"info","message":"generation_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","generationRunId":"10049fc6-2ced-4bce-91a8-490c63a78daa","enhancedScore":80,"outputs":5,"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.429Z","level":"info","message":"placeholder_record_deleted","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","jobId":"82689f8f-da5f-4885-86e9-1311133a5861","placeholderIdentifier":"10049fc6-2ced-4bce-91a8-490c63a78daa","template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"82689f8f-da5f-4885-86e9-1311133a5861","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.430Z","level":"info","message":"http_request_completed","requestId":"10049fc6-2ced-4bce-91a8-490c63a78daa","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":62,"contentLength":"58133","template":"unknown","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"10049fc6-2ced-4bce-91a8-490c63a78daa","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.433Z","level":"info","message":"http_request_received","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","method":"POST","path":"/api/process-cv","template":"unknown","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.435Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.436Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.438Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.439Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.441Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/4e2ede9d-620a-4e90-b215-9bd6910d4837/incoming/original.pdf","chunks":1,"timestamp":1764856367444}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/4e2ede9d-620a-4e90-b215-9bd6910d4837/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/4e2ede9d-620a-4e90-b215-9bd6910d4837/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.445Z","level":"info","message":"process_cv_started","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","manualJobDescriptionProvided":true,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.446Z","level":"info","message":"template_selection","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.446Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.454Z","level":"info","message":"initial_upload_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","bucket":"test-bucket","key":"cv/candidate/4e2ede9d-620a-4e90-b215-9bd6910d4837/incoming/original.pdf","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.454Z","level":"info","message":"resume_text_extracted","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","characters":57,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.454Z","level":"info","message":"resume_classified","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.455Z","level":"info","message":"raw_upload_relocated","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","bucket":"test-bucket","fromKey":"cv/candidate/4e2ede9d-620a-4e90-b215-9bd6910d4837/incoming/original.pdf","toKey":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/original.pdf","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.455Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","bucket":"test-bucket","key":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/original.pdf","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.455Z","level":"info","message":"dynamo_initial_record_written","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","bucket":"test-bucket","key":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/original.pdf","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.457Z","level":"info","message":"upload_metadata_written","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","bucket":"test-bucket","key":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/logs/log.json","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.457Z","level":"info","message":"job_description_supplied_manually","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","characters":174,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.458Z","level":"info","message":"job_description_analyzed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","jobTitle":"","jobSkills":5,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.458Z","level":"info","message":"resume_skills_analyzed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.459Z","level":"info","message":"llm_call_metrics","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.460Z","level":"info","message":"process_cv_scoring_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.463Z","level":"info","message":"llm_call_metrics","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":1,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"9a6d2d1a9ce924151b6a4db0f761d85550b399b0c2990ac5bc2d2ac9b952bd0d","addedSkillCount":0,"template":"resume_rewrite","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.463Z","level":"info","message":"generation_section_rewrite_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","modifiedTitle":"Lead Engineer","addedSkills":0,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.466Z","level":"info","message":"generation_resume_verified","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.469Z","level":"info","message":"generation_cover_letters_normalized","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","variants":["cover_letter1","cover_letter2"],"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.470Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.475Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","variants":["cover_letter1"],"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.476Z","level":"info","message":"generation_cover_letters_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","variants":2,"fallbackApplied":true,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.477Z","level":"info","message":"pdf_generation_attempt","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/enhanced_modern.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.477Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.478Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/enhanced_modern.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.478Z","level":"info","message":"pdf_generation_attempt","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/enhanced_professional.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.479Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.479Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/enhanced_professional.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.479Z","level":"info","message":"pdf_generation_attempt","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/cover_letter_cover_modern.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.480Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.480Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/cover_letter_cover_modern.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.481Z","level":"info","message":"pdf_generation_attempt","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/cover_letter_cover_professional.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.481Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.482Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/4e2ede9d-620a-4e90-b215-9bd6910d4837/cover_letter_cover_professional.pdf","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.483Z","level":"info","message":"llm_call_metrics","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"aebf306d7fe64238aa9b05fc3798c6e6698d8708e05d8dd31d0cadc8f2f74f38","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.484Z","level":"info","message":"generation_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","generationRunId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","enhancedScore":80,"outputs":5,"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.485Z","level":"info","message":"placeholder_record_deleted","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","jobId":"249d4184-8639-4598-a3dd-e26f67c858d9","placeholderIdentifier":"4e2ede9d-620a-4e90-b215-9bd6910d4837","template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"249d4184-8639-4598-a3dd-e26f67c858d9","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.486Z","level":"info","message":"http_request_completed","requestId":"4e2ede9d-620a-4e90-b215-9bd6910d4837","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":53,"contentLength":"46262","template":"unknown","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4e2ede9d-620a-4e90-b215-9bd6910d4837","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.489Z","level":"info","message":"http_request_received","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","method":"POST","path":"/api/process-cv","template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.490Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.492Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.493Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.495Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.497Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/incoming/original.pdf","chunks":1,"timestamp":1764856367500}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.501Z","level":"info","message":"process_cv_started","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","manualJobDescriptionProvided":true,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.501Z","level":"info","message":"template_selection","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.502Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.510Z","level":"info","message":"initial_upload_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","bucket":"test-bucket","key":"cv/candidate/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/incoming/original.pdf","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.510Z","level":"info","message":"resume_text_extracted","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","characters":57,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.511Z","level":"info","message":"resume_classified","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.511Z","level":"info","message":"raw_upload_relocated","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","bucket":"test-bucket","fromKey":"cv/candidate/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/incoming/original.pdf","toKey":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/original.pdf","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.512Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","bucket":"test-bucket","key":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/original.pdf","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.512Z","level":"info","message":"dynamo_initial_record_written","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","bucket":"test-bucket","key":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/original.pdf","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.512Z","level":"info","message":"upload_metadata_written","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","bucket":"test-bucket","key":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/logs/log.json","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.513Z","level":"info","message":"job_description_supplied_manually","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","characters":174,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.513Z","level":"info","message":"job_description_analyzed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","jobTitle":"","jobSkills":5,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.514Z","level":"info","message":"resume_skills_analyzed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.514Z","level":"info","message":"llm_call_metrics","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.515Z","level":"info","message":"process_cv_scoring_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.516Z","level":"error","message":"ai_response_missing_json","resumeDigest":"569d22cc98bfea90bf4e97a319d54db3c628f0a3484b3ee7d9356b7b6ed3fa6e","hasJobDescription":true,"requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","sample":"Here is your revised resume text without JSON formatting.","template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at Object.error (server.js:3482:37)
      at error (lib/llm/gemini.js:221:12)
      at rewriteSectionsWithGemini (server.js:8538:20)
      at generateEnhancedDocumentsResponse (server.js:20179:26)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.522Z","level":"info","message":"llm_call_metrics","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outcome":"no_parse","template":"resume_rewrite","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.522Z","level":"info","message":"llm_call_metrics","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","outcome":"fallback","template":"resume_rewrite","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.522Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.523Z","level":"info","message":"llm_call_metrics","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"d230fd9d3c6f4e6f7bb7c385f22b3a147a5c937619c1919bfb6f5e09096df674","skillCount":5,"template":"project_summary","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.526Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.532Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.537Z","level":"info","message":"generation_cover_letters_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","variants":2,"fallbackApplied":true,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.538Z","level":"info","message":"pdf_generation_attempt","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/enhanced_modern.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.538Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.539Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/enhanced_modern.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.539Z","level":"info","message":"pdf_generation_attempt","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/enhanced_professional.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.540Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.540Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/enhanced_professional.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.541Z","level":"info","message":"pdf_generation_attempt","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/cover_letter_cover_modern.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.541Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.542Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/cover_letter_cover_modern.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.542Z","level":"info","message":"pdf_generation_attempt","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/cover_letter_cover_professional.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.543Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.543Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249/cover_letter_cover_professional.pdf","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.545Z","level":"info","message":"llm_call_metrics","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.546Z","level":"info","message":"generation_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","generationRunId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","enhancedScore":80,"outputs":5,"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.547Z","level":"info","message":"placeholder_record_deleted","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","jobId":"6055399c-44d5-4d45-b382-13716d6571c8","placeholderIdentifier":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6055399c-44d5-4d45-b382-13716d6571c8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.548Z","level":"info","message":"http_request_completed","requestId":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":59,"contentLength":"57871","template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1b7a135d-1211-4b0e-8d5d-b0eeb0a0e249","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.553Z","level":"info","message":"http_request_received","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","method":"POST","path":"/api/process-cv","template":"unknown","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.554Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.555Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.556Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.558Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.559Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/c67054d3-8457-4a89-96c8-0e6bb97fbf50/incoming/original.pdf","chunks":1,"timestamp":1764856367562}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/c67054d3-8457-4a89-96c8-0e6bb97fbf50/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/c67054d3-8457-4a89-96c8-0e6bb97fbf50/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.563Z","level":"info","message":"process_cv_started","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","manualJobDescriptionProvided":true,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.563Z","level":"info","message":"template_selection","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.564Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.570Z","level":"info","message":"initial_upload_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","bucket":"test-bucket","key":"cv/candidate/c67054d3-8457-4a89-96c8-0e6bb97fbf50/incoming/original.pdf","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.570Z","level":"info","message":"resume_text_extracted","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","characters":57,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.571Z","level":"info","message":"resume_classified","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.571Z","level":"info","message":"raw_upload_relocated","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","bucket":"test-bucket","fromKey":"cv/candidate/c67054d3-8457-4a89-96c8-0e6bb97fbf50/incoming/original.pdf","toKey":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/original.pdf","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.572Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","bucket":"test-bucket","key":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/original.pdf","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.573Z","level":"info","message":"dynamo_initial_record_written","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","bucket":"test-bucket","key":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/original.pdf","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.573Z","level":"info","message":"upload_metadata_written","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","bucket":"test-bucket","key":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/logs/log.json","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.573Z","level":"info","message":"job_description_supplied_manually","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","characters":174,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.574Z","level":"info","message":"job_description_analyzed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","jobTitle":"","jobSkills":5,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.574Z","level":"info","message":"resume_skills_analyzed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.575Z","level":"info","message":"llm_call_metrics","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.575Z","level":"info","message":"process_cv_scoring_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.578Z","level":"info","message":"llm_call_metrics","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.579Z","level":"info","message":"generation_section_rewrite_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.580Z","level":"info","message":"llm_call_metrics","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.582Z","level":"info","message":"generation_resume_verified","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.585Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.591Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.598Z","level":"info","message":"generation_cover_letters_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","variants":2,"fallbackApplied":true,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.598Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_modern.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.599Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.601Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.606Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_professional.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.607Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.607Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.613Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_classic.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.613Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.614Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.619Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.620Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.620Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.626Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.626Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.627Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.633Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11158:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.640Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"2025","requestedTemplateId":"2025","engine":"pdf-lib","bytes":9,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.640Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","templates":["modern","professional","classic","ats","2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","bytes":9,"forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.641Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_professional.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.641Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.642Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.648Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_modern.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.649Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.649Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.655Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","attempt":3,"totalAttempts":5,"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.655Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.656Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.665Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","attempt":4,"totalAttempts":5,"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_classic.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.666Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.666Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.679Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","attempt":5,"totalAttempts":5,"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.679Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.680Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.685Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11158:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.691Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"ats","requestedTemplateId":"ats","engine":"pdf-lib","bytes":9,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.692Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"ats","templates":["professional","modern","2025","classic","ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/enhanced_ats.pdf","bytes":9,"forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.693Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_modern.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.693Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.693Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.699Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_professional.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.700Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.705Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_classic.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.705Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.706Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.711Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.711Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.712Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.717Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.717Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.718Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.726Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11158:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.731Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_2025","requestedTemplateId":"cover_2025","engine":"pdf-lib","bytes":9,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.732Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","templates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","bytes":9,"forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.733Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_professional.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.734Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.734Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_professional.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.739Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_modern.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.740Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.740Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_modern","attempt":2,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.745Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"totalAttempts":5,"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.746Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.746Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_2025","attempt":3,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_2025.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_2025","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.751Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"totalAttempts":5,"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_classic.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.752Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.752Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_classic","attempt":4,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_classic.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_classic.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_classic","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.757Z","level":"info","message":"pdf_generation_attempt","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"totalAttempts":5,"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.758Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.error
    {"timestamp":"2025-12-04T13:52:47.758Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","attempt":5,"error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_ats.pdf","targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.763Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11158:7)
      at generateEnhancedDocumentsResponse (server.js:21308:17)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.770Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","reason":"all_template_attempts_failed","error":{"name":"Error","message":"PDF render failed","stack":"Error: PDF render failed\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:2158:22)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"forcedFallback":true,"fallbackConfigured":false,"forceReason":"config_disabled","templateId":"cover_ats","requestedTemplateId":"cover_ats","engine":"pdf-lib","bytes":9,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.771Z","level":"info","message":"pdf_generation_plain_fallback_succeeded","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/","sessionId":"[REDACTED]","template":"cover_ats","templates":["cover_professional","cover_modern","cover_2025","cover_classic","cover_ats"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cv/professional_summary/c67054d3-8457-4a89-96c8-0e6bb97fbf50/cover_letter_cover_ats.pdf","bytes":9,"forcedFallback":true,"session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"cover_ats","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.776Z","level":"info","message":"llm_call_metrics","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.777Z","level":"info","message":"generation_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","generationRunId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","enhancedScore":80,"outputs":5,"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.778Z","level":"info","message":"placeholder_record_deleted","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","jobId":"8869c259-dcfe-40ee-96f5-491074d19d36","placeholderIdentifier":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8869c259-dcfe-40ee-96f5-491074d19d36","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.779Z","level":"info","message":"http_request_completed","requestId":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":226,"contentLength":"60620","template":"unknown","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c67054d3-8457-4a89-96c8-0e6bb97fbf50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.784Z","level":"info","message":"http_request_received","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","method":"POST","path":"/api/process-cv","template":"unknown","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.785Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.786Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.788Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.789Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.791Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/incoming/original.pdf","chunks":1,"timestamp":1764856367793}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.799Z","level":"info","message":"process_cv_started","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","manualJobDescriptionProvided":true,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.800Z","level":"info","message":"template_selection","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.800Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.806Z","level":"info","message":"initial_upload_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","bucket":"test-bucket","key":"cv/candidate/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/incoming/original.pdf","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.806Z","level":"info","message":"resume_text_extracted","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","characters":57,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.807Z","level":"info","message":"resume_classified","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.807Z","level":"info","message":"raw_upload_relocated","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","bucket":"test-bucket","fromKey":"cv/candidate/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/incoming/original.pdf","toKey":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/original.pdf","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.807Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","bucket":"test-bucket","key":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/original.pdf","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.807Z","level":"info","message":"dynamo_initial_record_written","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","bucket":"test-bucket","key":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/original.pdf","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.808Z","level":"info","message":"upload_metadata_written","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","bucket":"test-bucket","key":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/logs/log.json","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.808Z","level":"info","message":"job_description_supplied_manually","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","characters":174,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.809Z","level":"info","message":"job_description_analyzed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","jobTitle":"","jobSkills":5,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.810Z","level":"info","message":"resume_skills_analyzed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.810Z","level":"info","message":"llm_call_metrics","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.811Z","level":"info","message":"process_cv_scoring_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.813Z","level":"info","message":"llm_call_metrics","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"083bf06ffdad2254495e6ab02d51602dd213ec7860f8066358ba6750acc9f49a","addedSkillCount":1,"template":"resume_rewrite","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.814Z","level":"info","message":"generation_section_rewrite_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","modifiedTitle":"Revised Title","addedSkills":1,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.815Z","level":"info","message":"generation_resume_verified","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.820Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.826Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.831Z","level":"info","message":"generation_cover_letters_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","variants":2,"fallbackApplied":true,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.832Z","level":"info","message":"pdf_generation_attempt","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/enhanced_modern.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.832Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.833Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/enhanced_modern.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.833Z","level":"info","message":"pdf_generation_attempt","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/enhanced_professional.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.833Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.834Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/enhanced_professional.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.834Z","level":"info","message":"pdf_generation_attempt","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/cover_letter_cover_modern.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.835Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.835Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/cover_letter_cover_modern.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.836Z","level":"info","message":"pdf_generation_attempt","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/cover_letter_cover_professional.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.836Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.836Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/7736d3a7-fc89-431a-bbe2-f4e4475b5af2/cover_letter_cover_professional.pdf","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.838Z","level":"info","message":"llm_call_metrics","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"1075df15bec8b8fc718989e1c7ca31af0c39036b671cabbdfc22628f8e2e250f","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.839Z","level":"info","message":"generation_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","generationRunId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","enhancedScore":80,"outputs":5,"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.840Z","level":"info","message":"placeholder_record_deleted","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","jobId":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","placeholderIdentifier":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"78730fd8-8d0d-4a33-a4c2-0044bc6bae1d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.841Z","level":"info","message":"http_request_completed","requestId":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"59251","template":"unknown","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"7736d3a7-fc89-431a-bbe2-f4e4475b5af2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.844Z","level":"info","message":"http_request_received","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","method":"POST","path":"/api/process-cv","template":"unknown","session":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.845Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.846Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.848Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.850Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.851Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.860Z","level":"info","message":"process_cv_started","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","jobId":"fbd20fe9-c73f-4df0-aff8-16d18b491521","manualJobDescriptionProvided":true,"template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.861Z","level":"info","message":"template_selection","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","jobId":"fbd20fe9-c73f-4df0-aff8-16d18b491521","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.861Z","level":"warn","message":"resume_missing","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","jobId":"fbd20fe9-c73f-4df0-aff8-16d18b491521","template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25092:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.868Z","level":"warn","message":"api_error_response","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","jobId":"fbd20fe9-c73f-4df0-aff8-16d18b491521","status":400,"error":{"code":"RESUME_FILE_REQUIRED","message":"resume file required","details":{"field":"resume"},"requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","jobId":"fbd20fe9-c73f-4df0-aff8-16d18b491521"},"template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"fbd20fe9-c73f-4df0-aff8-16d18b491521","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:25093:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.873Z","level":"info","message":"http_request_completed","requestId":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":29,"contentLength":"217","template":"unknown","session":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f47b259-6f7c-41f4-9935-74c08ba4c9b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.875Z","level":"info","message":"http_request_received","requestId":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","method":"POST","path":"/api/process-cv","template":"unknown","session":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.876Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.878Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.879Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.880Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.882Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.886Z","level":"warn","message":"resume_upload_failed","requestId":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","jobId":"ebb79bd5-574f-44d7-a077-e05b410a538a","storageError":false,"error":{"name":"Error","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","stack":"Error: Unsupported resume format. Please upload a PDF, DOC, or DOCX file.\n    at fileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:4992:9)\n    at wrappedFileFilter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/index.js:44:7)\n    at Multipart.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:109:7)\n    at Multipart.emit (node:events:513:28)\n    at HeaderParser.cb (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:358:14)\n    at HeaderParser.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:162:20)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:394:37)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at IncomingMessage.Readable.read (node:internal/streams/readable:527:10)\n    at flow (node:internal/streams/readable:1011:34)\n    at resume_ (node:internal/streams/readable:992:3)\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)"},"template":"unknown","session":"ebb79bd5-574f-44d7-a077-e05b410a538a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebb79bd5-574f-44d7-a077-e05b410a538a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:24786:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4991:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.894Z","level":"warn","message":"api_error_response","requestId":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","jobId":"ebb79bd5-574f-44d7-a077-e05b410a538a","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"Unsupported resume format. Please upload a PDF, DOC, or DOCX file.","details":{"field":"resume"},"requestId":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","jobId":"ebb79bd5-574f-44d7-a077-e05b410a538a"},"template":"unknown","session":"ebb79bd5-574f-44d7-a077-e05b410a538a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"ebb79bd5-574f-44d7-a077-e05b410a538a","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at respond (server.js:24794:9)
      at server.js:24798:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:5:28)
      at node_modules/multer/lib/make-middleware.js:63:9
      at Counter.onceZero (node_modules/multer/lib/counter.js:23:29)
      at abortWithError (node_modules/multer/lib/make-middleware.js:58:21)
      at node_modules/multer/lib/make-middleware.js:112:18
      at fileFilter (server.js:4991:14)
      at wrappedFileFilter (node_modules/multer/index.js:44:7)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:109:7)
      at HeaderParser.cb (node_modules/busboy/lib/types/multipart.js:358:14)
      at HeaderParser.push (node_modules/busboy/lib/types/multipart.js:162:20)
      at SBMH.ssCb [as _cb] (node_modules/busboy/lib/types/multipart.js:394:37)
      at feed (node_modules/streamsearch/lib/sbmh.js:219:14)
      at SBMH.push (node_modules/streamsearch/lib/sbmh.js:104:16)
      at Multipart._write (node_modules/busboy/lib/types/multipart.js:567:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.900Z","level":"info","message":"http_request_completed","requestId":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":25,"contentLength":"267","template":"unknown","session":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"2c0eb643-68f7-4ab7-a144-c766b0603ae6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.903Z","level":"info","message":"http_request_received","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","method":"POST","path":"/api/process-cv","template":"unknown","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.904Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.905Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.907Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.908Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.910Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/incoming/original.pdf","chunks":1,"timestamp":1764856367912}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":32768}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":32768,"newSize":32768,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)

  console.log
    {"timestamp":"2025-12-04T13:52:47.913Z","level":"info","message":"process_cv_started","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","manualJobDescriptionProvided":true,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.913Z","level":"info","message":"template_selection","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.914Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:47.919Z","level":"info","message":"initial_upload_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","bucket":"test-bucket","key":"cv/candidate/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/incoming/original.pdf","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.919Z","level":"info","message":"resume_text_extracted","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","characters":57,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.920Z","level":"info","message":"resume_classified","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.920Z","level":"info","message":"raw_upload_relocated","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","bucket":"test-bucket","fromKey":"cv/candidate/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/incoming/original.pdf","toKey":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/original.pdf","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.920Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","bucket":"test-bucket","key":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/original.pdf","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.921Z","level":"info","message":"dynamo_initial_record_written","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","bucket":"test-bucket","key":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/original.pdf","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.921Z","level":"info","message":"upload_metadata_written","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","bucket":"test-bucket","key":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/logs/log.json","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.921Z","level":"info","message":"job_description_supplied_manually","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","characters":174,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.922Z","level":"info","message":"job_description_analyzed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","jobTitle":"","jobSkills":5,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.922Z","level":"info","message":"resume_skills_analyzed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.923Z","level":"info","message":"llm_call_metrics","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.923Z","level":"info","message":"process_cv_scoring_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.926Z","level":"info","message":"llm_call_metrics","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.926Z","level":"info","message":"generation_section_rewrite_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.926Z","level":"info","message":"llm_call_metrics","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.928Z","level":"info","message":"generation_resume_verified","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:47.931Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:47.936Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:47.942Z","level":"info","message":"generation_cover_letters_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","variants":2,"fallbackApplied":true,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.943Z","level":"info","message":"pdf_generation_attempt","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/enhanced_modern.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.943Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.944Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/enhanced_modern.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.944Z","level":"info","message":"pdf_generation_attempt","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/enhanced_professional.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.945Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.945Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/enhanced_professional.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.945Z","level":"info","message":"pdf_generation_attempt","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/cover_letter_cover_modern.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.946Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.946Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/cover_letter_cover_modern.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.947Z","level":"info","message":"pdf_generation_attempt","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/cover_letter_cover_professional.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.947Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.948Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/1e82827a-7c3f-47e1-b8a5-e0d87d4c695a/cover_letter_cover_professional.pdf","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.949Z","level":"info","message":"llm_call_metrics","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.950Z","level":"info","message":"generation_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","generationRunId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","enhancedScore":80,"outputs":5,"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.951Z","level":"info","message":"placeholder_record_deleted","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","jobId":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","placeholderIdentifier":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a51db8ad-8a40-4529-b4a0-6e18e0df17d8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.952Z","level":"info","message":"http_request_completed","requestId":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":49,"contentLength":"58133","template":"unknown","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"1e82827a-7c3f-47e1-b8a5-e0d87d4c695a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.956Z","level":"info","message":"http_request_received","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","method":"POST","path":"/api/process-cv","template":"unknown","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.957Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.958Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.959Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.961Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.963Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/3b1844d7-09fd-4ede-988b-a242e1dc40a8/incoming/original.pdf","chunks":5,"timestamp":1764856367965}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":262144}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":262144,"newSize":262144,"durationMs":6}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/3b1844d7-09fd-4ede-988b-a242e1dc40a8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/3b1844d7-09fd-4ede-988b-a242e1dc40a8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":8}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.973Z","level":"info","message":"process_cv_started","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","manualJobDescriptionProvided":true,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.974Z","level":"info","message":"template_selection","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:47.974Z","level":"info","message":"initial_upload_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","bucket":"test-bucket","key":"cv/candidate/3b1844d7-09fd-4ede-988b-a242e1dc40a8/incoming/original.pdf","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.975Z","level":"info","message":"resume_text_extracted","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","characters":9,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.975Z","level":"info","message":"document_classification_ai_metrics","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.990Z","level":"info","message":"resume_classified","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.991Z","level":"info","message":"raw_upload_relocated","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","bucket":"test-bucket","fromKey":"cv/candidate/3b1844d7-09fd-4ede-988b-a242e1dc40a8/incoming/original.pdf","toKey":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original.docx","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.991Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","bucket":"test-bucket","key":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original.docx","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.992Z","level":"info","message":"dynamo_initial_record_written","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","bucket":"test-bucket","key":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original.docx","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.993Z","level":"info","message":"upload_metadata_written","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","bucket":"test-bucket","key":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/logs/log.json","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.993Z","level":"info","message":"job_description_supplied_manually","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","characters":174,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.993Z","level":"info","message":"job_description_analyzed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","jobTitle":"","jobSkills":5,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.994Z","level":"info","message":"resume_skills_analyzed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.994Z","level":"info","message":"llm_call_metrics","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.995Z","level":"info","message":"process_cv_scoring_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.997Z","level":"info","message":"llm_call_metrics","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.997Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:47.998Z","level":"info","message":"llm_call_metrics","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.000Z","level":"info","message":"generation_resume_verified","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.003Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.009Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.014Z","level":"info","message":"generation_cover_letters_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","variants":2,"fallbackApplied":true,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.015Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","originalUploadKey":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.016Z","level":"info","message":"original_upload_pdf_generated","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","storageKey":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original/original_upload.pdf","originalUploadKey":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/original.docx","originalUploadExtension":".docx","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.016Z","level":"info","message":"pdf_generation_attempt","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/enhanced_modern.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.017Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.017Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/enhanced_modern.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.017Z","level":"info","message":"pdf_generation_attempt","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/enhanced_professional.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.018Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.018Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/enhanced_professional.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.019Z","level":"info","message":"pdf_generation_attempt","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/cover_letter_cover_modern.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.019Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.019Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/cover_letter_cover_modern.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.020Z","level":"info","message":"pdf_generation_attempt","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/cover_letter_cover_professional.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.020Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.021Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/3b1844d7-09fd-4ede-988b-a242e1dc40a8/cover_letter_cover_professional.pdf","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.023Z","level":"info","message":"llm_call_metrics","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.024Z","level":"info","message":"generation_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","generationRunId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","enhancedScore":80,"outputs":6,"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.025Z","level":"info","message":"placeholder_record_deleted","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","jobId":"dffe982e-1ff3-47e4-9f45-047b450fad50","placeholderIdentifier":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"dffe982e-1ff3-47e4-9f45-047b450fad50","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.026Z","level":"info","message":"http_request_completed","requestId":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":70,"contentLength":"58696","template":"unknown","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3b1844d7-09fd-4ede-988b-a242e1dc40a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.030Z","level":"info","message":"http_request_received","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","method":"POST","path":"/api/process-cv","template":"unknown","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.031Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.032Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.033Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.034Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.036Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/deee895c-5bd6-42a8-ab2a-577047320b78/incoming/original.pdf","chunks":34,"timestamp":1764856368043}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":2097152}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":2097152,"newSize":2097152,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/deee895c-5bd6-42a8-ab2a-577047320b78/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/deee895c-5bd6-42a8-ab2a-577047320b78/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.045Z","level":"info","message":"process_cv_started","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","manualJobDescriptionProvided":true,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.045Z","level":"info","message":"template_selection","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.046Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:48.051Z","level":"info","message":"initial_upload_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","bucket":"test-bucket","key":"cv/candidate/deee895c-5bd6-42a8-ab2a-577047320b78/incoming/original.pdf","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.052Z","level":"info","message":"resume_text_extracted","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","characters":57,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.052Z","level":"info","message":"resume_classified","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.052Z","level":"info","message":"raw_upload_relocated","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","bucket":"test-bucket","fromKey":"cv/candidate/deee895c-5bd6-42a8-ab2a-577047320b78/incoming/original.pdf","toKey":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/original.pdf","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.053Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","bucket":"test-bucket","key":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/original.pdf","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.053Z","level":"info","message":"dynamo_initial_record_written","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","bucket":"test-bucket","key":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/original.pdf","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.053Z","level":"info","message":"upload_metadata_written","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","bucket":"test-bucket","key":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/logs/log.json","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.054Z","level":"info","message":"job_description_supplied_manually","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","characters":174,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.054Z","level":"info","message":"job_description_analyzed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","jobTitle":"","jobSkills":5,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.055Z","level":"info","message":"resume_skills_analyzed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.055Z","level":"info","message":"llm_call_metrics","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.056Z","level":"info","message":"process_cv_scoring_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.058Z","level":"info","message":"llm_call_metrics","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"11d85691a39108b63d1cacc865fe40cfcd249be41254fc438b5e681731b91249","addedSkillCount":0,"template":"resume_rewrite","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.058Z","level":"info","message":"generation_section_rewrite_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.059Z","level":"info","message":"llm_call_metrics","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.061Z","level":"info","message":"generation_resume_verified","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.063Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.069Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.074Z","level":"info","message":"generation_cover_letters_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","variants":2,"fallbackApplied":true,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.075Z","level":"info","message":"pdf_generation_attempt","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/enhanced_modern.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.075Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.076Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/enhanced_modern.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.077Z","level":"info","message":"pdf_generation_attempt","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/enhanced_professional.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.078Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.078Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/enhanced_professional.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.080Z","level":"info","message":"pdf_generation_attempt","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/cover_letter_cover_modern.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.080Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.081Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/cover_letter_cover_modern.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.082Z","level":"info","message":"pdf_generation_attempt","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/cover_letter_cover_professional.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.082Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.082Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/deee895c-5bd6-42a8-ab2a-577047320b78/cover_letter_cover_professional.pdf","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.084Z","level":"info","message":"llm_call_metrics","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.085Z","level":"info","message":"generation_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","generationRunId":"deee895c-5bd6-42a8-ab2a-577047320b78","enhancedScore":80,"outputs":5,"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.086Z","level":"info","message":"placeholder_record_deleted","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","jobId":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","placeholderIdentifier":"deee895c-5bd6-42a8-ab2a-577047320b78","template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d6d8f7d-bf6a-486c-a8c7-f9cb478b26b6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.087Z","level":"info","message":"http_request_completed","requestId":"deee895c-5bd6-42a8-ab2a-577047320b78","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":57,"contentLength":"58133","template":"unknown","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"deee895c-5bd6-42a8-ab2a-577047320b78","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.091Z","level":"info","message":"http_request_received","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","method":"POST","path":"/api/process-cv","template":"unknown","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.092Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.093Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.095Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.096Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.098Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/incoming/original.pdf","chunks":82,"timestamp":1764856368106}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5241856}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5241856,"newSize":5241856,"durationMs":52}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":55}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.161Z","level":"info","message":"process_cv_started","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","manualJobDescriptionProvided":true,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.162Z","level":"info","message":"template_selection","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.162Z","level":"info","message":"initial_upload_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","bucket":"test-bucket","key":"cv/candidate/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/incoming/original.pdf","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.163Z","level":"info","message":"resume_text_extracted","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","characters":9,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.163Z","level":"info","message":"document_classification_ai_metrics","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"3fb95a90cc3314ffe158e6938082b6242f708ef53653928d4aec2ec0ec66e1aa","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.164Z","level":"info","message":"resume_classified","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","isResume":false,"description":"a document starting with \"Docx text\"","confidence":0.3,"accepted":true,"overridden":true,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.164Z","level":"info","message":"raw_upload_relocated","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","bucket":"test-bucket","fromKey":"cv/candidate/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/incoming/original.pdf","toKey":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original.docx","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.164Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","bucket":"test-bucket","key":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original.docx","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.165Z","level":"info","message":"dynamo_initial_record_written","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","bucket":"test-bucket","key":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original.docx","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.165Z","level":"info","message":"upload_metadata_written","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","bucket":"test-bucket","key":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/logs/log.json","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.165Z","level":"info","message":"job_description_supplied_manually","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","characters":174,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.166Z","level":"info","message":"job_description_analyzed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","jobTitle":"","jobSkills":5,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.166Z","level":"info","message":"resume_skills_analyzed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.167Z","level":"info","message":"llm_call_metrics","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.167Z","level":"info","message":"process_cv_scoring_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","applicantName":"Docx text","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.169Z","level":"info","message":"llm_call_metrics","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"31abd14e21e30560dd0979a805a53ba1e348c7a15b5557d1589a085105e61022","outputDigest":"20c6bad519a1c8c51482632fc36f521f4cdc6c74524ae2a7da48d87e23be89bd","addedSkillCount":0,"template":"resume_rewrite","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.170Z","level":"info","message":"generation_section_rewrite_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.170Z","level":"info","message":"llm_call_metrics","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"1af1b241a34b30343b0fd28e11b1d9f15f3e6b9827bfa1879c256bedb70c0e2c","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":5,"template":"project_summary","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.174Z","level":"info","message":"generation_resume_verified","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.177Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.185Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.190Z","level":"info","message":"generation_cover_letters_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","variants":2,"fallbackApplied":true,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.191Z","level":"info","message":"pdf_plain_fallback_generated","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"original_upload","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","originalUploadKey":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original.docx","originalUploadExtension":".docx","templateId":"modern","requestedTemplateId":"modern","engine":"pdf-lib","bytes":9,"template":"modern","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.191Z","level":"info","message":"original_upload_pdf_generated","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","storageKey":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original/original_upload.pdf","originalUploadKey":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/original.docx","originalUploadExtension":".docx","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.192Z","level":"info","message":"pdf_generation_attempt","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/enhanced_modern.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.192Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.193Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/enhanced_modern.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.193Z","level":"info","message":"pdf_generation_attempt","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/enhanced_professional.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.194Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.194Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/enhanced_professional.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.194Z","level":"info","message":"pdf_generation_attempt","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/cover_letter_cover_modern.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.195Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.195Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/cover_letter_cover_modern.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.196Z","level":"info","message":"pdf_generation_attempt","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/cover_letter_cover_professional.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.196Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.197Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/docx_text/18bdeb5c-3ff0-40c1-b885-7d35af2338bc/cover_letter_cover_professional.pdf","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.199Z","level":"info","message":"llm_call_metrics","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"ef334696f5f26fb951255180cd36d1d4ef86e4fc3a331a621c875f3713752bec","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.199Z","level":"info","message":"generation_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","generationRunId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","enhancedScore":80,"outputs":6,"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.200Z","level":"info","message":"placeholder_record_deleted","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","jobId":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","placeholderIdentifier":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6b4e3b7f-c168-42f5-a5a9-c08a94cb39c6","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.201Z","level":"info","message":"http_request_completed","requestId":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":110,"contentLength":"58696","template":"unknown","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"18bdeb5c-3ff0-40c1-b885-7d35af2338bc","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.205Z","level":"info","message":"http_request_received","requestId":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","method":"POST","path":"/api/process-cv","template":"unknown","session":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.206Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.208Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.209Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.211Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.213Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a/incoming/original.pdf","chunks":82,"timestamp":1764856368223}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5242880}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5242880,"newSize":5242880,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.226Z","level":"warn","message":"resume_upload_failed","requestId":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","jobId":"4f2726d5-ce11-4059-a639-097cf8e0f06c","storageError":false,"error":{"name":"MulterError","message":"File too large","code":"LIMIT_FILE_SIZE","stack":"MulterError: File too large\n    at abortWithCode (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:73:22)\n    at FileStream.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/multer/lib/make-middleware.js:136:11)\n    at FileStream.emit (node:events:513:28)\n    at SBMH.ssCb [as _cb] (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:479:32)\n    at feed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:219:14)\n    at SBMH.push (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/streamsearch/lib/sbmh.js:104:16)\n    at Multipart._write (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/busboy/lib/types/multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:391:12)\n    at _write (node:internal/streams/writable:332:10)\n    at Multipart.Writable.write (node:internal/streams/writable:336:10)\n    at IncomingMessage.ondata (node:internal/streams/readable:754:22)\n    at IncomingMessage.emit (node:events:513:28)\n    at addChunk (node:internal/streams/readable:315:12)\n    at readableAddChunk (node:internal/streams/readable:289:9)\n    at IncomingMessage.Readable.push (node:internal/streams/readable:228:10)\n    at HTTPParser.parserOnBody (node:_http_common:140:24)"},"template":"unknown","session":"4f2726d5-ce11-4059-a639-097cf8e0f06c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f2726d5-ce11-4059-a639-097cf8e0f06c","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:24786:7
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.232Z","level":"warn","message":"api_error_response","requestId":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","jobId":"4f2726d5-ce11-4059-a639-097cf8e0f06c","status":400,"error":{"code":"UPLOAD_VALIDATION_FAILED","message":"File too large","details":{"field":"resume"},"requestId":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","jobId":"4f2726d5-ce11-4059-a639-097cf8e0f06c"},"template":"unknown","session":"4f2726d5-ce11-4059-a639-097cf8e0f06c","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4f2726d5-ce11-4059-a639-097cf8e0f06c","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at respond (server.js:24794:9)
      at server.js:24798:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at node_modules/multer/lib/make-middleware.js:67:11
      at node_modules/multer/lib/remove-uploaded-files.js:20:9
      at Object.cb [as _removeFile] (lib/uploads/s3StreamingStorage.js:166:9)
      at remove (node_modules/multer/lib/make-middleware.js:60:19)
      at handleFile (node_modules/multer/lib/remove-uploaded-files.js:10:5)
      at removeUploadedFiles (node_modules/multer/lib/remove-uploaded-files.js:25:3)
      at Counter.<anonymous> (node_modules/multer/lib/make-middleware.js:63:9)
      at Counter.decrement (node_modules/multer/lib/counter.js:15:32)
      at node_modules/multer/lib/make-middleware.js:143:34
      at cb (lib/uploads/s3StreamingStorage.js:82:9)
      at FileStream.finish (lib/uploads/s3StreamingStorage.js:149:11)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.239Z","level":"info","message":"http_request_completed","requestId":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":34,"contentLength":"215","template":"unknown","session":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5a3c0ed8-868f-4212-9c1f-0aa65fca1f0a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.241Z","level":"info","message":"http_request_received","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","method":"POST","path":"/api/process-cv","template":"unknown","session":"e68ea514-3f09-44fb-ad40-701c894cc438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e68ea514-3f09-44fb-ad40-701c894cc438","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.242Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.243Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.244Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.246Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.248Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/e68ea514-3f09-44fb-ad40-701c894cc438/incoming/original.pdf","chunks":1,"timestamp":1764856368250}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/e68ea514-3f09-44fb-ad40-701c894cc438/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/e68ea514-3f09-44fb-ad40-701c894cc438/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.251Z","level":"info","message":"process_cv_started","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","manualJobDescriptionProvided":true,"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.251Z","level":"info","message":"template_selection","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.252Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:48.257Z","level":"info","message":"initial_upload_completed","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","bucket":"test-bucket","key":"cv/candidate/e68ea514-3f09-44fb-ad40-701c894cc438/incoming/original.pdf","template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.258Z","level":"info","message":"resume_text_extracted","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","characters":70,"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.258Z","level":"info","message":"document_classification_ai_metrics","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"6e7cfda39efd36ecdd0998d74c5dc8668e761fe838cd589d1b8e87517f67efbf","latencyMs":0,"outcome":"no_parse","template":"document_classification","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.259Z","level":"info","message":"resume_classified","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","isResume":false,"description":"an invoice document","confidence":0.4,"accepted":false,"overridden":false,"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.259Z","level":"warn","message":"resume_validation_failed","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","reason":"not_identified_as_resume","description":"an invoice document","confidence":0.4,"wordCount":12,"invalidKey":"invalid/candidate/2025-12-04/e68ea514-3f09-44fb-ad40-701c894cc438/an-invoice-0158c62a-ea3a-40ae-8e63-3f04bb127689.pdf","classification":"an invoice","template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25673:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.265Z","level":"warn","message":"api_error_response","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded an invoice document (classified as \"invoice\"). Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\". Please upload a correct CV or resume to continue.","details":{"description":"an invoice document","confidence":0.4,"reason":"Detected invoice document keywords such as \"invoice\", \"bill to\", and \"payment terms\".","classification":"an invoice","className":"invoice","storageKey":"invalid/candidate/2025-12-04/e68ea514-3f09-44fb-ad40-701c894cc438/an-invoice-0158c62a-ea3a-40ae-8e63-3f04bb127689.pdf","invalidStorageKey":"invalid/candidate/2025-12-04/e68ea514-3f09-44fb-ad40-701c894cc438/an-invoice-0158c62a-ea3a-40ae-8e63-3f04bb127689.pdf"},"requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","jobId":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d"},"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8bf8eba3-fd51-4580-a83d-bfdc42f3166d","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:25748:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.271Z","level":"info","message":"http_request_completed","requestId":"e68ea514-3f09-44fb-ad40-701c894cc438","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":30,"contentLength":"871","template":"unknown","session":"e68ea514-3f09-44fb-ad40-701c894cc438","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e68ea514-3f09-44fb-ad40-701c894cc438","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.273Z","level":"info","message":"http_request_received","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","method":"POST","path":"/api/process-cv","template":"unknown","session":"30f3bb92-27e7-4863-8ea4-c090405711a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30f3bb92-27e7-4863-8ea4-c090405711a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.274Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.275Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.276Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.278Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.279Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/30f3bb92-27e7-4863-8ea4-c090405711a8/incoming/original.pdf","chunks":1,"timestamp":1764856368281}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":203,"durationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/30f3bb92-27e7-4863-8ea4-c090405711a8/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/30f3bb92-27e7-4863-8ea4-c090405711a8/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":4}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.285Z","level":"info","message":"process_cv_started","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","manualJobDescriptionProvided":true,"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.286Z","level":"info","message":"template_selection","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.286Z","level":"info","message":"initial_upload_completed","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","bucket":"test-bucket","key":"cv/candidate/30f3bb92-27e7-4863-8ea4-c090405711a8/incoming/original.pdf","template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.286Z","level":"info","message":"resume_text_extracted","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","characters":52,"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.287Z","level":"info","message":"document_classification_ai_metrics","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","templateId":"document_classification","templateVersion":"2024-05-18","promptDigest":"b660b3e8ecbc83aad9e6543dcb4a0d862627f82012d98cdb58b183fb5f0cc539","outputDigest":"ce4b8bd954f55aa4d760051876705884299536b3f182fa6f09cbd2aaee0a6b16","latencyMs":0,"isResume":false,"confidence":0.2,"template":"document_classification","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"document_classification","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.288Z","level":"info","message":"resume_classified","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","isResume":false,"description":"a short memo","confidence":0.2,"accepted":false,"overridden":false,"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.288Z","level":"warn","message":"resume_validation_failed","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","reason":"not_identified_as_resume","description":"a short memo","confidence":0.2,"wordCount":9,"invalidKey":"invalid/candidate/2025-12-04/30f3bb92-27e7-4863-8ea4-c090405711a8/a-short-memo-399701c5-cd6f-4472-abe8-65d6ce470975.docx","classification":"a short memo","template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25673:9
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.293Z","level":"warn","message":"api_error_response","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","status":400,"error":{"code":"INVALID_RESUME_CONTENT","message":"You have uploaded a short memo document (classified as \"short_memo\"). Missing resume structure. Please upload a correct CV or resume to continue.","details":{"description":"a short memo","confidence":0.2,"reason":"Missing resume structure.","classification":"a short memo","className":"short_memo","storageKey":"invalid/candidate/2025-12-04/30f3bb92-27e7-4863-8ea4-c090405711a8/a-short-memo-399701c5-cd6f-4472-abe8-65d6ce470975.docx","invalidStorageKey":"invalid/candidate/2025-12-04/30f3bb92-27e7-4863-8ea4-c090405711a8/a-short-memo-399701c5-cd6f-4472-abe8-65d6ce470975.docx"},"requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","jobId":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2"},"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"8f513246-e91d-4eb9-b0f4-e48f4ea9c4c2","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:25748:14
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.299Z","level":"info","message":"http_request_completed","requestId":"30f3bb92-27e7-4863-8ea4-c090405711a8","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":26,"contentLength":"748","template":"unknown","session":"30f3bb92-27e7-4863-8ea4-c090405711a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"30f3bb92-27e7-4863-8ea4-c090405711a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.302Z","level":"info","message":"http_request_received","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","method":"POST","path":"/api/process-cv","template":"unknown","session":"01af70b5-b9c4-4733-99c5-774d70a4db66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01af70b5-b9c4-4733-99c5-774d70a4db66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.303Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.304Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.306Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.307Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.309Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/01af70b5-b9c4-4733-99c5-774d70a4db66/incoming/original.pdf","chunks":1,"timestamp":1764856368311}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":203}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":203,"newSize":9,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/01af70b5-b9c4-4733-99c5-774d70a4db66/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/01af70b5-b9c4-4733-99c5-774d70a4db66/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":1}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.312Z","level":"info","message":"process_cv_started","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","jobId":"e87a64dc-d0ed-4322-947c-b353dabaf900","manualJobDescriptionProvided":false,"template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.313Z","level":"info","message":"template_selection","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","jobId":"e87a64dc-d0ed-4322-947c-b353dabaf900","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.313Z","level":"warn","message":"job_description_missing","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","jobId":"e87a64dc-d0ed-4322-947c-b353dabaf900","template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25102:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.319Z","level":"warn","message":"api_error_response","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","jobId":"e87a64dc-d0ed-4322-947c-b353dabaf900","status":400,"error":{"code":"JOB_DESCRIPTION_REQUIRED","message":"manualJobDescription required","details":{"field":"manualJobDescription"},"requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","jobId":"e87a64dc-d0ed-4322-947c-b353dabaf900"},"template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"e87a64dc-d0ed-4322-947c-b353dabaf900","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:25103:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:48.324Z","level":"info","message":"http_request_completed","requestId":"01af70b5-b9c4-4733-99c5-774d70a4db66","method":"POST","path":"/api/process-cv","statusCode":400,"durationMs":22,"contentLength":"244","template":"unknown","session":"01af70b5-b9c4-4733-99c5-774d70a4db66","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"01af70b5-b9c4-4733-99c5-774d70a4db66","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.326Z","level":"info","message":"http_request_received","requestId":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.327Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.328Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.330Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.331Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.332Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.333Z","level":"warn","message":"api_error_response","requestId":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","jobId":"804c7eee-3547-468d-94c9-b42d74e2d0e1","status":400,"error":{"code":"JOB_ID_REQUIRED","message":"jobId is required to generate enhanced documents.","details":{},"requestId":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","jobId":"804c7eee-3547-468d-94c9-b42d74e2d0e1"},"template":"unknown","session":"804c7eee-3547-468d-94c9-b42d74e2d0e1","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"804c7eee-3547-468d-94c9-b42d74e2d0e1","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at sendError (server.js:3970:3)
      at server.js:22512:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at assignJobContext (server.js:16423:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveStatic (node_modules/serve-static/index.js:75:16)
      at server.js:4958:14
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at tryServeHashedIndexAssetFromS3 (server.js:1192:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at serveIndexAssetAlias (server.js:1527:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4940:5
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at server.js:4934:3
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at urlencodedParser (node_modules/body-parser/lib/types/urlencoded.js:85:7)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at Function.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/body-parser/lib/read.js:137:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

  console.log
    {"timestamp":"2025-12-04T13:52:48.343Z","level":"info","message":"http_request_completed","requestId":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","method":"POST","path":"/api/generate-enhanced-docs","statusCode":400,"durationMs":17,"contentLength":"225","template":"unknown","session":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"93eac93c-21f1-4787-92f2-17c0c3c53ee2","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.345Z","level":"info","message":"http_request_received","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.346Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.347Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.348Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.350Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.350Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.351Z","level":"warn","message":"generation_job_context_missing","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.359Z","level":"info","message":"llm_call_metrics","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"7ff1a2fe49f8d71808c8d1fdb99db5320bf5a75739ee80e7efed665ea9588077","outputDigest":"5af248b63fed3c73350376c1d32988fbeb95f6a40181a19b7e450c5651a56ea6","addedSkillCount":0,"template":"resume_rewrite","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.359Z","level":"info","message":"generation_section_rewrite_completed","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.361Z","level":"info","message":"generation_resume_verified","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.364Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.369Z","level":"info","message":"generation_cover_letters_completed","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","variants":2,"fallbackApplied":true,"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.370Z","level":"info","message":"pdf_generation_attempt","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/enhanced_modern.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.370Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.371Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/enhanced_modern.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.371Z","level":"info","message":"pdf_generation_attempt","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/enhanced_professional.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.371Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.372Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/enhanced_professional.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.372Z","level":"info","message":"pdf_generation_attempt","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/cover_letter_cover_modern.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.373Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.373Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/cover_letter_cover_modern.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.374Z","level":"info","message":"pdf_generation_attempt","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/cover_letter_cover_professional.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.374Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.375Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jane_doe/613cf58f-0fb3-4601-943a-4789854675cd/cover_letter_cover_professional.pdf","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.377Z","level":"info","message":"llm_call_metrics","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.377Z","level":"info","message":"generation_completed","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","jobId":"job-123","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"613cf58f-0fb3-4601-943a-4789854675cd","enhancedScore":0,"outputs":4,"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.379Z","level":"info","message":"http_request_completed","requestId":"613cf58f-0fb3-4601-943a-4789854675cd","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":34,"contentLength":"55422","template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"613cf58f-0fb3-4601-943a-4789854675cd","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.383Z","level":"info","message":"http_request_received","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.384Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.385Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.386Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.387Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.388Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.389Z","level":"warn","message":"generation_job_context_missing","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.400Z","level":"info","message":"llm_call_metrics","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.400Z","level":"info","message":"generation_section_rewrite_completed","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.403Z","level":"info","message":"generation_resume_verified","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.412Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.417Z","level":"info","message":"generation_cover_letters_completed","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","variants":2,"fallbackApplied":true,"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.418Z","level":"info","message":"pdf_generation_attempt","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/enhanced_modern.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.418Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.419Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/enhanced_modern.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.419Z","level":"info","message":"pdf_generation_attempt","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/enhanced_professional.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.420Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.420Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/enhanced_professional.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.421Z","level":"info","message":"pdf_generation_attempt","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/cover_letter_cover_modern.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.421Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.421Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/cover_letter_cover_modern.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.422Z","level":"info","message":"pdf_generation_attempt","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/cover_letter_cover_professional.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.423Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.423Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/0235d373-731f-4fcd-bc3d-c73dc99fa4a8/cover_letter_cover_professional.pdf","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.427Z","level":"info","message":"llm_call_metrics","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.428Z","level":"info","message":"generation_completed","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","jobId":"job-789","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","enhancedScore":0,"outputs":4,"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.429Z","level":"info","message":"http_request_completed","requestId":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":46,"contentLength":"60025","template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"0235d373-731f-4fcd-bc3d-c73dc99fa4a8","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.433Z","level":"info","message":"http_request_received","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.434Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.435Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.437Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.438Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.439Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.440Z","level":"warn","message":"generation_job_context_missing","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.447Z","level":"info","message":"llm_call_metrics","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.448Z","level":"info","message":"generation_section_rewrite_completed","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.450Z","level":"info","message":"generation_resume_verified","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.453Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","invalidLetters":[{"key":"cover_letter1","issues":["placeholder_detected","weak_closing","section_heading_without_content"]}],"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.459Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","missing":["cover_letter1"],"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.464Z","level":"info","message":"generation_cover_letters_completed","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","variants":2,"fallbackApplied":true,"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.465Z","level":"info","message":"pdf_generation_attempt","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/enhanced_modern.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.465Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.466Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/enhanced_modern.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.466Z","level":"info","message":"pdf_generation_attempt","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/enhanced_professional.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.466Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.467Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/enhanced_professional.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.467Z","level":"info","message":"pdf_generation_attempt","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/cover_letter_cover_modern.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.468Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.468Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/cover_letter_cover_modern.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.469Z","level":"info","message":"pdf_generation_attempt","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/cover_letter_cover_professional.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.470Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.470Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/311f71c3-8cc1-4fcc-b2d6-a0469e4db760/cover_letter_cover_professional.pdf","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.473Z","level":"info","message":"llm_call_metrics","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.474Z","level":"info","message":"generation_completed","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","jobId":"job-790","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","enhancedScore":0,"outputs":4,"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.475Z","level":"info","message":"http_request_completed","requestId":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":42,"contentLength":"52626","template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"311f71c3-8cc1-4fcc-b2d6-a0469e4db760","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.478Z","level":"info","message":"http_request_received","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.479Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.480Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.481Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.482Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.483Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.484Z","level":"warn","message":"generation_job_context_missing","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.492Z","level":"info","message":"llm_call_metrics","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.492Z","level":"info","message":"generation_section_rewrite_completed","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.495Z","level":"info","message":"generation_resume_verified","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.498Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing"]}],"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.503Z","level":"info","message":"generation_cover_letters_confident_closing_applied","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","variants":["cover_letter1"],"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.505Z","level":"info","message":"generation_cover_letters_completed","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","variants":2,"fallbackApplied":true,"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.505Z","level":"info","message":"pdf_generation_attempt","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/enhanced_modern.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.506Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.506Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/enhanced_modern.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.507Z","level":"info","message":"pdf_generation_attempt","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/enhanced_professional.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.507Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.508Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/enhanced_professional.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.508Z","level":"info","message":"pdf_generation_attempt","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/cover_letter_cover_modern.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.508Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.509Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/cover_letter_cover_modern.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.509Z","level":"info","message":"pdf_generation_attempt","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/cover_letter_cover_professional.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.510Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.511Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0/cover_letter_cover_professional.pdf","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.513Z","level":"info","message":"llm_call_metrics","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.514Z","level":"info","message":"generation_completed","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","jobId":"job-791","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","enhancedScore":0,"outputs":4,"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.515Z","level":"info","message":"http_request_completed","requestId":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":37,"contentLength":"48347","template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a84c2080-7ec1-4f93-9eb7-3f3e45e2e8b0","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.518Z","level":"info","message":"http_request_received","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.518Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.520Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.521Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.522Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.523Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.524Z","level":"warn","message":"generation_job_context_missing","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.531Z","level":"info","message":"llm_call_metrics","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"016046a4dd6e9beb2138baa3a692ede4ee12035f6acaf36eda3794402430fa30","outputDigest":"82b466607071b76ad44b010d9f3c5dad5f21c3b0472edeccdf829c3b30e31b21","addedSkillCount":0,"template":"resume_rewrite","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.532Z","level":"info","message":"generation_section_rewrite_completed","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.534Z","level":"info","message":"generation_resume_verified","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.549Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","invalidLetters":[{"key":"cover_letter1","issues":["exceeds_word_limit"]},{"key":"cover_letter2","issues":["exceeds_word_limit"]}],"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.555Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.562Z","level":"info","message":"generation_cover_letters_completed","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","variants":2,"fallbackApplied":true,"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.562Z","level":"info","message":"pdf_generation_attempt","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/enhanced_modern.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.563Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.563Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/enhanced_modern.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.564Z","level":"info","message":"pdf_generation_attempt","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/enhanced_professional.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.564Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.565Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/enhanced_professional.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.565Z","level":"info","message":"pdf_generation_attempt","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/cover_letter_cover_modern.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.565Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.566Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/cover_letter_cover_modern.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.566Z","level":"info","message":"pdf_generation_attempt","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/cover_letter_cover_professional.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.567Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.567Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/jordan_smith/f697f6c6-b1e1-43cf-a390-05617019e2b4/cover_letter_cover_professional.pdf","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.574Z","level":"info","message":"llm_call_metrics","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.575Z","level":"info","message":"generation_completed","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","jobId":"job-792","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","enhancedScore":0,"outputs":4,"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.576Z","level":"info","message":"http_request_completed","requestId":"f697f6c6-b1e1-43cf-a390-05617019e2b4","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":58,"contentLength":"60025","template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"f697f6c6-b1e1-43cf-a390-05617019e2b4","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.579Z","level":"info","message":"http_request_received","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.580Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.582Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.583Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.584Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.585Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.586Z","level":"warn","message":"generation_job_context_missing","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","hasRecord":false,"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22704:11
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.593Z","level":"info","message":"llm_call_metrics","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d49fc3c9f3e6b68c516d8ed2277f352be0cdf73d24dc9159a6ddd8d2156f86c9","outputDigest":"df45602e27dd18441258611754779b1df94aaddbe2a7ac6965c12432f6053bc4","addedSkillCount":0,"template":"resume_rewrite","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.594Z","level":"info","message":"generation_section_rewrite_completed","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.596Z","level":"info","message":"generation_resume_verified","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.599Z","level":"warn","message":"generation_cover_letters_unavailable","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","unavailable":["cover_letter1","cover_letter2"],"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20747:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.604Z","level":"info","message":"generation_cover_letters_completed","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","variants":0,"fallbackApplied":false,"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.604Z","level":"info","message":"pdf_generation_attempt","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/enhanced_modern.pdf","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.605Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.607Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/enhanced_modern.pdf","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.608Z","level":"info","message":"pdf_generation_attempt","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/enhanced_professional.pdf","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.608Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.609Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/jamie_doe/5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b/enhanced_professional.pdf","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.610Z","level":"info","message":"llm_call_metrics","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"136b63d64ad668236536babb30929f4ae017d57f475d03cf87cb7ffa77361f81","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.610Z","level":"info","message":"generation_completed","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","jobId":"job-456","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","enhancedScore":0,"outputs":2,"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.612Z","level":"info","message":"http_request_completed","requestId":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":33,"contentLength":"32129","template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"5d5bfcb2-02c7-47bc-ab1b-f09d6305e69b","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.614Z","level":"info","message":"http_request_received","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.615Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.617Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.618Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.619Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.620Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.623Z","level":"warn","message":"generation_change_log_load_failed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22770:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22772:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.628Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.630Z","level":"info","message":"llm_call_metrics","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"acf1b9378acb575b229122bd0509d239fb40292b5a2de638f8974b10630dddf9","outputDigest":"d38deb915a9824cbd24a0a21322f3421cffa08850deba8b630d4c012e36accc6","addedSkillCount":0,"template":"resume_rewrite","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.631Z","level":"info","message":"generation_section_rewrite_completed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.631Z","level":"info","message":"llm_call_metrics","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"a89c45c951abfe25af2671eb78aaf142165e3f6bd78d4b83089b4f9a78e64f20","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.633Z","level":"info","message":"generation_resume_verified","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.636Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.641Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.647Z","level":"info","message":"generation_cover_letters_completed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","variants":2,"fallbackApplied":true,"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.647Z","level":"info","message":"pdf_generation_attempt","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.647Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.648Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.648Z","level":"info","message":"pdf_generation_attempt","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.649Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.649Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.650Z","level":"info","message":"pdf_generation_attempt","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.651Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.651Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.652Z","level":"info","message":"pdf_generation_attempt","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.652Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.653Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.656Z","level":"info","message":"llm_call_metrics","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"6daad81d53ca29e2440dbdfd5e7ac149ac9bc677f5bd5a926b958a85793be6c1","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.657Z","level":"info","message":"generation_completed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","jobId":"job-refresh","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","enhancedScore":0,"outputs":5,"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.659Z","level":"info","message":"http_request_completed","requestId":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":45,"contentLength":"52667","template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"3513ce0f-f0a1-44b6-bd67-2ee1eb68fc47","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.662Z","level":"info","message":"http_request_received","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","method":"POST","path":"/api/generate-enhanced-docs","template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.663Z","level":"info","message":"path_restoration_debug","reqPath":"/api/generate-enhanced-docs","reqUrl":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.664Z","level":"info","message":"request_received","path":"/api/generate-enhanced-docs","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.665Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.667Z","level":"info","message":"client_app_routes_entered","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.667Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/generate-enhanced-docs","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.669Z","level":"warn","message":"generation_change_log_load_failed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","bucket":"test-bucket","key":"cv/candidate/session/logs/change-log.json","error":{"name":"ReferenceError","message":"sessionScoreSnapshot is not defined","stack":"ReferenceError: sessionScoreSnapshot is not defined\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:22770:34\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"},"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:22772:13
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.674Z","level":"info","message":"generation_session_artifacts_refreshed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","reason":"job_description_changed","template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.676Z","level":"info","message":"llm_call_metrics","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","operation":"generate-enhanced-docs","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"fc71d2d7420045c9674c39d1bc893139670e4554452723b0b8930f14ae74efd1","outputDigest":"994365ee088ebf4da994d91479825476737b8633f45dc9441cf82f317f739457","addedSkillCount":0,"template":"resume_rewrite","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.677Z","level":"info","message":"generation_section_rewrite_completed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","modifiedTitle":"","addedSkills":0,"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.677Z","level":"info","message":"llm_call_metrics","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","operation":"project_summary","templateId":"project_summary","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"2941229673895ce87f4eb2dd47c041b77270273e0250170302676d5a10351fbf","outputDigest":"75c6ad88a636baf4af282fafc9f9a5fae9749d095ca7436662fbf69a3527ca15","skillCount":1,"template":"project_summary","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"project_summary","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.679Z","level":"info","message":"generation_resume_verified","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.681Z","level":"warn","message":"generation_cover_letters_structural_issues","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","invalidLetters":[{"key":"cover_letter1","issues":["weak_closing","missing_greeting"]},{"key":"cover_letter2","issues":["weak_closing","missing_greeting"]}],"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20541:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.warn
    {"timestamp":"2025-12-04T13:52:48.687Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:23007:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.694Z","level":"info","message":"generation_cover_letters_completed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","variants":2,"fallbackApplied":true,"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.694Z","level":"info","message":"pdf_generation_attempt","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.695Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.696Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/candidate/session/","template":"modern","attempt":1,"bytes":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/candidate/session/enhanced_modern.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.696Z","level":"info","message":"pdf_generation_attempt","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.696Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.697Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/candidate/session/","template":"professional","attempt":1,"bytes":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/candidate/session/enhanced_professional.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.697Z","level":"info","message":"pdf_generation_attempt","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.698Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.698Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/candidate/session/","template":"cover_modern","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_modern.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.699Z","level":"info","message":"pdf_generation_attempt","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.699Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.699Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/candidate/session/","template":"cover_professional","attempt":1,"bytes":3,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/candidate/session/cover_letter_cover_professional.pdf","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.701Z","level":"info","message":"llm_call_metrics","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"bb70bada40357e7ad85703e98908783ac38c79f83207e1ee038136c2f4863594","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.702Z","level":"info","message":"generation_completed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","jobId":"job-refresh-auto","route":"generate-enhanced-docs","sessionId":"[REDACTED]","generationRunId":"85cb63bc-eebe-4fb3-9082-790322019706","enhancedScore":0,"outputs":5,"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.703Z","level":"info","message":"http_request_completed","requestId":"85cb63bc-eebe-4fb3-9082-790322019706","method":"POST","path":"/api/generate-enhanced-docs","statusCode":200,"durationMs":41,"contentLength":"50998","template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"85cb63bc-eebe-4fb3-9082-790322019706","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.707Z","level":"info","message":"http_request_received","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","method":"POST","path":"/api/process-cv","template":"unknown","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.708Z","level":"info","message":"path_restoration_debug","reqPath":"/api/process-cv","reqUrl":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.709Z","level":"info","message":"request_received","path":"/api/process-cv","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.711Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.712Z","level":"info","message":"client_app_routes_entered","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.714Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/process-cv","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"event":"s3_streaming_storage_end","bucket":"test-bucket","key":"cv/candidate/98c761f9-01f0-4598-a5a1-5c62c551af72/incoming/original.pdf","chunks":1,"timestamp":1764856368732}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:96:17)

  console.log
    {"event":"s3_streaming_storage_stripping_metadata","size":5}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:101:21)

  console.log
    {"event":"s3_streaming_storage_metadata_stripped","originalSize":5,"newSize":5,"durationMs":0}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:112:21)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploading","bucket":"test-bucket","key":"cv/candidate/98c761f9-01f0-4598-a5a1-5c62c551af72/incoming/original.pdf","streaming":false}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:134:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"event":"s3_streaming_storage_uploaded","bucket":"test-bucket","key":"cv/candidate/98c761f9-01f0-4598-a5a1-5c62c551af72/incoming/original.pdf","uploadDurationMs":0,"totalDurationMs":2}

      at FileStream.log (lib/uploads/s3StreamingStorage.js:148:19)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.735Z","level":"info","message":"process_cv_started","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","manualJobDescriptionProvided":true,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.736Z","level":"info","message":"template_selection","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","template1":"modern","template2":"professional","coverTemplate1":"cover_modern","coverTemplate2":"cover_professional","availableCvTemplates":["modern","professional","classic","ats","2025"],"availableCoverTemplates":["cover_modern","cover_professional","cover_classic","cover_ats","cover_2025"],"template":"modern","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.737Z","level":"warn","message":"initial_upload_content_type_adjusted","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","originalContentType":"application/pdf","normalizedContentType":"application/octet-stream","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at server.js:25138:7
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at server.js:24778:9
      at done (node_modules/multer/lib/make-middleware.js:47:7)
      at indicateDone (node_modules/multer/lib/make-middleware.js:51:68)
      at Multipart.<anonymous> (node_modules/multer/lib/make-middleware.js:168:7)

  console.log
    {"timestamp":"2025-12-04T13:52:48.749Z","level":"info","message":"initial_upload_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","bucket":"test-bucket","key":"cv/candidate/98c761f9-01f0-4598-a5a1-5c62c551af72/incoming/original.pdf","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.750Z","level":"info","message":"resume_text_extracted","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","characters":57,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.751Z","level":"info","message":"resume_classified","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","isResume":true,"description":"a professional resume","confidence":0.6,"accepted":true,"overridden":false,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.753Z","level":"info","message":"raw_upload_relocated","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","bucket":"test-bucket","fromKey":"cv/candidate/98c761f9-01f0-4598-a5a1-5c62c551af72/incoming/original.pdf","toKey":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/original.pdf","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.753Z","level":"info","message":"dynamo_upload_metadata_written","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","bucket":"test-bucket","key":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/original.pdf","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.754Z","level":"info","message":"dynamo_initial_record_written","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","bucket":"test-bucket","key":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/original.pdf","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.755Z","level":"info","message":"upload_metadata_written","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","bucket":"test-bucket","key":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/logs/log.json","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.755Z","level":"info","message":"job_description_supplied_manually","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","characters":174,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.756Z","level":"info","message":"job_description_analyzed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","jobTitle":"","jobSkills":5,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.756Z","level":"info","message":"resume_skills_analyzed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","resumeSkills":0,"originalMatchScore":0,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.757Z","level":"info","message":"llm_call_metrics","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"0f23e30118332cb317b321fbc51c72eabce20d1740aeab86d234c61eb834fecd","resourceCount":3,"skillCount":3,"outcome":"fallback","template":"learning_resources","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.758Z","level":"info","message":"process_cv_scoring_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","applicantName":"Professional Summary","originalScore":0,"enhancedScore":0,"missingSkills":5,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.761Z","level":"info","message":"llm_call_metrics","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","operation":"resume_rewrite","templateId":"resume_rewrite","templateVersion":"2024-05-18","model":"gemini-1.5-flash","latencyMs":0,"promptDigest":"d69171b70c5a2cbb98ee75a68e68f51de11cca27fc634d9a1718d385acb81bf7","outputDigest":"e0b0f289a004a53fc90e2f086b7a8368b36f3cb57e330732da1cad386d479cd5","addedSkillCount":0,"template":"resume_rewrite","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"resume_rewrite","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.762Z","level":"info","message":"generation_section_rewrite_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","modifiedTitle":"Senior Engineer","addedSkills":0,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.767Z","level":"info","message":"generation_resume_verified","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.771Z","level":"warn","message":"generation_cover_letters_fallback","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","missing":["cover_letter1","cover_letter2"],"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generateEnhancedDocumentsResponse (server.js:20730:7)
          at runMicrotasks (<anonymous>)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.778Z","level":"info","message":"generation_cover_letters_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","variants":2,"fallbackApplied":true,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.779Z","level":"info","message":"pdf_generation_attempt","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"modern","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_modern.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.780Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:52:48.781Z","level":"error","message":"pdf_generation_attempt_failed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"modern","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3364:27)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_modern.pdf","environment":{"nodeEnv":"development","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
          at runMicrotasks (<anonymous>)
      at generateEnhancedDocumentsResponse (server.js:21308:11)
      at server.js:26737:28

  console.log
    {"timestamp":"2025-12-04T13:52:48.788Z","level":"info","message":"pdf_generation_attempt","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","attempt":2,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.790Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.791Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.792Z","level":"info","message":"pdf_generation_attempt","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","attempt":1,"totalAttempts":5,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.793Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","resumeExperience"],"templateParamKeys":[],"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.794Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"resume","outputName":"version2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"professional","attempt":1,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/enhanced_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.795Z","level":"info","message":"pdf_generation_attempt","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/cover_letter_cover_modern.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.795Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_modern","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.796Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter1","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_modern","attempt":1,"bytes":16,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/cover_letter_cover_modern.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.798Z","level":"info","message":"pdf_generation_attempt","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"totalAttempts":5,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/cover_letter_cover_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.798Z","level":"debug","message":"pdf_generation_options_prepared","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_professional","optionKeys":["jobSkills","linkedinExperience","resumeEducation","linkedinEducation","resumeCertifications","linkedinCertifications","credlyCertifications","credlyProfileUrl","jobTitle","project","contactLines","contactDetails","email","phone","cityState","linkedinProfileUrl","sectionOrder","sectionFallbacks","templateParams","enhancementTokenMap","skipRequiredSections"],"templateParamKeys":[],"session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.799Z","level":"info","message":"pdf_generation_attempt_succeeded","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","documentType":"cover_letter","outputName":"cover_letter2","outputKeyPrefix":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/","sessionId":"[REDACTED]","template":"cover_professional","attempt":1,"bytes":22,"targetFileName":"cover_letter_cover_professional.pdf","targetFilePath":"cv/professional_summary/98c761f9-01f0-4598-a5a1-5c62c551af72/cover_letter_cover_professional.pdf","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"cover_professional","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.802Z","level":"info","message":"llm_call_metrics","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","operation":"learning_resources","templateId":"learning_resources","templateVersion":"2024-05-18","model":"gemini-1.5-flash","outputDigest":"b81624598eca82514b81f4fd0ef858c4f8eda9605bf4a3b33ed31144fa2daed3","resourceCount":1,"skillCount":1,"outcome":"fallback","template":"learning_resources","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"learning_resources","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.802Z","level":"info","message":"generation_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","generationRunId":"98c761f9-01f0-4598-a5a1-5c62c551af72","enhancedScore":80,"outputs":5,"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.807Z","level":"info","message":"placeholder_record_deleted","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","jobId":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","placeholderIdentifier":"98c761f9-01f0-4598-a5a1-5c62c551af72","template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a9fbbb73-39b9-4ee1-bd9a-cd536230a153","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.809Z","level":"info","message":"http_request_completed","requestId":"98c761f9-01f0-4598-a5a1-5c62c551af72","method":"POST","path":"/api/process-cv","statusCode":200,"durationMs":102,"contentLength":"59519","template":"unknown","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"98c761f9-01f0-4598-a5a1-5c62c551af72","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.816Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":2,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.821Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:52:48.822Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3469:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3483:20)

  console.log
    {"timestamp":"2025-12-04T13:52:48.832Z","level":"info","message":"pdf_generation_backstop_succeeded","documentType":"resume","template":"2025","templatesBackstopped":["2025"],"backstopResults":[{"templateId":"2025","bytes":1024}],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.833Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":2,"totalAttempts":2,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.834Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.835Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"modern","attempt":2,"bytes":10,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.838Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"modern","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.840Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:52:48.841Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"modern","attempt":1,"error":{"name":"Error","message":"Modern renderer unavailable","stack":"Error: Modern renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3508:30)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_modern.pdf","targetFilePath":"enhanced_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3512:20)

  console.log
    {"timestamp":"2025-12-04T13:52:48.849Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.850Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.852Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.853Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"2025","attempt":1,"totalAttempts":3,"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.854Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"2025","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:52:48.855Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"resume","template":"2025","attempt":1,"error":{"name":"Error","message":"Renderer unavailable","code":"TEMPLATE_RENDER_FAILED","stack":"Error: Renderer unavailable\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3530:25)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"enhanced_2025.pdf","targetFilePath":"enhanced_2025.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"2025","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3543:20)

  console.log
    {"timestamp":"2025-12-04T13:52:48.862Z","level":"info","message":"pdf_generation_attempt","documentType":"resume","template":"professional","attempt":2,"totalAttempts":3,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.863Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"resume","template":"professional","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.863Z","level":"info","message":"pdf_generation_attempt_succeeded","documentType":"resume","template":"professional","attempt":2,"bytes":16,"targetFileName":"enhanced_professional.pdf","targetFilePath":"enhanced_professional.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"professional","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.865Z","level":"info","message":"pdf_generation_attempt","documentType":"cover_letter","template":"cover_modern","attempt":1,"totalAttempts":1,"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.865Z","level":"debug","message":"pdf_generation_options_prepared","documentType":"cover_letter","template":"cover_modern","optionKeys":[],"templateParamKeys":[],"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.error
    {"timestamp":"2025-12-04T13:52:48.867Z","level":"error","message":"pdf_generation_attempt_failed","documentType":"cover_letter","template":"cover_modern","attempt":1,"error":{"name":"Error","message":"Primary renderer offline","stack":"Error: Primary renderer offline\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3561:48)\n    at Promise.then.completed (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:316:40)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at _runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/node_modules/jest-runner/build/runTest.js:444:34)"},"targetFileName":"cover_letter_cover_modern.pdf","targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11014:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.warn
    {"timestamp":"2025-12-04T13:52:48.875Z","level":"warn","message":"pdf_generation_plain_fallback_invoked","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11158:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:52:48.882Z","level":"error","message":"pdf_generation_plain_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","error":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9794:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11162:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"forcedFallback":false,"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11207:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:52:48.892Z","level":"error","message":"pdf_generation_minimal_fallback_failed","documentType":"cover_letter","template":"cover_modern","templates":["cover_modern"],"environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"targetFilePath":"cover_letter_cover_modern.pdf","forcedFallback":false,"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11228:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"previousError":{"name":"Error","message":"Plain fallback offline","stack":"Error: Plain fallback offline\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3563:13\n    at generatePlainPdfFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:9794:12)\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11162:36)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11251:7)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.error
    {"timestamp":"2025-12-04T13:52:48.899Z","level":"error","message":"pdf_generation_all_attempts_failed","documentType":"cover_letter","templates":["cover_modern"],"error":{"name":"Error","message":"Minimal fallback unavailable","stack":"Error: Minimal fallback unavailable\n    at /Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3566:13\n    at generatePdfWithFallback (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/server.js:11228:29)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at Object.<anonymous> (/Users/pushkarmishra/Documents/ResumeForge/ResumeForge/tests/server.test.mjs:3598:5)"},"targetFilePath":"cover_letter_cover_modern.pdf","environment":{"nodeEnv":"test","runtime":"v16.17.0","platform":"darwin","arch":"arm64","awsRegion":"us-east-1","plainPdfFallbackEnabled":false},"summary":"Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable","messages":["Unable to generate cover letter PDF. Tried templates: Modern Cover Letter. Last error: Minimal fallback unavailable"],"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"cover_modern","session":"unknown","build":"local-dev","artifactType":"none"}}

      3459 |     const safePayload = sanitizeLogPayload(payload);
      3460 |     const serialised = JSON.stringify(safePayload);
    > 3461 |     logFn(serialised);
           |     ^
      3462 |     if (level === 'error') {
      3463 |       scheduleErrorLog(safePayload);
      3464 |     }

      at logStructured (server.js:3461:5)
      at generatePdfWithFallback (server.js:11273:3)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (tests/server.test.mjs:3598:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.960Z","level":"info","message":"http_request_received","requestId":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","method":"POST","path":"/api/change-log","template":"unknown","session":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.962Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.964Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.966Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.968Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.969Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.978Z","level":"info","message":"change_log_updated","requestId":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:48.980Z","level":"info","message":"http_request_completed","requestId":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":20,"contentLength":"48197","template":"unknown","session":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"c8e28c4a-031d-4d08-bfbd-fbb11a1c0898","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.988Z","level":"info","message":"http_request_received","requestId":"bdf348af-9694-4458-b736-8990954f879e","method":"POST","path":"/api/change-log","template":"unknown","session":"bdf348af-9694-4458-b736-8990954f879e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdf348af-9694-4458-b736-8990954f879e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.990Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.992Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.994Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.996Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:48.997Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.001Z","level":"info","message":"change_log_updated","requestId":"bdf348af-9694-4458-b736-8990954f879e","jobId":"job-321","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-321","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-321","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.001Z","level":"info","message":"http_request_completed","requestId":"bdf348af-9694-4458-b736-8990954f879e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":13,"contentLength":"1958","template":"unknown","session":"bdf348af-9694-4458-b736-8990954f879e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"bdf348af-9694-4458-b736-8990954f879e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.008Z","level":"info","message":"http_request_received","requestId":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","method":"POST","path":"/api/change-log","template":"unknown","session":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.010Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.012Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.013Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.015Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.016Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.019Z","level":"info","message":"change_log_updated","requestId":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","jobId":"job-789","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-789","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-789","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.020Z","level":"info","message":"http_request_completed","requestId":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":12,"contentLength":"6061","template":"unknown","session":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"4061f2ce-ad37-4b9e-ab59-50ebaa344a8a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.025Z","level":"info","message":"http_request_received","requestId":"33c38792-71b0-4025-8ff3-2eebaef39d60","method":"POST","path":"/api/change-log","template":"unknown","session":"33c38792-71b0-4025-8ff3-2eebaef39d60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33c38792-71b0-4025-8ff3-2eebaef39d60","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.027Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.029Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.030Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.032Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.033Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.035Z","level":"info","message":"change_log_updated","requestId":"33c38792-71b0-4025-8ff3-2eebaef39d60","jobId":"job-session","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-session","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-session","build":"local-dev","artifactType":"none"},"userId":"user-789"}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.035Z","level":"info","message":"http_request_completed","requestId":"33c38792-71b0-4025-8ff3-2eebaef39d60","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":10,"contentLength":"1213","template":"unknown","session":"33c38792-71b0-4025-8ff3-2eebaef39d60","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"33c38792-71b0-4025-8ff3-2eebaef39d60","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.038Z","level":"info","message":"http_request_received","requestId":"13f24a84-cfc2-467e-a1b9-e48c075d567e","method":"POST","path":"/api/change-log","template":"unknown","session":"13f24a84-cfc2-467e-a1b9-e48c075d567e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13f24a84-cfc2-467e-a1b9-e48c075d567e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.039Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.041Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.043Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.045Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.047Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.049Z","level":"info","message":"change_log_updated","requestId":"13f24a84-cfc2-467e-a1b9-e48c075d567e","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.050Z","level":"info","message":"http_request_completed","requestId":"13f24a84-cfc2-467e-a1b9-e48c075d567e","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":12,"contentLength":"789","template":"unknown","session":"13f24a84-cfc2-467e-a1b9-e48c075d567e","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"13f24a84-cfc2-467e-a1b9-e48c075d567e","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.055Z","level":"info","message":"http_request_received","requestId":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","method":"POST","path":"/api/change-log","template":"unknown","session":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.056Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.059Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.061Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.063Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.064Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.066Z","level":"info","message":"change_log_updated","requestId":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.066Z","level":"info","message":"http_request_completed","requestId":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":11,"contentLength":"350","template":"unknown","session":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a5d67cc0-5c82-47c1-a0a1-07df15ad18be","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.069Z","level":"info","message":"http_request_received","requestId":"241ea418-a641-467c-baec-a92cd8943ccf","method":"POST","path":"/api/change-log","template":"unknown","session":"241ea418-a641-467c-baec-a92cd8943ccf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"241ea418-a641-467c-baec-a92cd8943ccf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.070Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.072Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.074Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.079Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.080Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.082Z","level":"info","message":"change_log_updated","requestId":"241ea418-a641-467c-baec-a92cd8943ccf","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.083Z","level":"info","message":"http_request_completed","requestId":"241ea418-a641-467c-baec-a92cd8943ccf","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":14,"contentLength":"1151","template":"unknown","session":"241ea418-a641-467c-baec-a92cd8943ccf","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"241ea418-a641-467c-baec-a92cd8943ccf","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.088Z","level":"info","message":"http_request_received","requestId":"a2c26111-ac9d-49a3-89f2-5070810fd52a","method":"POST","path":"/api/change-log","template":"unknown","session":"a2c26111-ac9d-49a3-89f2-5070810fd52a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2c26111-ac9d-49a3-89f2-5070810fd52a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.090Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.092Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.094Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.096Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.098Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.103Z","level":"info","message":"change_log_updated","requestId":"a2c26111-ac9d-49a3-89f2-5070810fd52a","jobId":"job-123","route":"change-log","entries":0,"action":"remove","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.103Z","level":"info","message":"http_request_completed","requestId":"a2c26111-ac9d-49a3-89f2-5070810fd52a","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":15,"contentLength":"596","template":"unknown","session":"a2c26111-ac9d-49a3-89f2-5070810fd52a","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"a2c26111-ac9d-49a3-89f2-5070810fd52a","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.110Z","level":"info","message":"http_request_received","requestId":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","method":"POST","path":"/api/change-log","template":"unknown","session":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.113Z","level":"info","message":"path_restoration_debug","reqPath":"/api/change-log","reqUrl":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.115Z","level":"info","message":"request_received","path":"/api/change-log","method":"POST","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.118Z","level":"info","message":"service_filter_entry","allowListSize":"not-set","allowList":[],"path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.121Z","level":"info","message":"client_app_routes_entered","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.124Z","level":"info","message":"try_serve_hashed_asset_entry","path":"/api/change-log","template":"unknown","session":"unknown","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"unknown","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

  console.log
    {"timestamp":"2025-12-04T13:52:49.130Z","level":"info","message":"change_log_updated","requestId":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","jobId":"job-123","route":"change-log","entries":1,"action":"upsert","template":"unknown","session":"job-123","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"job-123","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)
          at runMicrotasks (<anonymous>)

  console.log
    {"timestamp":"2025-12-04T13:52:49.132Z","level":"info","message":"http_request_completed","requestId":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","method":"POST","path":"/api/change-log","statusCode":200,"durationMs":22,"contentLength":"2337","template":"unknown","session":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","build":"local-dev","artifactType":"none","metadata":{"template":"unknown","session":"6e159ba5-eaf0-43dd-9843-4dc82efab0d5","build":"local-dev","artifactType":"none"}}

      at logStructured (server.js:3461:5)

FAIL tests/server.test.mjs (156.912 s)
  health check
     GET /healthz (61 ms)
  static asset fallbacks
     GET /favicon.ico returns 204 (20 ms)
     serves hashed index asset from S3 when local file is missing (32 ms)
     serves hashed index asset directly from the bundled client when available (37 ms)
     strips API Gateway stage prefixes before resolving static index aliases (33 ms)
     performs HEAD lookup against S3 for hashed index asset metadata (35 ms)
     serves the latest index asset alias via S3 when local files are unavailable (30003 ms)
     serves the index asset alias via the S3 manifest when the local manifest is missing (30005 ms)
     serves the index asset alias when the manifest contains prefixed S3 keys (30003 ms)
     serves the index asset alias via manifest fallback when the primary bundle is missing from S3 (30003 ms)
  static asset proxy endpoint
     serves the index alias via the local build (51 ms)
     normalizes stray punctuation in proxy asset queries (25 ms)
     strips inline alias annotations from hashed proxy asset queries (37 ms)
     falls back to S3 when the hashed bundle is unavailable locally (29997 ms)
     degrades hashed proxy requests to the index alias when upstream assets are missing (149 ms)
     degrades direct hashed asset requests to the index alias when upstream bundles are missing (110 ms)
     rejects invalid asset paths (56 ms)
  static asset manifest endpoint
     returns manifest data when available (47 ms)
     allows forcing a manifest refresh via query parameter (89 ms)
     returns 503 when manifest is unavailable (115 ms)
  /api/process-cv
     handles DynamoDB table lifecycle (535 ms)
     removes stale session change logs when starting a new upload session (259 ms)
     removes session change log data when the session prefix is reused (143 ms)
     requires manual job description input (139 ms)
     sanitizes manual job description input before analysis (119 ms)
     rejects manual job description input containing prohibited HTML tags (34 ms)
     stores sanitized job description as session input metadata (74 ms)
     accepts uploads without a LinkedIn profile URL (77 ms)
     malformed AI response (85 ms)
     handles code-fenced JSON with extra text (97 ms)
     handles JSON surrounded by text (98 ms)
     returns presigned PDF URLs with labeled asset types (82 ms)
     returns a structured error when download URLs cannot be generated (163 ms)
     cover letter urls include structured metadata (104 ms)
     uses provided templates in preferred order (80 ms)
     uses templates array (97 ms)
     filters AI guidance lines (87 ms)
     resume prompt asks for a project matching job skills (67 ms)
     inserts project into resume text (71 ms)
     adds project section when job description provided (65 ms)
     cover letters omit placeholder sections (64 ms)
     normalizes structured cover letter responses into text (57 ms)
     uses sanitized resume fallback when AI returns plain text for versions (63 ms)
     falls back to plain PDFs when template rendering fails (230 ms)
     final CV includes updated title, project, and skills (60 ms)
     missing file (31 ms)
     unsupported file type (27 ms)
     rejects non-resume content with descriptive feedback (32 ms)
     requires re-upload when classification does not identify a CV (29 ms)
     missing job description text (24 ms)
    download link refresh
       resigns an existing artifact key for the active job (26 ms)
       returns not found when the storage key does not match the job context (16 ms)
    resume size handling
       accepts tiny PDF (32 KB) uploads up to 5 MB (52 ms)
       accepts small DOCX (256 KB) uploads up to 5 MB (73 ms)
       accepts mid-sized PDF (2 MB) uploads up to 5 MB (61 ms)
       accepts near-limit DOCX (just under 5 MB) uploads up to 5 MB (115 ms)
       rejects resumes larger than 5 MB (36 ms)
  /api/generate-enhanced-docs
     responds with structured details when jobId is missing (19 ms)
     queues message when fallback cover letters are used (38 ms)
     replaces whitespace cover letters with fallback copy (50 ms)
     audits cover letters for placeholders and applies fallback (45 ms)
     replaces weak closing cover letters with confident fallback copy (40 ms)
     replaces cover letters exceeding the word limit with confident fallback copy (61 ms)
     surfaces message when cover letters remain unavailable (35 ms)
     refreshes session artifacts when job description changes for a new enhancement (47 ms)
     refreshes session artifacts automatically when job description changes (44 ms)
     persists template vs population errors in stage metadata (110 ms)
  generatePdfWithFallback
     records retry message when 2025 renderer fails (22 ms)
     announces next template when fallback occurs for non-2025 resume (15 ms)
     announces actual next template when 2025 fallback prefers contrast option (11 ms)
     throws explicit PdfGenerationError with summary when all strategies fail (44 ms)
  classifyDocument
     identifies resumes by section structure (1 ms)
     detects cover letters
     rejects job descriptions that mimic resume sections
  extractText
     extracts text from pdf
     extracts text from docx
     guides user when pdf parsing fails (30 ms)
     guides user when docx parsing fails (2 ms)
     extracts text from doc (5 ms)
     rejects plain text files
  client download labels
     App displays correct labels for each file type (7 ms)
  change log persistence safeguards
     truncates oversized change log fields before persisting (30 ms)
     persists category changelog details for ATS, skills, and related sections (21 ms)
     captures rescore summary and updates session score snapshot (16 ms)
     stores session change logs under a user session prefix when no prior key exists (13 ms)
  change log session visibility
     persists reverted entries when updating the change log (16 ms)
     stores rejected entries in the session change log dismissed list (15 ms)
     persists cover letter change log payloads to S3 (18 ms)
     removing a cover letter entry records dismissal state in S3 (20 ms)
     persists activity logs from nested payloads into the session change log (31 ms)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    ReferenceError: metadataConfig is not defined

      1425 |   if (await serveHashedIndexAssetFromS3({
      1426 |     assetPath: remoteHashedAssetPath,
    > 1427 |     bucket: metadataConfig.bucket,
           |             ^
      1428 |     prefix: metadataConfig.prefix,
      1429 |     res,
      1430 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1427:13)
      at serveIndexAssetAlias (server.js:1536:3)

   static asset fallbacks  serves the latest index asset alias via S3 when local files are unavailable

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      311 |   });
      312 |
    > 313 |   test('serves the latest index asset alias via S3 when local files are unavailable', async () => {
          |   ^
      314 |     const cssAliasName = 'index-test-alias.css';
      315 |     const jsAliasName = 'index-test-alias.js';
      316 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"><script type="module" src="./assets/${jsAliasName}"></script></head><body></body></html>`;

      at tests/server.test.mjs:313:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    ReferenceError: metadataConfig is not defined

      1425 |   if (await serveHashedIndexAssetFromS3({
      1426 |     assetPath: remoteHashedAssetPath,
    > 1427 |     bucket: metadataConfig.bucket,
           |             ^
      1428 |     prefix: metadataConfig.prefix,
      1429 |     res,
      1430 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1427:13)
      at serveIndexAssetAlias (server.js:1536:3)

   static asset fallbacks  serves the index asset alias via the S3 manifest when the local manifest is missing

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      381 |   });
      382 |
    > 383 |   test('serves the index asset alias via the S3 manifest when the local manifest is missing', async () => {
          |   ^
      384 |     const cssAliasName = 'index-manifest-only.css';
      385 |     const cssBody = '.manifest-only { color: #09f; }';
      386 |

      at tests/server.test.mjs:383:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    ReferenceError: metadataConfig is not defined

      1425 |   if (await serveHashedIndexAssetFromS3({
      1426 |     assetPath: remoteHashedAssetPath,
    > 1427 |     bucket: metadataConfig.bucket,
           |             ^
      1428 |     prefix: metadataConfig.prefix,
      1429 |     res,
      1430 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1427:13)
      at serveIndexAssetAlias (server.js:1536:3)

   static asset fallbacks  serves the index asset alias when the manifest contains prefixed S3 keys

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      449 |   });
      450 |
    > 451 |   test('serves the index asset alias when the manifest contains prefixed S3 keys', async () => {
          |   ^
      452 |     const cssAliasName = 'index-prefixed.css';
      453 |     const cssBody = '.prefixed { color: #0c0; }';
      454 |

      at tests/server.test.mjs:451:3
      at tests/server.test.mjs:238:1

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    ReferenceError: metadataConfig is not defined

      1425 |   if (await serveHashedIndexAssetFromS3({
      1426 |     assetPath: remoteHashedAssetPath,
    > 1427 |     bucket: metadataConfig.bucket,
           |             ^
      1428 |     prefix: metadataConfig.prefix,
      1429 |     res,
      1430 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1427:13)
      at serveIndexAssetAlias (server.js:1536:3)

   static asset fallbacks  serves the index asset alias via manifest fallback when the primary bundle is missing from S3

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      519 |   });
      520 |
    > 521 |   test('serves the index asset alias via manifest fallback when the primary bundle is missing from S3', async () => {
          |   ^
      522 |     const cssAliasName = 'index-missing.css';
      523 |     const fallbackCssName = 'index-existing.css';
      524 |     const manifestHtml = `<!doctype html><html><head><link rel="stylesheet" href="./assets/${cssAliasName}"></head><body></body></html>`;

      at tests/server.test.mjs:521:3
      at tests/server.test.mjs:238:1

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    ReferenceError: metadataConfig is not defined

      1425 |   if (await serveHashedIndexAssetFromS3({
      1426 |     assetPath: remoteHashedAssetPath,
    > 1427 |     bucket: metadataConfig.bucket,
           |             ^
      1428 |     prefix: metadataConfig.prefix,
      1429 |     res,
      1430 |     logContext: { ...logContext, ...logLabels },

      at handleIndexAssetAliasRequest (server.js:1427:13)
      at server.js:19109:20

   static asset proxy endpoint  falls back to S3 when the hashed bundle is unavailable locally

    thrown: "Exceeded timeout of 30000 ms for a test.
    Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout."

      666 |   });
      667 |
    > 668 |   test('falls back to S3 when the hashed bundle is unavailable locally', async () => {
          |   ^
      669 |     const originalReadFile = fsPromises.readFile;
      670 |     const readFileSpy = jest
      671 |       .spyOn(fsPromises, 'readFile')

      at tests/server.test.mjs:668:3
      at tests/server.test.mjs:611:1

Test Suites: 1 failed, 1 total
Tests:       5 failed, 85 passed, 90 total
Snapshots:   0 total
Time:        156.969 s, estimated 159 s
Ran all test suites matching /tests\/server.test.mjs/i.
Test Suites: 1 failed, 1 total
Tests:       5 failed, 85 passed, 90 total
Snapshots:   0 total
Time:        156.982 s, estimated 159 s
Ran all test suites matching /tests\/server.test.mjs/i.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
